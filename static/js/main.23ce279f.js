/*! For license information please see main.23ce279f.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function j(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,_e=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){Ie?_e?_e.push(e):_e=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=_e;if(_e=Ie=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Ie||null!==_e)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function je(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,It,_t,St,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function zt(){Et=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Nt&&Vt(Nt)&&(Nt=null),Rt.forEach(Ut),Pt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return jt(t,e)}if(0<Tt.length){jt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&jt(Ct,e),null!==At&&jt(At,e),null!==Nt&&jt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Sn(){return _n}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Vr(e,0)}function $n(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Kn(t,Hn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ir={},_r={};function Sr(e){if(Ir[e])return Ir[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Ir[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(je.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=jn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ii=-1;function _i(e){return{current:e}}function Si(e){0>Ii||(e.current=xi[Ii],xi[Ii]=null,Ii--)}function Ei(e,t){Ii++,xi[Ii]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ai=_i(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ai),Si(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ei(Ci,e)):Si(Ai),Ei(Ai,n)}var Vi=null,Ui=!1,zi=!1;function ji(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!zi&&null!==Vi){zi=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),He(Ze,Bi),i}finally{kt=t,zi=!1}}return null}var qi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ja={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ni:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ja.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===I?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===I){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===I?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Vc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=_i(Ja),eo=_i(Ja),to=_i(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Vo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return To().memoizedState}function jo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return jo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Vo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:zo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:zo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Iu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Os,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Os,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Os,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Os,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Ri(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Ri(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(za(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Ri(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(za(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ou,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,zu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return zu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,zu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),zu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ia(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Hu(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Du(e,t),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),Du(e,t),null===e&&Br(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(){},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Sc(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Zu=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var c=Xu;if(Yu=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?Is(i):null!==s?(s.return=o,Zu=s):Is(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Yu=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function Is(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{as(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var _s,Ss=Math.ceil,Es=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Rs=null,Ps=0,Ds=0,Os=_i(0),Ls=0,Ms=null,Fs=0,Vs=0,Us=0,zs=null,js=null,Bs=0,qs=1/0,Ws=null,Ks=!1,Gs=null,Hs=null,Qs=!1,$s=null,Ys=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&As)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(Vs|=n),4===Ls&&sc(e,Ps)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ps:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,ji(e)}(cc.bind(null,e)):ji(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Ps===t||(Ws=null,qs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Es.current=o,As=i,null!==Rs?t=0:(Ns=null,Ps=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,js,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,js,Ws),t);break}xc(e,js,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,js,Ws),r);break}xc(e,js,Ws);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=zs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=js,js=n,null!==t&&uc(t)),e}function uc(e){null===js?js=e:js.push.apply(js,e)}function sc(e,t){for(t&=~Us,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));Ic();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,js,Ws),ic(e,Xe()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Xe()+500,Ui&&Bi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&As)&&Ic();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function hc(){Ds=Os.current,Si(Os)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Rs=e=Oc(e.current,null),Ps=Ds=t,Ls=0,Ms=null,Us=Vs=Fs=0,js=zs=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===zs?zs=[o]:zs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Vs)||sc(Ns,Ps)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Ps===t||(Ws=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Es.current=r,null!==Rs)throw Error(a(261));return Ns=null,Ps=0,Ls}function gc(){for(;null!==Rs;)bc(Rs)}function kc(){for(;null!==Rs&&!$e();)bc(Rs)}function bc(e){var t=_s(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?wc(e):Rs=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ds)))return void(Rs=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{Ic()}while(null!==$s);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Rs=Ns=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Nc(tt,(function(){return Ic(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Ye(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Ys=i),o=e.pendingLanes,0===o&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Gs,Gs=null,e;0!==(1&Ys)&&0!==e.tag&&Ic(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function Ic(){if(null!==$s){var e=bt(Ys),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function _c(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ps&n)===n&&(4===Ls||3===Ls&&(130023424&Ps)===Ps&&500>Xe()-Bs?dc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return He(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Mc(n.children,i,o,t);case _:u=8,i|=8;break;case S:return(e=Pc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new zc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=ja,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Vu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ia(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ia(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Iu(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Wu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,_a(t,n),qa(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&As)&&(qs=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},It=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},_t=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,I={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:I.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:I};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=I.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,_=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?I():(_=!1,S=null)}}else _=!1}if("function"===typeof k)I=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,I=function(){P.postMessage(null)}}else I=function(){y(N,0)};function D(e){S=e,_||(_=!0,I())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".2843ca88.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="todo_app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/todo_app/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunktodo_app=self.webpackChunktodo_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ao},SDK_VERSION:function(){return qu},_DEFAULT_ENTRY_NAME:function(){return Nu},_addComponent:function(){return Ou},_addOrOverwriteComponent:function(){return Lu},_apps:function(){return Pu},_clearComponents:function(){return Uu},_components:function(){return Du},_getProvider:function(){return Fu},_registerComponent:function(){return Mu},_removeServiceInstance:function(){return Vu},deleteApp:function(){return Hu},getApp:function(){return Ku},getApps:function(){return Gu},initializeApp:function(){return Wu},onLog:function(){return Yu},registerVersion:function(){return $u},setLogLevel:function(){return Xu}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||u(e,t)||s()}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var d=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r};function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function v(e,t){var n=f({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=f({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=f({},a),Object.keys(i).forEach((function(e){n[r][e]=v(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function m(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function y(e){if(!m(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=y(e[n])})),t}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return m(e)&&m(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(m(t[i])&&i in e&&m(e[i])?r[i]=g(e[i],t[i],n):n.clone?r[i]=m(t[i])?y(t[i]):t[i]:r[i]=t[i])})),r}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function b(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}function w(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=["values","unit","step"],I=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return f({},e,w({},t.key,t.val))}),{})};var _={borderRadius:4},S={xs:0,sm:600,md:900,lg:1200,xl:1536},E={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(S[e],"px)")}};function T(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||E;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||E;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||S).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function C(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function A(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function N(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function R(e){if("string"!==typeof e)throw new Error(N(7));return e.charAt(0).toUpperCase()+e.slice(1)}function P(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function D(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:P(e,n)||i,t&&(r=t(r,i,e)),r}var O=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=P(e.theme,i)||{};return T(e,n,(function(e){var n=D(o,a,e);return e===n&&"string"===typeof e&&(n=D(o,a,"".concat(t).concat("default"===e?"":R(e)),e)),!1===r?n:w({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var L=function(e,t){return t?g(e,t,{clone:!1}):e};var M={m:"margin",p:"padding"},F={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},V={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},U=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!V[e])return[e];e=V[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=M[n],a=F[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),z=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],j=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],B=[].concat(z,j);function q(e,t,n,r){var i,a=null!=(i=P(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function W(e){return q(e,"spacing",8)}function K(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function G(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=K(t,n),e}),{})}}(U(n),r);return T(e,e[n],i)}function H(e,t){var n=W(e.theme);return Object.keys(e).map((function(r){return G(e,t,r,n)})).reduce(L,{})}function Q(e){return H(e,z)}function $(e){return H(e,j)}function Y(e){return H(e,B)}Q.propTypes={},Q.filterProps=z,$.propTypes={},$.filterProps=j,Y.propTypes={},Y.filterProps=B;var X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?L(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function J(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Z=O({prop:"border",themeKey:"borders",transform:J}),ee=O({prop:"borderTop",themeKey:"borders",transform:J}),te=O({prop:"borderRight",themeKey:"borders",transform:J}),ne=O({prop:"borderBottom",themeKey:"borders",transform:J}),re=O({prop:"borderLeft",themeKey:"borders",transform:J}),ie=O({prop:"borderColor",themeKey:"palette"}),ae=O({prop:"borderTopColor",themeKey:"palette"}),oe=O({prop:"borderRightColor",themeKey:"palette"}),ue=O({prop:"borderBottomColor",themeKey:"palette"}),se=O({prop:"borderLeftColor",themeKey:"palette"}),ce=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=q(e.theme,"shape.borderRadius",4);return T(e,e.borderRadius,(function(e){return{borderRadius:K(t,e)}}))}return null};ce.propTypes={},ce.filterProps=["borderRadius"];X(Z,ee,te,ne,re,ie,ae,oe,ue,se,ce);var le=function(e){if(void 0!==e.gap&&null!==e.gap){var t=q(e.theme,"spacing",8);return T(e,e.gap,(function(e){return{gap:K(t,e)}}))}return null};le.propTypes={},le.filterProps=["gap"];var fe=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=q(e.theme,"spacing",8);return T(e,e.columnGap,(function(e){return{columnGap:K(t,e)}}))}return null};fe.propTypes={},fe.filterProps=["columnGap"];var he=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=q(e.theme,"spacing",8);return T(e,e.rowGap,(function(e){return{rowGap:K(t,e)}}))}return null};he.propTypes={},he.filterProps=["rowGap"];X(le,fe,he,O({prop:"gridColumn"}),O({prop:"gridRow"}),O({prop:"gridAutoFlow"}),O({prop:"gridAutoColumns"}),O({prop:"gridAutoRows"}),O({prop:"gridTemplateColumns"}),O({prop:"gridTemplateRows"}),O({prop:"gridTemplateAreas"}),O({prop:"gridArea"}));function de(e,t){return"grey"===t?t:e}X(O({prop:"color",themeKey:"palette",transform:de}),O({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:de}),O({prop:"backgroundColor",themeKey:"palette",transform:de}));function pe(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var ve=O({prop:"width",transform:pe}),me=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return T(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||S[t]||pe(t)}}))}return null};me.filterProps=["maxWidth"];var ye=O({prop:"minWidth",transform:pe}),ge=O({prop:"height",transform:pe}),ke=O({prop:"maxHeight",transform:pe}),be=O({prop:"minHeight",transform:pe}),we=(O({prop:"size",cssProperty:"width",transform:pe}),O({prop:"size",cssProperty:"height",transform:pe}),X(ve,me,ye,ge,ke,be,O({prop:"boxSizing"})),{border:{themeKey:"borders",transform:J},borderTop:{themeKey:"borders",transform:J},borderRight:{themeKey:"borders",transform:J},borderBottom:{themeKey:"borders",transform:J},borderLeft:{themeKey:"borders",transform:J},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ce},color:{themeKey:"palette",transform:de},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:de},backgroundColor:{themeKey:"palette",transform:de},p:{style:$},pt:{style:$},pr:{style:$},pb:{style:$},pl:{style:$},px:{style:$},py:{style:$},padding:{style:$},paddingTop:{style:$},paddingRight:{style:$},paddingBottom:{style:$},paddingLeft:{style:$},paddingX:{style:$},paddingY:{style:$},paddingInline:{style:$},paddingInlineStart:{style:$},paddingInlineEnd:{style:$},paddingBlock:{style:$},paddingBlockStart:{style:$},paddingBlockEnd:{style:$},m:{style:Q},mt:{style:Q},mr:{style:Q},mb:{style:Q},ml:{style:Q},mx:{style:Q},my:{style:Q},margin:{style:Q},marginTop:{style:Q},marginRight:{style:Q},marginBottom:{style:Q},marginLeft:{style:Q},marginX:{style:Q},marginY:{style:Q},marginInline:{style:Q},marginInlineStart:{style:Q},marginInlineEnd:{style:Q},marginBlock:{style:Q},marginBlockStart:{style:Q},marginBlockEnd:{style:Q},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:le},rowGap:{style:he},columnGap:{style:fe},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:pe},maxWidth:{style:me},minWidth:{transform:pe},height:{transform:pe},maxHeight:{transform:pe},minHeight:{transform:pe},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var xe=function(){function e(e,t,n,r){var i,a=(w(i={},e,t),w(i,"theme",n),i),o=r[e];if(!o)return w({},e,t);var u=o.cssProperty,s=void 0===u?e:u,c=o.themeKey,l=o.transform,f=o.style;if(null==t)return null;if("typography"===c&&"inherit"===t)return w({},e,t);var h=P(n,c)||{};if(f)return f(a);return T(a,t,(function(t){var n=D(h,l,t);return t===n&&"string"===typeof t&&(n=D(h,l,"".concat(e).concat("default"===t?"":R(t)),t)),!1===s?n:w({},s,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:we;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=C(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=L(o,e(n,c,u,s));else{var l=T({theme:u},c,(function(e){return w({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=L(o,l):o[n]=t({sx:c,theme:u})}else o=L(o,e(n,c,u,s))})),A(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();xe.filterProps=["sx"];var Ie=xe,_e=["breakpoints","palette","spacing","shape"];var Se=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=l(e,_e),c=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=l(e,x),s=I(n),c=Object.keys(s);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return f({keys:c,values:s,up:h,down:d,between:p,only:function(e){return c.indexOf(e)+1<c.length?p(e,c[c.indexOf(e)+1]):h(e)},not:function(e){var t=c.indexOf(e);return 0===t?h(c[1]):t===c.length-1?d(c[t]):p(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}(n),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=W({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),d=g({breakpoints:c,direction:"ltr",components:{},palette:f({mode:"light"},i),spacing:h,shape:f({},_,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(d=v.reduce((function(e,t){return g(e,t)}),d)).unstable_sxConfig=f({},we,null==s?void 0:s.unstable_sxConfig),d.unstable_sx=function(e){return Ie({sx:e,theme:this})},d};var Ee=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Te=Math.abs,Ce=String.fromCharCode,Ae=Object.assign;function Ne(e){return e.trim()}function Re(e,t,n){return e.replace(t,n)}function Pe(e,t){return e.indexOf(t)}function De(e,t){return 0|e.charCodeAt(t)}function Oe(e,t,n){return e.slice(t,n)}function Le(e){return e.length}function Me(e){return e.length}function Fe(e,t){return t.push(e),e}var Ve=1,Ue=1,ze=0,je=0,Be=0,qe="";function We(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Ve,column:Ue,length:o,return:""}}function Ke(e,t){return Ae(We("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ge(){return Be=je>0?De(qe,--je):0,Ue--,10===Be&&(Ue=1,Ve--),Be}function He(){return Be=je<ze?De(qe,je++):0,Ue++,10===Be&&(Ue=1,Ve++),Be}function Qe(){return De(qe,je)}function $e(){return je}function Ye(e,t){return Oe(qe,e,t)}function Xe(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Je(e){return Ve=Ue=1,ze=Le(qe=e),je=0,[]}function Ze(e){return qe="",e}function et(e){return Ne(Ye(je-1,rt(91===e?e+2:40===e?e+1:e)))}function tt(e){for(;(Be=Qe())&&Be<33;)He();return Xe(e)>2||Xe(Be)>3?"":" "}function nt(e,t){for(;--t&&He()&&!(Be<48||Be>102||Be>57&&Be<65||Be>70&&Be<97););return Ye(e,$e()+(t<6&&32==Qe()&&32==He()))}function rt(e){for(;He();)switch(Be){case e:return je;case 34:case 39:34!==e&&39!==e&&rt(Be);break;case 40:41===e&&rt(e);break;case 92:He()}return je}function it(e,t){for(;He()&&e+Be!==57&&(e+Be!==84||47!==Qe()););return"/*"+Ye(t,je-1)+"*"+Ce(47===e?e:He())}function at(e){for(;!Xe(Qe());)He();return Ye(e,je)}var ot="-ms-",ut="-moz-",st="-webkit-",ct="comm",lt="rule",ft="decl",ht="@keyframes";function dt(e,t){for(var n="",r=Me(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function pt(e,t,n,r){switch(e.type){case"@import":case ft:return e.return=e.return||e.value;case ct:return"";case ht:return e.return=e.value+"{"+dt(e.children,r)+"}";case lt:e.value=e.props.join(",")}return Le(n=dt(e.children,r))?e.return=e.value+"{"+n+"}":""}function vt(e){return Ze(mt("",null,null,null,[""],e=Je(e),0,[0],e))}function mt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,I=k;m;)switch(p=g,g=He()){case 40:if(108!=p&&58==De(I,f-1)){-1!=Pe(I+=Re(et(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:I+=et(g);break;case 9:case 10:case 13:case 32:I+=tt(p);break;case 92:I+=nt($e()-1,7);continue;case 47:switch(Qe()){case 42:case 47:Fe(gt(it(He(),$e()),t,n),s);break;default:I+="/"}break;case 123*v:u[c++]=Le(I)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&Le(I)-f&&Fe(d>32?kt(I+";",r,n,f-1):kt(Re(I," ","")+";",r,n,f-2),s);break;case 59:I+=";";default:if(Fe(x=yt(I,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)mt(I,t,x,x,b,a,f,u,w);else switch(99===h&&110===De(I,3)?100:h){case 100:case 109:case 115:mt(e,x,x,r&&Fe(yt(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:mt(I,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=I="",f=o;break;case 58:f=1+Le(I),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Ge())continue;switch(I+=Ce(g),g*v){case 38:y=l>0?1:(I+="\f",-1);break;case 44:u[c++]=(Le(I)-1)*y,y=1;break;case 64:45===Qe()&&(I+=et(He())),h=Qe(),l=f=Le(k=I+=at($e())),g++;break;case 45:45===p&&2==Le(I)&&(v=0)}}return a}function yt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=Me(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Oe(e,f+1,f=Te(v=o[p])),k=e;y<d;++y)(k=Ne(v>0?h[y]+" "+g:Re(g,/&\f/g,h[y])))&&(s[m++]=k);return We(e,t,n,0===i?lt:u,s,c,l)}function gt(e,t,n){return We(e,t,n,ct,Ce(Be),Oe(e,2,-2),0)}function kt(e,t,n,r){return We(e,t,n,ft,Oe(e,0,r),Oe(e,r+1,-1),r)}var bt=function(e,t,n){for(var r=0,i=0;r=i,i=Qe(),38===r&&12===i&&(t[n]=1),!Xe(i);)He();return Ye(e,je)},wt=function(e,t){return Ze(function(e,t){var n=-1,r=44;do{switch(Xe(r)){case 0:38===r&&12===Qe()&&(t[n]=1),e[n]+=bt(je-1,t,n);break;case 2:e[n]+=et(r);break;case 4:if(44===r){e[++n]=58===Qe()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ce(r)}}while(r=He());return e}(Je(e),t))},xt=new WeakMap,It=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||xt.get(n))&&!r){xt.set(e,!0);for(var i=[],a=wt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},_t=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function St(e,t){switch(function(e,t){return 45^De(e,0)?(((t<<2^De(e,0))<<2^De(e,1))<<2^De(e,2))<<2^De(e,3):0}(e,t)){case 5103:return st+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return st+e+ut+e+ot+e+e;case 6828:case 4268:return st+e+ot+e+e;case 6165:return st+e+ot+"flex-"+e+e;case 5187:return st+e+Re(e,/(\w+).+(:[^]+)/,st+"box-$1$2"+ot+"flex-$1$2")+e;case 5443:return st+e+ot+"flex-item-"+Re(e,/flex-|-self/,"")+e;case 4675:return st+e+ot+"flex-line-pack"+Re(e,/align-content|flex-|-self/,"")+e;case 5548:return st+e+ot+Re(e,"shrink","negative")+e;case 5292:return st+e+ot+Re(e,"basis","preferred-size")+e;case 6060:return st+"box-"+Re(e,"-grow","")+st+e+ot+Re(e,"grow","positive")+e;case 4554:return st+Re(e,/([^-])(transform)/g,"$1"+st+"$2")+e;case 6187:return Re(Re(Re(e,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),e,"")+e;case 5495:case 3959:return Re(e,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return Re(Re(e,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+e+e;case 4095:case 3583:case 4068:case 2532:return Re(e,/(.+)-inline(.+)/,st+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Le(e)-1-t>6)switch(De(e,t+1)){case 109:if(45!==De(e,t+4))break;case 102:return Re(e,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+ut+(108==De(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Pe(e,"stretch")?St(Re(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==De(e,t+1))break;case 6444:switch(De(e,Le(e)-3-(~Pe(e,"!important")&&10))){case 107:return Re(e,":",":"+st)+e;case 101:return Re(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(45===De(e,14)?"inline-":"")+"box$3$1"+st+"$2$3$1"+ot+"$2box$3")+e}break;case 5936:switch(De(e,t+11)){case 114:return st+e+ot+Re(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return st+e+ot+Re(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return st+e+ot+Re(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return st+e+ot+e+e}return e}var Et=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ft:e.return=St(e.value,e.length);break;case ht:return dt([Ke(e,{value:Re(e.value,"@","@"+st)})],r);case lt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dt([Ke(e,{props:[Re(t,/:(read-\w+)/,":"+ut+"$1")]})],r);case"::placeholder":return dt([Ke(e,{props:[Re(t,/:(plac\w+)/,":"+st+"input-$1")]}),Ke(e,{props:[Re(t,/:(plac\w+)/,":"+ut+"$1")]}),Ke(e,{props:[Re(t,/:(plac\w+)/,ot+"input-$1")]})],r)}return""}))}}],Tt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Et;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[pt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Me(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([It,_t].concat(r,l));a=function(e,t,n,r){s=n,function(e){dt(vt(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Ee({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Ct=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},At={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Nt=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Rt=/[A-Z]|^ms/g,Pt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Dt=function(e){return 45===e.charCodeAt(1)},Ot=function(e){return null!=e&&"boolean"!==typeof e},Lt=Nt((function(e){return Dt(e)?e:e.replace(Rt,"-$&").toLowerCase()})),Mt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Pt,(function(e,t,n){return Vt={name:t,styles:n,next:Vt},t}))}return 1===At[e]||Dt(e)||"number"!==typeof t||0===t?t:t+"px"};function Ft(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Vt={name:n.name,styles:n.styles,next:Vt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Vt={name:r.name,styles:r.styles,next:Vt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ft(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ot(o)&&(r+=Lt(a)+":"+Mt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Ft(e,t,o);switch(a){case"animation":case"animationName":r+=Lt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Ot(o[s])&&(r+=Lt(a)+":"+Mt(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Vt,a=n(e);return Vt=i,Ft(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Vt,Ut=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var zt=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Vt=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Ft(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Ft(n,t,e[o]),r&&(i+=a[o]);Ut.lastIndex=0;for(var u,s="";null!==(u=Ut.exec(i));)s+="-"+u[1];return{name:Ct(i)+s,styles:i,next:Vt}},jt=!!r.useInsertionEffect&&r.useInsertionEffect,Bt=jt||function(e){return e()},qt=jt||t.useLayoutEffect,Wt=(0,t.createContext)("undefined"!==typeof HTMLElement?Tt({key:"css"}):null);Wt.Provider;var Kt=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Wt);return e(n,i,r)}))},Gt=(0,t.createContext)({});var Ht=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=t.useContext(Gt);return r&&(e=r,0!==Object.keys(e).length)?r:n},Qt=Se();var $t=function(){return Ht(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt)};function Yt(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=$t(r);i&&(a=a[i]||a);var o=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?v(t.components[n].defaultProps,r):r}({theme:a,name:n,props:t});return o}function Xt(e,t){var n;return f({toolbar:(n={minHeight:56},w(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),w(n,e.up("sm"),{minHeight:64}),n)},t)}function Jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Zt(e){if(e.type)return e;if("#"===e.charAt(0))return Zt(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(N(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(N(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function en(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function tn(e){var t="hsl"===(e=Zt(e)).type||"hsla"===e.type?Zt(function(e){var t=(e=Zt(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),en({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function nn(e,t){return e=Zt(e),t=Jt(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,en(e)}function rn(e,t){if(e=Zt(e),t=Jt(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return en(e)}function an(e,t){if(e=Zt(e),t=Jt(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return en(e)}var on={black:"#000",white:"#fff"},un={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},sn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},cn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ln={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},fn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},hn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},dn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},pn=["mode","contrastThreshold","tonalOffset"],vn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:on.white,default:on.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},mn={text:{primary:on.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:on.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function yn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=an(e.main,i):"dark"===t&&(e.dark=rn(e.main,a)))}function gn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=l(e,pn),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fn[200],light:fn[50],dark:fn[400]}:{main:fn[700],light:fn[400],dark:fn[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:sn[200],light:sn[50],dark:sn[400]}:{main:sn[500],light:sn[300],dark:sn[700]}}(n),h=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:cn[500],light:cn[300],dark:cn[700]}:{main:cn[700],light:cn[400],dark:cn[800]}}(n),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:hn[400],light:hn[300],dark:hn[700]}:{main:hn[700],light:hn[500],dark:hn[900]}}(n),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:dn[400],light:dn[300],dark:dn[700]}:{main:dn[800],light:dn[500],dark:dn[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ln[400],light:ln[300],dark:ln[700]}:{main:"#ed6c02",light:ln[500],dark:ln[900]}}(n);function m(e){var t=function(e,t){var n=tn(e),r=tn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,mn.text.primary)>=i?mn.text.primary:vn.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=f({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(N(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(N(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return yn(t,"light",u,o),yn(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},k={dark:mn,light:vn};return g(f({common:f({},on),mode:n,primary:y({color:s,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:h,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:d,name:"info"}),success:y({color:p,name:"success"}),grey:un,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},k[n]),u)}var kn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var bn={textTransform:"uppercase"},wn='"Roboto", "Helvetica", "Arial", sans-serif';function xn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?wn:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,h=void 0===c?400:c,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,k=void 0===y?16:y,b=n.allVariants,w=n.pxToRem,x=l(n,kn);var I=o/14,_=w||function(e){return"".concat(e/k*I,"rem")},S=function(e,t,n,r,a){return f({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===wn?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},E={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,bn),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,bn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return g(f({htmlFontSize:k,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},E),x,{clone:!1})}function In(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var _n=["none",In(0,2,1,-1,0,1,1,0,0,1,3,0),In(0,3,1,-2,0,2,2,0,0,1,5,0),In(0,3,3,-2,0,3,4,0,0,1,8,0),In(0,2,4,-1,0,4,5,0,0,1,10,0),In(0,3,5,-1,0,5,8,0,0,1,14,0),In(0,3,5,-1,0,6,10,0,0,1,18,0),In(0,4,5,-2,0,7,10,1,0,2,16,1),In(0,5,5,-3,0,8,10,1,0,3,14,2),In(0,5,6,-3,0,9,12,1,0,3,16,2),In(0,6,6,-3,0,10,14,1,0,4,18,3),In(0,6,7,-4,0,11,15,1,0,4,20,3),In(0,7,8,-4,0,12,17,2,0,5,22,4),In(0,7,8,-4,0,13,19,2,0,5,24,4),In(0,7,9,-4,0,14,21,2,0,5,26,4),In(0,8,9,-5,0,15,22,2,0,6,28,5),In(0,8,10,-5,0,16,24,2,0,6,30,5),In(0,8,11,-5,0,17,26,2,0,6,32,5),In(0,9,11,-5,0,18,28,2,0,7,34,6),In(0,9,12,-6,0,19,29,2,0,7,36,6),In(0,10,13,-6,0,20,31,3,0,8,38,7),In(0,10,13,-6,0,21,33,3,0,8,40,7),In(0,10,14,-6,0,22,35,3,0,8,42,7),In(0,11,14,-7,0,23,36,3,0,9,44,8),In(0,11,15,-7,0,24,38,3,0,9,46,8)],Sn=["duration","easing","delay"],En={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Tn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Cn(e){return"".concat(Math.round(e),"ms")}function An(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Nn(e){var t=f({},En,e.easing),n=f({},Tn,e.duration);return f({getAutoHeightDuration:An,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;l(r,Sn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Cn(a)," ").concat(u," ").concat("string"===typeof c?c:Cn(c))})).join(",")}},e,{easing:t,duration:n})}var Rn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Pn=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=l(e,Pn);if(e.vars)throw new Error(N(18));var h=gn(i),d=Se(e),p=g(d,{mixins:Xt(d.breakpoints,n),palette:h,shadows:_n.slice(),typography:xn(h,s),transitions:Nn(o),zIndex:f({},Rn)});p=g(p,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return(p=m.reduce((function(e,t){return g(e,t)}),p)).unstable_sxConfig=f({},we,null==c?void 0:c.unstable_sxConfig),p.unstable_sx=function(e){return Ie({sx:e,theme:this})},p}var On=Dn(),Ln="$$material";function Mn(e){return Yt({props:e.props,name:e.name,defaultTheme:On,themeId:Ln})}function Fn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Vn(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Fn(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Un=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var zn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},jn=function(e,t,n){zn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},Bn=Nt((function(e){return Un.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),qn=function(e){return"theme"!==e},Wn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Bn:qn},Kn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Gn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;zn(t,n,r);Bt((function(){return jn(t,n,r)}));return null},Hn=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=Kn(n,r,o),c=s||Wn(u),l=!c("as");return function(){var h=arguments,d=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Kt((function(e,n,r){var i=l&&e.as||u,o="",f=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,t.useContext)(Gt)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=zt(d.concat(f),n.registered,h);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?Wn(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Gn,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=d,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,f({},r,n,{shouldForwardProp:Kn(m,n,!0)})).apply(void 0,d)},m}},Qn=Hn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Qn[e]=Qn(e)}));var $n=Qn;var Yn=["variant"];function Xn(e){return 0===e.length}function Jn(e){var t=e.variant,n=l(e,Yn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Xn(r)?e[t]:R(e[t]):"".concat(Xn(r)?t:R(t)).concat(R(e[t].toString()))})),r}var Zn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function er(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var tr=Se();function nr(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}var rr=function(e){return er(e)&&"classes"!==e},ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?tr:n,i=e.rootShouldForwardProp,a=void 0===i?er:i,o=e.slotShouldForwardProp,u=void 0===o?er:o,s=function(e){return Ie(f({},e,{theme:nr(f({},e,{defaultTheme:r,themeId:t}))}))};return s.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i=n.name,o=n.slot,h=n.skipVariantsResolver,d=n.skipSx,p=n.overridesResolver,v=l(n,Zn),m=void 0!==h?h:o&&"Root"!==o||!1,y=d||!1;var g=er;"Root"===o?g=a:o?g=u:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);var k=function(e,t){return $n(e,t)}(e,f({shouldForwardProp:g,label:undefined},v)),b=function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];var l=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e(f({},n,{theme:nr(f({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],h=n;i&&p&&l.push((function(e){var n=nr(f({},e,{defaultTheme:r,themeId:t})),a=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(i,n);if(a){var o={};return Object.entries(a).forEach((function(t){var r=c(t,2),i=r[0],a=r[1];o[i]="function"===typeof a?a(f({},e,{theme:n})):a})),p(e,o)}return null})),i&&!m&&l.push((function(e){var n=nr(f({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Jn(n.props)])})),s}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Jn(e.props);r[t]=e.style})),r}(i,n),n,i)})),y||l.push(s);var d=l.length-o.length;if(Array.isArray(n)&&d>0){var v=new Array(d).fill("");(h=[].concat(Vn(n),Vn(v))).raw=[].concat(Vn(n.raw),Vn(v))}else"function"===typeof n&&n.__emotion_real!==n&&(h=function(e){return n(f({},e,{theme:nr(f({},e,{defaultTheme:r,themeId:t}))}))});var g=k.apply(void 0,[h].concat(Vn(l)));return e.muiName&&(g.muiName=e.muiName),g};return k.withConfig&&(b.withConfig=k.withConfig),b}}({themeId:Ln,defaultTheme:On,rootShouldForwardProp:rr}),ar=ir;function or(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function ur(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(or(e.value)&&""!==e.value||t&&or(e.defaultValue)&&""!==e.defaultValue)}var sr=R;var cr=function(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)};var lr=t.createContext(void 0),fr=function(e){return e},hr=function(){var e=fr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=fr}}}(),dr={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function pr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=dr[t];return r?"".concat(n,"-").concat(r):"".concat(hr.generate(e),"-").concat(t)}function vr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=pr(e,t,n)})),r}function mr(e){return pr("MuiFormControl",e)}vr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var yr=n(184),gr=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],kr=ar("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return f({},t.root,t["margin".concat(sr(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return f({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),br=t.forwardRef((function(e,n){var r=Mn({props:e,name:"MuiFormControl"}),i=r.children,a=r.className,o=r.color,u=void 0===o?"primary":o,s=r.component,h=void 0===s?"div":s,v=r.disabled,m=void 0!==v&&v,y=r.error,g=void 0!==y&&y,k=r.focused,b=r.fullWidth,w=void 0!==b&&b,x=r.hiddenLabel,I=void 0!==x&&x,_=r.margin,S=void 0===_?"none":_,E=r.required,T=void 0!==E&&E,C=r.size,A=void 0===C?"medium":C,N=r.variant,R=void 0===N?"outlined":N,P=l(r,gr),D=f({},r,{color:u,component:h,disabled:m,error:g,fullWidth:w,hiddenLabel:I,margin:S,required:T,size:A,variant:R}),O=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return p({root:["root","none"!==n&&"margin".concat(sr(n)),r&&"fullWidth"]},mr,t)}(D),L=c(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if(cr(t,["Input","Select"])){var n=cr(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),M=L[0],F=L[1],V=c(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){cr(t,["Input","Select"])&&ur(t.props,!0)&&(e=!0)})),e})),2),U=V[0],z=V[1],j=c(t.useState(!1),2),B=j[0],q=j[1];m&&B&&q(!1);var W,K=void 0===k||m?B:k,G=t.useMemo((function(){return{adornedStart:M,setAdornedStart:F,color:u,disabled:m,error:g,filled:U,focused:K,fullWidth:w,hiddenLabel:I,size:A,onBlur:function(){q(!1)},onEmpty:function(){z(!1)},onFilled:function(){z(!0)},onFocus:function(){q(!0)},registerEffect:W,required:T,variant:R}}),[M,u,m,g,U,K,w,I,W,T,A,R]);return(0,yr.jsx)(lr.Provider,{value:G,children:(0,yr.jsx)(kr,f({as:h,ownerState:D,className:d(O.root,a),ref:n},P,{children:i}))})})),wr=br;function xr(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}function Ir(){return t.useContext(lr)}function _r(e){return pr("MuiFormLabel",e)}var Sr=vr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Er=["children","className","color","component","disabled","error","filled","focused","required"],Tr=ar("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return f({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return f({color:(n.vars||n).palette.text.secondary},n.typography.body1,(w(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(Sr.focused),{color:(n.vars||n).palette[r.color].main}),w(t,"&.".concat(Sr.disabled),{color:(n.vars||n).palette.text.disabled}),w(t,"&.".concat(Sr.error),{color:(n.vars||n).palette.error.main}),t))})),Cr=ar("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return w({},"&.".concat(Sr.error),{color:(t.vars||t).palette.error.main})})),Ar=t.forwardRef((function(e,t){var n=Mn({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=l(n,Er),s=xr({props:n,muiFormControl:Ir(),states:["color","required","focused","disabled","error","filled"]}),c=f({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),h=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return p({root:["root","color".concat(sr(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},_r,t)}(c);return(0,yr.jsxs)(Tr,f({as:o,ownerState:c,className:d(h.root,i),ref:t},u,{children:[r,s.required&&(0,yr.jsxs)(Cr,{ownerState:c,"aria-hidden":!0,className:h.asterisk,children:["\u2009","*"]})]}))})),Nr=Ar;function Rr(e){return pr("MuiInputLabel",e)}vr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Pr=["disableAnimation","margin","shrink","variant","className"],Dr=ar(Nr,{shouldForwardProp:function(e){return rr(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[w({},"& .".concat(Sr.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return f({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&f({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&f({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&f({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Or=t.forwardRef((function(e,t){var n=Mn({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=n.className,u=l(n,Pr),s=Ir(),c=a;"undefined"===typeof c&&s&&(c=s.filled||s.focused||s.adornedStart);var h=xr({props:n,muiFormControl:s,states:["size","variant","required"]}),v=f({},n,{disableAnimation:i,formControl:s,shrink:c,size:h.size,variant:h.variant,required:h.required}),m=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return f({},t,p({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},Rr,t))}(v);return(0,yr.jsx)(Dr,f({"data-shrink":c,ownerState:v,ref:t,className:d(m.root,o)},u,{classes:m}))})),Lr=n(164);function Mr(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((function(){return n.every((function(e){return null==e}))?null:function(e){n.forEach((function(t){!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)}))}}),n)}function Fr(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t.defaultView||window}var Vr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Ur=["onChange","maxRows","minRows","style","value"];function zr(e){return parseInt(e,10)||0}var jr={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function Br(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var qr=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,h=l(e,Ur),d=t.useRef(null!=s).current,p=t.useRef(null),v=Mr(n,p),m=t.useRef(null),y=t.useRef(0),g=c(t.useState({outerHeightStyle:0}),2),k=g[0],b=g[1],w=t.useCallback((function(){var t=p.current,n=Fr(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};var r=m.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n.boxSizing,u=zr(n.paddingBottom)+zr(n.paddingTop),s=zr(n.borderBottomWidth)+zr(n.borderTopWidth),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;return o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f)),{outerHeightStyle:(f=Math.max(f,l))+("border-box"===a?u+s:0),overflow:Math.abs(f-c)<=1}}),[i,o,e.placeholder]),x=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return y.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(y.current+=1,{overflow:r,outerHeightStyle:n}):e},I=t.useCallback((function(){var e=w();Br(e)||b((function(t){return x(t,e)}))}),[w]);t.useEffect((function(){var e,t=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r}((function(){y.current=0,p.current&&function(){var e=w();Br(e)||Lr.flushSync((function(){b((function(t){return x(t,e)}))}))}()})),n=p.current,r=Fr(n);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(n),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}})),Vr((function(){I()})),t.useEffect((function(){y.current=0}),[s]);return(0,yr.jsxs)(t.Fragment,{children:[(0,yr.jsx)("textarea",f({value:s,onChange:function(e){y.current=0,d||I(),r&&r(e)},ref:v,rows:o,style:f({height:k.outerHeightStyle,overflow:k.overflow?"hidden":void 0},u)},h)),(0,yr.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:f({},jr,u,{padding:0})})]})})),Wr=qr;function Kr(e){return"string"===typeof e}var Gr=Mr,Hr=Vr,Qr=(n(110),Kt((function(e,n){var r=e.styles,i=zt([r],void 0,(0,t.useContext)(Gt)),a=(0,t.useRef)();return qt((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),qt((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&jn(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null})));function $r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zt(t)}var Yr=function(){var e=$r.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Xr(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,yr.jsx)(Qr,{styles:i})}var Jr=function(e){var t=e.styles,n=e.themeId,r=e.defaultTheme,i=$t(void 0===r?{}:r),a="function"===typeof t?t(n&&i[n]||i):t;return(0,yr.jsx)(Xr,{styles:a})};var Zr=function(e){return(0,yr.jsx)(Jr,f({},e,{defaultTheme:On,themeId:Ln}))};function ei(e){return pr("MuiInputBase",e)}var ti=vr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ni=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ri=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(sr(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},ii=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ai=ar("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ri})((function(e){var t=e.theme,n=e.ownerState;return f({},t.typography.body1,w({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(ti.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&f({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),oi=ar("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ii})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a=f({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},u=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return f((w(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(ti.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),w(t,"&.".concat(ti.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),w(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),ui=(0,yr.jsx)(Zr,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),si=t.forwardRef((function(e,n){var r,i=Mn({props:e,name:"MuiInputBase"}),a=i["aria-describedby"],o=i.autoComplete,u=i.autoFocus,s=i.className,h=i.components,v=void 0===h?{}:h,m=i.componentsProps,y=void 0===m?{}:m,g=i.defaultValue,k=i.disabled,b=i.disableInjectingGlobalStyles,w=i.endAdornment,x=i.fullWidth,I=void 0!==x&&x,_=i.id,S=i.inputComponent,E=void 0===S?"input":S,T=i.inputProps,C=void 0===T?{}:T,A=i.inputRef,R=i.maxRows,P=i.minRows,D=i.multiline,O=void 0!==D&&D,L=i.name,M=i.onBlur,F=i.onChange,V=i.onClick,U=i.onFocus,z=i.onKeyDown,j=i.onKeyUp,B=i.placeholder,q=i.readOnly,W=i.renderSuffix,K=i.rows,G=i.slotProps,H=void 0===G?{}:G,Q=i.slots,$=void 0===Q?{}:Q,Y=i.startAdornment,X=i.type,J=void 0===X?"text":X,Z=i.value,ee=l(i,ni),te=null!=C.value?C.value:Z,ne=t.useRef(null!=te).current,re=t.useRef(),ie=t.useCallback((function(e){0}),[]),ae=Gr(re,A,C.ref,ie),oe=c(t.useState(!1),2),ue=oe[0],se=oe[1],ce=Ir();var le=xr({props:i,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});le.focused=ce?ce.focused:ue,t.useEffect((function(){!ce&&k&&ue&&(se(!1),M&&M())}),[ce,k,ue,M]);var fe=ce&&ce.onFilled,he=ce&&ce.onEmpty,de=t.useCallback((function(e){ur(e)?fe&&fe():he&&he()}),[fe,he]);Hr((function(){ne&&de({value:te})}),[te,de,ne]);t.useEffect((function(){de(re.current)}),[]);var pe=E,ve=C;O&&"input"===pe&&(ve=f(K?{type:void 0,minRows:K,maxRows:K}:{type:void 0,maxRows:R,minRows:P},ve),pe=Wr);t.useEffect((function(){ce&&ce.setAdornedStart(Boolean(Y))}),[ce,Y]);var me=f({},i,{color:le.color||"primary",disabled:le.disabled,endAdornment:w,error:le.error,focused:le.focused,formControl:ce,fullWidth:I,hiddenLabel:le.hiddenLabel,multiline:O,size:le.size,startAdornment:Y,type:J}),ye=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.readOnly,h=e.size,d=e.startAdornment,v=e.type;return p({root:["root","color".concat(sr(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===h&&"sizeSmall",l&&"multiline",d&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled","search"===v&&"inputTypeSearch",l&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",d&&"inputAdornedStart",a&&"inputAdornedEnd",f&&"readOnly"]},ei,t)}(me),ge=$.root||v.Root||ai,ke=H.root||y.root||{},be=$.input||v.Input||oi;return ve=f({},ve,null!=(r=H.input)?r:y.input),(0,yr.jsxs)(t.Fragment,{children:[!b&&ui,(0,yr.jsxs)(ge,f({},ke,!Kr(ge)&&{ownerState:f({},me,ke.ownerState)},{ref:n,onClick:function(e){re.current&&e.currentTarget===e.target&&re.current.focus(),V&&V(e)}},ee,{className:d(ye.root,ke.className,s,q&&"MuiInputBase-readOnly"),children:[Y,(0,yr.jsx)(lr.Provider,{value:null,children:(0,yr.jsx)(be,f({ownerState:me,"aria-invalid":le.error,"aria-describedby":a,autoComplete:o,autoFocus:u,defaultValue:g,disabled:le.disabled,id:_,onAnimationStart:function(e){de("mui-auto-fill-cancel"===e.animationName?re.current:{value:"x"})},name:L,placeholder:B,readOnly:q,required:le.required,rows:K,value:te,onKeyDown:z,onKeyUp:j,type:J},ve,!Kr(be)&&{as:pe,ownerState:f({},me,ve.ownerState)},{ref:ae,className:d(ye.input,ve.className,q&&"MuiInputBase-readOnly"),onBlur:function(e){M&&M(e),C.onBlur&&C.onBlur(e),ce&&ce.onBlur?ce.onBlur(e):se(!1)},onChange:function(e){if(!ne){var t=e.target||re.current;if(null==t)throw new Error(N(1));de({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];C.onChange&&C.onChange.apply(C,[e].concat(r)),F&&F.apply(void 0,[e].concat(r))},onFocus:function(e){le.disabled?e.stopPropagation():(U&&U(e),C.onFocus&&C.onFocus(e),ce&&ce.onFocus?ce.onFocus(e):se(!0))}}))}),w,W?W(f({},le,{startAdornment:Y})):null]}))]})})),ci=si;function li(e){return pr("MuiInput",e)}var fi=f({},ti,vr("MuiInput",["root","underline","input"])),hi=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],di=ar(ai,{shouldForwardProp:function(e){return rr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Vn(ri(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),f({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(w(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(fi.focused,":after"),{transform:"scaleX(1) translateX(0)"}),w(t,"&.".concat(fi.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),w(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),w(t,"&:hover:not(.".concat(fi.disabled,", .").concat(fi.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),w(t,"&.".concat(fi.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),pi=ar(oi,{name:"MuiInput",slot:"Input",overridesResolver:ii})({}),vi=t.forwardRef((function(e,t){var n,r,i,a,o=Mn({props:e,name:"MuiInput"}),u=o.disableUnderline,s=o.components,c=void 0===s?{}:s,h=o.componentsProps,d=o.fullWidth,v=void 0!==d&&d,m=o.inputComponent,y=void 0===m?"input":m,k=o.multiline,b=void 0!==k&&k,w=o.slotProps,x=o.slots,I=void 0===x?{}:x,_=o.type,S=void 0===_?"text":_,E=l(o,hi),T=function(e){var t=e.classes;return f({},t,p({root:["root",!e.disableUnderline&&"underline"],input:["input"]},li,t))}(o),C={root:{ownerState:{disableUnderline:u}}},A=(null!=w?w:h)?g(null!=w?w:h,C):C,N=null!=(n=null!=(r=I.root)?r:c.Root)?n:di,R=null!=(i=null!=(a=I.input)?a:c.Input)?i:pi;return(0,yr.jsx)(ci,f({slots:{root:N,input:R},slotProps:A,fullWidth:v,inputComponent:y,multiline:b,ref:t,type:S},E,{classes:T}))}));vi.muiName="Input";var mi=vi;var yi,gi=function(e){var n=t.useRef(e);return Vr((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},ki=!0,bi=!1,wi={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function xi(e){e.metaKey||e.altKey||e.ctrlKey||(ki=!0)}function Ii(){ki=!1}function _i(){"hidden"===this.visibilityState&&bi&&(ki=!0)}function Si(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ki||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!wi[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Ei=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",xi,!0),t.addEventListener("mousedown",Ii,!0),t.addEventListener("pointerdown",Ii,!0),t.addEventListener("touchstart",Ii,!0),t.addEventListener("visibilitychange",_i,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Si(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(bi=!0,window.clearTimeout(yi),yi=window.setTimeout((function(){bi=!1}),100),n.current=!1,!0)},ref:e}};function Ti(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ai(e,t){return Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ai(e,t)}var Ni=t.createContext(null);function Ri(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Pi(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Di(e,n,r){var i=Ri(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:Pi(u,"exit",e),enter:Pi(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:Pi(u,"exit",e),enter:Pi(u,"enter",e)})}})),a}var Oi=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Li=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Ci(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Ai(n,r);var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,Ri(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Pi(e,"appear",r),enter:Pi(e,"enter",r),exit:Pi(e,"exit",r)})}))):Di(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=Ri(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=l(e,["component","childFactory"]),a=this.state.contextValue,o=Oi(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(Ni.Provider,{value:a},o):t.createElement(Ni.Provider,{value:a},t.createElement(n,i,o))},i}(t.Component);Li.propTypes={},Li.defaultProps={component:"div",childFactory:function(e){return e}};var Mi=Li;var Fi=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,p=c(t.useState(!1),2),v=p[0],m=p[1],y=d(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},k=d(r.child,v&&r.childLeaving,a&&r.childPulsate);return l||v||m(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,yr.jsx)("span",{className:y,style:g,children:(0,yr.jsx)("span",{className:k})})};var Vi,Ui,zi,ji,Bi,qi,Wi,Ki,Gi=vr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Hi=["center","classes","className"],Qi=Yr(Bi||(Bi=Vi||(Vi=Ti(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),$i=Yr(qi||(qi=Ui||(Ui=Ti(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Yi=Yr(Wi||(Wi=zi||(zi=Ti(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Xi=ar("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ji=ar(Fi,{name:"MuiTouchRipple",slot:"Ripple"})(Ki||(Ki=ji||(ji=Ti(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Gi.rippleVisible,Qi,550,(function(e){return e.theme.transitions.easing.easeInOut}),Gi.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Gi.child,Gi.childLeaving,$i,550,(function(e){return e.theme.transitions.easing.easeInOut}),Gi.childPulsate,Yi,(function(e){return e.theme.transitions.easing.easeInOut})),Zi=t.forwardRef((function(e,n){var r=Mn({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,h=l(r,Hi),p=c(t.useState([]),2),v=p[0],m=p[1],y=t.useRef(0),g=t.useRef(null);t.useEffect((function(){g.current&&(g.current(),g.current=null)}),[v]);var k=t.useRef(!1),b=t.useRef(null),w=t.useRef(null),x=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var I=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;m((function(e){return[].concat(Vn(e),[(0,yr.jsx)(Ji,{classes:{ripple:d(u.ripple,Gi.ripple),rippleVisible:d(u.rippleVisible,Gi.rippleVisible),ripplePulsate:d(u.ripplePulsate,Gi.ripplePulsate),child:d(u.child,Gi.child),childLeaving:d(u.childLeaving,Gi.childLeaving),childPulsate:d(u.childPulsate,Gi.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},y.current)])})),y.current+=1,g.current=a}),[u]),_=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&k.current)k.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(k.current=!0);var l,f,h,d=c?null:x.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,_=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(_,2))}null!=e&&e.touches?null===w.current&&(w.current=function(){I({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},b.current=setTimeout((function(){w.current&&(w.current(),w.current=null)}),80)):I({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,I]),S=t.useCallback((function(){_({},{pulsate:!0})}),[_]),E=t.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===(null==e?void 0:e.type)&&w.current)return w.current(),w.current=null,void(b.current=setTimeout((function(){E(e,t)})));w.current=null,m((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:S,start:_,stop:E}}),[S,_,E]),(0,yr.jsx)(Xi,f({className:d(Gi.root,u.root,s),ref:x},h,{children:(0,yr.jsx)(Mi,{component:null,exit:!0,children:v})}))})),ea=Zi;function ta(e){return pr("MuiButtonBase",e)}var na,ra=vr("MuiButtonBase",["root","disabled","focusVisible"]),ia=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],aa=ar("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((w(na={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(ra.disabled),{pointerEvents:"none",cursor:"default"}),w(na,"@media print",{colorAdjust:"exact"}),na)),oa=t.forwardRef((function(e,n){var r=Mn({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,h=r.component,v=void 0===h?"button":h,m=r.disabled,y=void 0!==m&&m,g=r.disableRipple,k=void 0!==g&&g,b=r.disableTouchRipple,w=void 0!==b&&b,x=r.focusRipple,I=void 0!==x&&x,_=r.LinkComponent,S=void 0===_?"a":_,E=r.onBlur,T=r.onClick,C=r.onContextMenu,A=r.onDragLeave,N=r.onFocus,R=r.onFocusVisible,P=r.onKeyDown,D=r.onKeyUp,O=r.onMouseDown,L=r.onMouseLeave,M=r.onMouseUp,F=r.onTouchEnd,V=r.onTouchMove,U=r.onTouchStart,z=r.tabIndex,j=void 0===z?0:z,B=r.TouchRippleProps,q=r.touchRippleRef,W=r.type,K=l(r,ia),G=t.useRef(null),H=t.useRef(null),Q=Gr(H,q),$=Ei(),Y=$.isFocusVisibleRef,X=$.onFocus,J=$.onBlur,Z=$.ref,ee=c(t.useState(!1),2),te=ee[0],ne=ee[1];y&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),G.current.focus()}}}),[]);var re=c(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!k&&!y;function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return gi((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}t.useEffect((function(){te&&I&&!k&&ie&&H.current.pulsate()}),[k,I,te,ie]);var se=ue("start",O),ce=ue("stop",C),le=ue("stop",A),fe=ue("stop",M),he=ue("stop",(function(e){te&&e.preventDefault(),L&&L(e)})),de=ue("start",U),pe=ue("stop",F),ve=ue("stop",V),me=ue("stop",(function(e){J(e),!1===Y.current&&ne(!1),E&&E(e)}),!1),ye=gi((function(e){G.current||(G.current=e.currentTarget),X(e),!0===Y.current&&(ne(!0),R&&R(e)),N&&N(e)})),ge=function(){var e=G.current;return v&&"button"!==v&&!("A"===e.tagName&&e.href)},ke=t.useRef(!1),be=gi((function(e){I&&!ke.current&&te&&H.current&&" "===e.key&&(ke.current=!0,H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!y&&(e.preventDefault(),T&&T(e))})),we=gi((function(e){I&&" "===e.key&&H.current&&te&&!e.defaultPrevented&&(ke.current=!1,H.current.stop(e,(function(){H.current.pulsate(e)}))),D&&D(e),T&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&T(e)})),xe=v;"button"===xe&&(K.href||K.to)&&(xe=S);var Ie={};"button"===xe?(Ie.type=void 0===W?"button":W,Ie.disabled=y):(K.href||K.to||(Ie.role="button"),y&&(Ie["aria-disabled"]=y));var _e=Gr(n,Z,G);var Se=f({},r,{centerRipple:o,component:v,disabled:y,disableRipple:k,disableTouchRipple:w,focusRipple:I,tabIndex:j,focusVisible:te}),Ee=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=p({root:["root",t&&"disabled",n&&"focusVisible"]},ta,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Se);return(0,yr.jsxs)(aa,f({as:xe,className:d(Ee.root,s),ownerState:Se,onBlur:me,onClick:T,onContextMenu:ce,onFocus:ye,onKeyDown:be,onKeyUp:we,onMouseDown:se,onMouseLeave:he,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:de,ref:_e,tabIndex:y?-1:j,type:W},Ie,K,{children:[u,oe?(0,yr.jsx)(ea,f({ref:Q,center:o},B)):null]}))})),ua=oa;function sa(e){return pr("MuiButton",e)}var ca=vr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var la=t.createContext({}),fa=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ha=function(e){return f({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},da=ar(ua,{shouldForwardProp:function(e){return rr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(sr(n.color))],t["size".concat(sr(n.size))],t["".concat(n.variant,"Size").concat(sr(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode?i.palette.grey[300]:i.palette.grey[800],u="light"===i.palette.mode?i.palette.grey.A100:i.palette.grey[700];return f({},i.typography.button,(w(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":f({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):nn(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):nn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):nn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:i.vars?i.vars.palette.Button.inheritContainedHoverBg:u,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":f({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(ca.focusVisible),f({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),w(t,"&.".concat(ca.disabled),f({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(nn(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:i.vars?i.vars.palette.Button.inheritContainedBg:o,boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(w(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(ca.focusVisible),{boxShadow:"none"}),w(t,"&:active",{boxShadow:"none"}),w(t,"&.".concat(ca.disabled),{boxShadow:"none"}),t)})),pa=ar("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(sr(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},ha(t))})),va=ar("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(sr(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},ha(t))})),ma=t.forwardRef((function(e,n){var r=t.useContext(la),i=Mn({props:v(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,h=i.className,m=i.disabled,y=void 0!==m&&m,g=i.disableElevation,k=void 0!==g&&g,b=i.disableFocusRipple,w=void 0!==b&&b,x=i.endIcon,I=i.focusVisibleClassName,_=i.fullWidth,S=void 0!==_&&_,E=i.size,T=void 0===E?"medium":E,C=i.startIcon,A=i.type,N=i.variant,R=void 0===N?"text":N,P=l(i,fa),D=f({},i,{color:u,component:c,disabled:y,disableElevation:k,disableFocusRipple:w,fullWidth:S,size:T,type:A,variant:R}),O=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return f({},o,p({root:["root",a,"".concat(a).concat(sr(t)),"size".concat(sr(i)),"".concat(a,"Size").concat(sr(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(sr(i))],endIcon:["endIcon","iconSize".concat(sr(i))]},sa,o))}(D),L=C&&(0,yr.jsx)(pa,{className:O.startIcon,ownerState:D,children:C}),M=x&&(0,yr.jsx)(va,{className:O.endIcon,ownerState:D,children:x});return(0,yr.jsxs)(da,f({ownerState:D,className:d(r.className,O.root,h),component:c,disabled:y,focusRipple:!w,focusVisibleClassName:d(O.focusVisible,I),ref:n,type:A},P,{classes:O,children:[L,a,M]}))})),ya=ma;var ga=t.createContext({});function ka(e){return pr("MuiList",e)}vr("MuiList",["root","padding","dense","subheader"]);var ba=["children","className","component","dense","disablePadding","subheader"],wa=ar("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return f({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),xa=t.forwardRef((function(e,n){var r=Mn({props:e,name:"MuiList"}),i=r.children,a=r.className,o=r.component,u=void 0===o?"ul":o,s=r.dense,c=void 0!==s&&s,h=r.disablePadding,v=void 0!==h&&h,m=r.subheader,y=l(r,ba),g=t.useMemo((function(){return{dense:c}}),[c]),k=f({},r,{component:u,dense:c,disablePadding:v}),b=function(e){var t=e.classes;return p({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},ka,t)}(k);return(0,yr.jsx)(ga.Provider,{value:g,children:(0,yr.jsxs)(wa,f({as:u,className:d(b.root,a),ref:n,ownerState:k},y,{children:[m,i]}))})}));function Ia(e){return pr("MuiListItem",e)}var _a=vr("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var Sa=vr("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Ea(e){return pr("MuiListItemSecondaryAction",e)}vr("MuiListItemSecondaryAction",["root","disableGutters"]);var Ta=["className"],Ca=ar("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){return f({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.ownerState.disableGutters&&{right:0})})),Aa=t.forwardRef((function(e,n){var r=Mn({props:e,name:"MuiListItemSecondaryAction"}),i=r.className,a=l(r,Ta),o=f({},r,{disableGutters:t.useContext(ga).disableGutters}),u=function(e){return p({root:["root",e.disableGutters&&"disableGutters"]},Ea,e.classes)}(o);return(0,yr.jsx)(Ca,f({className:d(u.root,i),ownerState:o,ref:n},a))}));Aa.muiName="ListItemSecondaryAction";var Na=Aa,Ra=["className"],Pa=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Da=ar("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,r=e.ownerState;return f({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!r.disablePadding&&f({paddingTop:8,paddingBottom:8},r.dense&&{paddingTop:4,paddingBottom:4},!r.disableGutters&&{paddingLeft:16,paddingRight:16},!!r.secondaryAction&&{paddingRight:48}),!!r.secondaryAction&&w({},"& > .".concat(Sa.root),{paddingRight:48}),(w(t={},"&.".concat(_a.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),w(t,"&.".concat(_a.selected),w({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):nn(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(_a.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):nn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),w(t,"&.".concat(_a.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),"flex-start"===r.alignItems&&{alignItems:"flex-start"},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},r.button&&w({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(_a.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):nn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):nn(n.palette.primary.main,n.palette.action.selectedOpacity)}}),r.hasSecondaryAction&&{paddingRight:48})})),Oa=ar("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),La=t.forwardRef((function(e,n){var r=Mn({props:e,name:"MuiListItem"}),i=r.alignItems,a=void 0===i?"center":i,o=r.autoFocus,u=void 0!==o&&o,s=r.button,c=void 0!==s&&s,h=r.children,v=r.className,m=r.component,y=r.components,g=void 0===y?{}:y,k=r.componentsProps,b=void 0===k?{}:k,w=r.ContainerComponent,x=void 0===w?"li":w,I=r.ContainerProps,_=(void 0===I?{}:I).className,S=r.dense,E=void 0!==S&&S,T=r.disabled,C=void 0!==T&&T,A=r.disableGutters,N=void 0!==A&&A,R=r.disablePadding,P=void 0!==R&&R,D=r.divider,O=void 0!==D&&D,L=r.focusVisibleClassName,M=r.secondaryAction,F=r.selected,V=void 0!==F&&F,U=r.slotProps,z=void 0===U?{}:U,j=r.slots,B=void 0===j?{}:j,q=l(r.ContainerProps,Ra),W=l(r,Pa),K=t.useContext(ga),G=t.useMemo((function(){return{dense:E||K.dense||!1,alignItems:a,disableGutters:N}}),[a,K.dense,E,N]),H=t.useRef(null);Hr((function(){u&&H.current&&H.current.focus()}),[u]);var Q=t.Children.toArray(h),$=Q.length&&cr(Q[Q.length-1],["ListItemSecondaryAction"]),Y=f({},r,{alignItems:a,autoFocus:u,button:c,dense:G.dense,disabled:C,disableGutters:N,disablePadding:P,divider:O,hasSecondaryAction:$,selected:V}),X=function(e){var t=e.alignItems,n=e.button,r=e.classes,i=e.dense,a=e.disabled;return p({root:["root",i&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",a&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]},Ia,r)}(Y),J=Gr(H,n),Z=B.root||g.Root||Da,ee=z.root||b.root||{},te=f({className:d(X.root,ee.className,v),disabled:C},W),ne=m||"li";return c&&(te.component=m||"div",te.focusVisibleClassName=d(_a.focusVisible,L),ne=ua),$?(ne=te.component||m?ne:"div","li"===x&&("li"===ne?ne="div":"li"===te.component&&(te.component="div")),(0,yr.jsx)(ga.Provider,{value:G,children:(0,yr.jsxs)(Oa,f({as:x,className:d(X.container,_),ref:J,ownerState:Y},q,{children:[(0,yr.jsx)(Z,f({},ee,!Kr(Z)&&{as:ne,ownerState:f({},Y,ee.ownerState)},te,{children:Q})),Q.pop()]}))})):(0,yr.jsx)(ga.Provider,{value:G,children:(0,yr.jsxs)(Z,f({},ee,{as:ne,ref:J},!Kr(Z)&&{ownerState:f({},Y,ee.ownerState)},te,{children:[Q,M&&(0,yr.jsx)(Na,{children:M})]}))})})),Ma=La;function Fa(e){return pr("MuiListItemAvatar",e)}vr("MuiListItemAvatar",["root","alignItemsFlexStart"]);var Va=["className"],Ua=ar("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){return f({minWidth:56,flexShrink:0},"flex-start"===e.ownerState.alignItems&&{marginTop:8})})),za=t.forwardRef((function(e,n){var r=Mn({props:e,name:"MuiListItemAvatar"}),i=r.className,a=l(r,Va),o=f({},r,{alignItems:t.useContext(ga).alignItems}),u=function(e){return p({root:["root","flex-start"===e.alignItems&&"alignItemsFlexStart"]},Fa,e.classes)}(o);return(0,yr.jsx)(Ua,f({className:d(u.root,i),ownerState:o,ref:n},a))})),ja=["sx"];function Ba(e){var t,n=e.sx,r=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:we;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r}(l(e,ja)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(Vn(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return m(e)?f({},i,e):i}:f({},i,n),f({},a,{sx:t})}function qa(e){return pr("MuiTypography",e)}vr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Wa=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Ka=ar("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(sr(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return f({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Ga={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ha={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Qa=t.forwardRef((function(e,t){var n=Mn({props:e,name:"MuiTypography"}),r=function(e){return Ha[e]||e}(n.color),i=Ba(f({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,c=i.gutterBottom,h=void 0!==c&&c,v=i.noWrap,m=void 0!==v&&v,y=i.paragraph,g=void 0!==y&&y,k=i.variant,b=void 0===k?"body1":k,w=i.variantMapping,x=void 0===w?Ga:w,I=l(i,Wa),_=f({},i,{align:o,color:r,className:u,component:s,gutterBottom:h,noWrap:m,paragraph:g,variant:b,variantMapping:x}),S=s||(g?"p":x[b]||Ga[b])||"span",E=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return p({root:["root",a,"inherit"!==e.align&&"align".concat(sr(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},qa,o)}(_);return(0,yr.jsx)(Ka,f({as:S,ref:t,ownerState:_,className:d(E.root,u)},I))})),$a=Qa;function Ya(e){return pr("MuiListItemText",e)}var Xa=vr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Ja=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Za=ar("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[w({},"& .".concat(Xa.primary),t.primary),w({},"& .".concat(Xa.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return f({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),eo=t.forwardRef((function(e,n){var r=Mn({props:e,name:"MuiListItemText"}),i=r.children,a=r.className,o=r.disableTypography,u=void 0!==o&&o,s=r.inset,c=void 0!==s&&s,h=r.primary,v=r.primaryTypographyProps,m=r.secondary,y=r.secondaryTypographyProps,g=l(r,Ja),k=t.useContext(ga).dense,b=null!=h?h:i,w=m,x=f({},r,{disableTypography:u,inset:c,primary:!!b,secondary:!!w,dense:k}),I=function(e){var t=e.classes,n=e.inset,r=e.primary,i=e.secondary;return p({root:["root",n&&"inset",e.dense&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Ya,t)}(x);return null==b||b.type===$a||u||(b=(0,yr.jsx)($a,f({variant:k?"body2":"body1",className:I.primary,component:null!=v&&v.variant?void 0:"span",display:"block"},v,{children:b}))),null==w||w.type===$a||u||(w=(0,yr.jsx)($a,f({variant:"body2",className:I.secondary,color:"text.secondary",display:"block"},y,{children:w}))),(0,yr.jsxs)(Za,f({className:d(I.root,a),ownerState:x,ref:n},g,{children:[b,w]}))}));var to=function(e){return(0,yr.jsxs)(xa,{className:"todo_list",children:[(0,yr.jsx)(Ma,{children:(0,yr.jsx)(za,{})}),(0,yr.jsx)(Ma,{children:(0,yr.jsx)(eo,{primary:e.text,secondary:"Complete it before deadline"})})]})};function no(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function io(e,t,n){return t&&ro(e.prototype,t),n&&ro(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ao(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function oo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ai(e,t)}function uo(e){return uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uo(e)}function so(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function co(e){var t=so();return function(){var n,r=uo(e);if(t){var i=uo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ci(e)}(this,n)}}function lo(e,t,n){return lo=so()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ai(i,n.prototype),i},lo.apply(null,arguments)}function fo(e){var t="function"===typeof Map?new Map:void 0;return fo=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return lo(e,arguments,uo(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ai(n,e)},fo(e)}var ho=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},po={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ho(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new vo;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},vo=function(e){oo(n,e);var t=co(n);function n(){var e;return no(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return io(n)}(fo(Error)),mo=function(e){return function(e){var t=ho(e);return po.encodeByteArray(t,!0)}(e).replace(/\./g,"")},yo=function(e){try{return po.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function go(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=go(e[n],t[n]));return e}var ko=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},bo=function(){try{return ko()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/todo_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&yo(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},wo=function(){var e;return null===(e=bo())||void 0===e?void 0:e.config},xo=function(){function e(){var t=this;no(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return io(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Io(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _o(){var e,t=null===(e=bo())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function So(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Eo(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function To(){var e=Io();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Co(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Ao=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a;return no(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Ci(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ci(a),No.prototype.create),a}return io(n)}(fo(Error)),No=function(){function e(t,n,r){no(this,e),this.service=t,this.serviceName=n,this.errors=r}return io(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ro,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ao(n,a,t)}}]),e}();var Ro=/\{\$([^}]+)}/g;function Po(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Do(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Oo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Lo(u)&&Lo(s)){if(!Oo(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Lo(e){return null!==e&&"object"===typeof e}function Mo(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Fo(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Vo(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Uo(e,t){var n=new zo(e,t);return n.subscribe.bind(n)}var zo=function(){function e(t,n){var r=this;no(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return io(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ao(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=jo),void 0===r.error&&(r.error=jo),void 0===r.complete&&(r.complete=jo);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function jo(){}function Bo(e){return e&&e._delegate?e._delegate:e}function qo(){qo=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(T([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==k(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Wo(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ko(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Wo(a,r,i,o,u,"next",e)}function u(e){Wo(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Go=function(){function e(t,n,r){no(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return io(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ho="[DEFAULT]",Qo=function(){function e(t,n){no(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return io(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xo;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch(s){}var t,n=ao(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ho;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Vn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Vn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ho;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ho;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ao(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1];r===this.normalizeInstanceIdentifier(s)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ao(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(fN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$o(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(fN){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ho;return this.component?this.component.multipleInstances?e:Ho:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function $o(e){return e===Ho?void 0:e}var Yo,Xo,Jo=function(){function e(t){no(this,e),this.name=t,this.providers=new Map}return io(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Qo(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Zo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xo||(Xo={}));var eu={debug:Xo.DEBUG,verbose:Xo.VERBOSE,info:Xo.INFO,warn:Xo.WARN,error:Xo.ERROR,silent:Xo.SILENT},tu=Xo.INFO,nu=(w(Yo={},Xo.DEBUG,"log"),w(Yo,Xo.VERBOSE,"log"),w(Yo,Xo.INFO,"info"),w(Yo,Xo.WARN,"warn"),w(Yo,Xo.ERROR,"error"),Yo),ru=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=nu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},iu=function(){function e(t){no(this,e),this.name=t,this._logLevel=tu,this._logHandler=ru,this._userLogHandler=null,Zo.push(this)}return io(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Xo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?eu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xo.DEBUG].concat(t)),this._logHandler.apply(this,[this,Xo.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xo.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Xo.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xo.INFO].concat(t)),this._logHandler.apply(this,[this,Xo.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xo.WARN].concat(t)),this._logHandler.apply(this,[this,Xo.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xo.ERROR].concat(t)),this._logHandler.apply(this,[this,Xo.ERROR].concat(t))}}]),e}();function au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?au(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uu,su,cu=function(e,t){return t.some((function(t){return e instanceof t}))};var lu=new WeakMap,fu=new WeakMap,hu=new WeakMap,du=new WeakMap,pu=new WeakMap;var vu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return fu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||hu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function mu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(su||(su=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ku(this),n),gu(lu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gu(e.apply(ku(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ku(this),t].concat(r));return hu.set(a,t.sort?t.sort():[t]),gu(a)}}function yu(e){return"function"===typeof e?mu(e):(e instanceof IDBTransaction&&function(e){if(!fu.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));fu.set(e,t)}}(e),cu(e,uu||(uu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,vu):e)}function gu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(gu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&lu.set(t,e)})).catch((function(){})),pu.set(t,e),t}(e);if(du.has(e))return du.get(e);var t=yu(e);return t!==e&&(du.set(e,t),pu.set(t,e)),t}var ku=function(e){return pu.get(e)};var bu,wu,xu=["get","getKey","getAll","getAllKeys","count"],Iu=["put","add","delete","clear"],_u=new Map;function Su(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(_u.get(t))return _u.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Iu.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||xu.includes(n))){var a=function(){var e=Ko(qo().mark((function e(t){var a,o,u,s,c,l,f=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return _u.set(t,a),a}}}vu=function(e){return ou(ou({},e),{},{get:function(t,n,r){return Su(t,n)||e.get(t,n,r)},has:function(t,n){return!!Su(t,n)||e.has(t,n)}})}(vu);var Eu=function(){function e(t){no(this,e),this.container=t}return io(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Tu="@firebase/app",Cu="0.9.8",Au=new iu("@firebase/app"),Nu="[DEFAULT]",Ru=(w(bu={},Tu,"fire-core"),w(bu,"@firebase/app-compat","fire-core-compat"),w(bu,"@firebase/analytics","fire-analytics"),w(bu,"@firebase/analytics-compat","fire-analytics-compat"),w(bu,"@firebase/app-check","fire-app-check"),w(bu,"@firebase/app-check-compat","fire-app-check-compat"),w(bu,"@firebase/auth","fire-auth"),w(bu,"@firebase/auth-compat","fire-auth-compat"),w(bu,"@firebase/database","fire-rtdb"),w(bu,"@firebase/database-compat","fire-rtdb-compat"),w(bu,"@firebase/functions","fire-fn"),w(bu,"@firebase/functions-compat","fire-fn-compat"),w(bu,"@firebase/installations","fire-iid"),w(bu,"@firebase/installations-compat","fire-iid-compat"),w(bu,"@firebase/messaging","fire-fcm"),w(bu,"@firebase/messaging-compat","fire-fcm-compat"),w(bu,"@firebase/performance","fire-perf"),w(bu,"@firebase/performance-compat","fire-perf-compat"),w(bu,"@firebase/remote-config","fire-rc"),w(bu,"@firebase/remote-config-compat","fire-rc-compat"),w(bu,"@firebase/storage","fire-gcs"),w(bu,"@firebase/storage-compat","fire-gcs-compat"),w(bu,"@firebase/firestore","fire-fst"),w(bu,"@firebase/firestore-compat","fire-fst-compat"),w(bu,"fire-js","fire-js"),w(bu,"firebase","fire-js-all"),bu),Pu=new Map,Du=new Map;function Ou(e,t){try{e.container.addComponent(t)}catch(n){Au.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Lu(e,t){e.container.addOrOverwriteComponent(t)}function Mu(e){var t=e.name;if(Du.has(t))return Au.debug("There were multiple attempts to register component ".concat(t,".")),!1;Du.set(t,e);var n,r=ao(Pu.values());try{for(r.s();!(n=r.n()).done;){Ou(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Fu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nu;Fu(e,t).clearInstance(n)}function Uu(){Du.clear()}var zu=(w(wu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),w(wu,"bad-app-name","Illegal App name: '{$appName}"),w(wu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),w(wu,"app-deleted","Firebase App named '{$appName}' already deleted"),w(wu,"no-options","Need to provide options, when not being deployed to hosting via source."),w(wu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),w(wu,"invalid-log-argument","First argument to `onLog` must be null or a function."),w(wu,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),w(wu,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),w(wu,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),w(wu,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),wu),ju=new No("app","Firebase",zu),Bu=function(){function e(t,n,r){var i=this;no(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Go("app",(function(){return i}),"PUBLIC"))}return io(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ju.create("app-deleted",{appName:this._name})}}]),e}(),qu="9.20.0";function Wu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Nu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ju.create("bad-app-name",{appName:String(i)});if(n||(n=wo()),!n)throw ju.create("no-options");var a=Pu.get(i);if(a){if(Oo(n,a.options)&&Oo(r,a.config))return a;throw ju.create("duplicate-app",{appName:i})}var o,u=new Jo(i),s=ao(Du.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Bu(n,r,u);return Pu.set(i,l),l}function Ku(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nu,t=Pu.get(e);if(!t&&e===Nu)return Wu();if(!t)throw ju.create("no-app",{appName:e});return t}function Gu(){return Array.from(Pu.values())}function Hu(e){return Qu.apply(this,arguments)}function Qu(){return(Qu=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Pu.has(n)){e.next=6;break}return Pu.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $u(e,t,n){var r,i=null!==(r=Ru[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Au.warn(u.join(" "))}Mu(new Go("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Yu(e,t){if(null!==e&&"function"!==typeof e)throw ju.create("invalid-log-argument");!function(e,t){var n,r=ao(Zo);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=eu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Xo[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Xu(e){var t;t=e,Zo.forEach((function(e){e.setLogLevel(t)}))}var Ju="firebase-heartbeat-database",Zu=1,es="firebase-heartbeat-store",ts=null;function ns(){return ts||(ts=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=gu(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(gu(u.result),e.oldVersion,e.newVersion,gu(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Ju,Zu,{upgrade:function(e,t){if(0===t)e.createObjectStore(es)}}).catch((function(e){throw ju.create("idb-open",{originalErrorMessage:e.message})}))),ts}function rs(e){return is.apply(this,arguments)}function is(){return is=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns();case 3:return n=e.sent,e.abrupt("return",n.transaction(es).objectStore(es).get(us(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Ao?Au.warn(e.t0.message):(r=ju.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Au.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),is.apply(this,arguments)}function as(e,t){return os.apply(this,arguments)}function os(){return os=Ko(qo().mark((function e(t,n){var r,i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns();case 3:return r=e.sent,i=r.transaction(es,"readwrite"),a=i.objectStore(es),e.next=8,a.put(n,us(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Ao?Au.warn(e.t0.message):(o=ju.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Au.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),os.apply(this,arguments)}function us(e){return"".concat(e.name,"!").concat(e.options.appId)}var ss=function(){function e(t){var n=this;no(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ds(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return io(e,[{key:"triggerHeartbeat",value:function(){var e=Ko(qo().mark((function e(){var t,n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=cs(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ko(qo().mark((function e(){var t,n,r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=cs(),n=ls(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=mo(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cs(){return(new Date).toISOString().substring(0,10)}function ls(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ao(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ps(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ps(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var fs,hs,ds=function(){function e(t){no(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return io(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Co()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,rs(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",as(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",as(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Vn(r.heartbeats),Vn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ps(e){return mo(JSON.stringify({version:2,heartbeats:e})).length}fs="",Mu(new Go("platform-logger",(function(e){return new Eu(e)}),"PRIVATE")),Mu(new Go("heartbeat",(function(e){return new ss(e)}),"PRIVATE")),$u(Tu,Cu,fs),$u(Tu,Cu,"esm2017"),$u("fire-js","");var vs=function(){function e(t,n){var r=this;no(this,e),this._delegate=t,this.firebase=n,Ou(t,new Go("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return io(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Hu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nu;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nu;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ou(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Lu(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ms=(w(hs={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),w(hs,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),hs),ys=new No("app-compat","Firebase",ms);var gs=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Wu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Po(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:$u,setLogLevel:Xu,onLog:Yu,apps:null,SDK_VERSION:qu,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Mu(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ys.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&go(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Po(n,e=e||Nu))throw ys.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(vs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){go(n,e)},createSubscribe:Uo,ErrorFactory:No,deepExtend:go}),n}(),ks=new iu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ks.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var bs=self.firebase.SDK_VERSION;bs&&bs.indexOf("LITE")>=0&&ks.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ws=gs;!function(e){$u("@firebase/app-compat","0.2.8",e)}();function xs(){return xs="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=uo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xs.apply(this,arguments)}ws.registerVersion("firebase","9.20.0","app-compat");function Is(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var _s;Object.create;var Ss={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Es="EMAIL_SIGNIN",Ts="PASSWORD_RESET",Cs="RECOVER_EMAIL",As="REVERT_SECOND_FACTOR_ADDITION",Ns="VERIFY_AND_CHANGE_EMAIL",Rs="VERIFY_EMAIL";function Ps(){return w({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ds=function(){var e;return w(e={},"admin-restricted-operation","This operation is restricted to administrators only."),w(e,"argument-error",""),w(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),w(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),w(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),w(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),w(e,"cordova-not-ready","Cordova framework is not ready."),w(e,"cors-unsupported","This browser is not supported."),w(e,"credential-already-in-use","This credential is already associated with a different user account."),w(e,"custom-token-mismatch","The custom token corresponds to a different audience."),w(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),w(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),w(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),w(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),w(e,"email-already-in-use","The email address is already in use by another account."),w(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),w(e,"expired-action-code","The action code has expired."),w(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),w(e,"internal-error","An internal AuthError has occurred."),w(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),w(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),w(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),w(e,"invalid-auth-event","An internal AuthError has occurred."),w(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),w(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),w(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),w(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),w(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),w(e,"invalid-email","The email address is badly formatted."),w(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),w(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),w(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),w(e,"invalid-credential","The supplied auth credential is malformed or has expired."),w(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),w(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),w(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),w(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),w(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),w(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),w(e,"wrong-password","The password is invalid or the user does not have a password."),w(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),w(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),w(e,"invalid-provider-id","The specified provider ID is invalid."),w(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),w(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),w(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),w(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),w(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),w(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),w(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),w(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),w(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),w(e,"missing-continue-uri","A continue URL must be provided in the request."),w(e,"missing-iframe-start","An internal AuthError has occurred."),w(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),w(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),w(e,"missing-password","A non-empty password must be provided"),w(e,"missing-multi-factor-info","No second factor identifier is provided."),w(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),w(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),w(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),w(e,"app-deleted","This instance of FirebaseApp has been deleted."),w(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),w(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),w(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),w(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),w(e,"no-auth-event","An internal AuthError has occurred."),w(e,"no-such-provider","User was not linked to an account with the given provider."),w(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),w(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),w(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),w(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),w(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),w(e,"provider-already-linked","User can only be linked to one identity for the given provider."),w(e,"quota-exceeded","The project's quota for this operation has been exceeded."),w(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),w(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),w(e,"rejected-credential","The request contains malformed or mismatching credentials."),w(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),w(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),w(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),w(e,"timeout","The operation has timed out."),w(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),w(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),w(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),w(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),w(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),w(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),w(e,"unverified-email","The operation requires a verified email."),w(e,"user-cancelled","The user did not grant your application the permissions it requested."),w(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),w(e,"user-disabled","The user account has been disabled by an administrator."),w(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),w(e,"user-signed-out",""),w(e,"weak-password","The password must be 6 characters long or more."),w(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),w(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),w(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),w(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),w(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),w(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),w(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),w(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),w(e,"invalid-req-type","Invalid request parameters."),w(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Os=Ps,Ls=new No("auth","Firebase",Ps()),Ms=new iu("@firebase/auth");function Fs(e){if(Ms.logLevel<=Xo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ms.warn.apply(Ms,["Auth (".concat(qu,"): ").concat(e)].concat(n))}}function Vs(e){if(Ms.logLevel<=Xo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ms.error.apply(Ms,["Auth (".concat(qu,"): ").concat(e)].concat(n))}}function Us(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qs.apply(void 0,[e].concat(n))}function zs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qs.apply(void 0,[e].concat(n))}function js(e,t,n){var r=Object.assign(Object.assign({},Os()),w({},t,n));return new No("auth","Firebase",r).create(t,{appName:e.name})}function Bs(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Us(e,"argument-error"),js(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function qs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Vn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Vn(o)))}return Ls.create.apply(Ls,[e].concat(n))}function Ws(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qs.apply(void 0,[t].concat(r))}}function Ks(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Vs(t),new Error(t)}function Gs(e,t){e||Ks(t)}function Hs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qs(){return"http:"===$s()||"https:"===$s()}function $s(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ys=function(){function e(t,n){no(this,e),this.shortDelay=t,this.longDelay=n,Gs(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Io())||Eo()}return io(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qs()||So()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Xs(e,t){Gs(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Js=function(){function e(){no(this,e)}return io(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Zs=(w(_s={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),w(_s,"MISSING_CUSTOM_TOKEN","internal-error"),w(_s,"INVALID_IDENTIFIER","invalid-email"),w(_s,"MISSING_CONTINUE_URI","internal-error"),w(_s,"INVALID_PASSWORD","wrong-password"),w(_s,"MISSING_PASSWORD","missing-password"),w(_s,"EMAIL_EXISTS","email-already-in-use"),w(_s,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),w(_s,"INVALID_IDP_RESPONSE","invalid-credential"),w(_s,"INVALID_PENDING_TOKEN","invalid-credential"),w(_s,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),w(_s,"MISSING_REQ_TYPE","internal-error"),w(_s,"EMAIL_NOT_FOUND","user-not-found"),w(_s,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),w(_s,"EXPIRED_OOB_CODE","expired-action-code"),w(_s,"INVALID_OOB_CODE","invalid-action-code"),w(_s,"MISSING_OOB_CODE","internal-error"),w(_s,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),w(_s,"INVALID_ID_TOKEN","invalid-user-token"),w(_s,"TOKEN_EXPIRED","user-token-expired"),w(_s,"USER_NOT_FOUND","user-token-expired"),w(_s,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),w(_s,"INVALID_CODE","invalid-verification-code"),w(_s,"INVALID_SESSION_INFO","invalid-verification-id"),w(_s,"INVALID_TEMPORARY_PROOF","invalid-credential"),w(_s,"MISSING_SESSION_INFO","missing-verification-id"),w(_s,"SESSION_EXPIRED","code-expired"),w(_s,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),w(_s,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),w(_s,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),w(_s,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),w(_s,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),w(_s,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),w(_s,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),w(_s,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),w(_s,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),w(_s,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),w(_s,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),w(_s,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),w(_s,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),w(_s,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),w(_s,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),w(_s,"MISSING_CLIENT_TYPE","missing-client-type"),w(_s,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),w(_s,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),w(_s,"INVALID_REQ_TYPE","invalid-req-type"),_s),ec=new Ys(3e4,6e4);function tc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function nc(e,t,n,r){return rc.apply(this,arguments)}function rc(){return rc=Ko(qo().mark((function e(t,n,r,i){var a,o=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ic(t,a,Ko(qo().mark((function e(){var a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Mo(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Js.fetch()(sc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(e,t,n){return ac.apply(this,arguments)}function ac(){return(ac=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Zs),n),e.prev=2,a=new cc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw lc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw lc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw lc(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw lc(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw js(t,p,d);case 34:Us(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ao)){e.next=41;break}throw e.t0;case 41:Us(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function oc(e,t,n,r){return uc.apply(this,arguments)}function uc(){return uc=Ko(qo().mark((function e(t,n,r,i){var a,o,u=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,nc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Us(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function sc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Xs(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var cc=function(){function e(t){var n=this;no(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(zs(n.auth,"network-request-failed"))}),ec.get())}))}return io(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function lc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=zs(e,t,r);return i.customData._tokenResponse=n,i}function fc(e,t){return hc.apply(this,arguments)}function hc(){return(hc=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dc(e,t){return pc.apply(this,arguments)}function pc(){return(pc=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return(mc=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function gc(){return gc=Ko(qo().mark((function e(t){var n,r,i,a,o,u,s=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Bo(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ws((a=bc(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:yc(kc(a.auth_time)),issuedAtTime:yc(kc(a.iat)),expirationTime:yc(kc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function kc(e){return 1e3*Number(e)}function bc(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Vs("JWT malformed, contained fewer than 3 sections"),null;try{var a=yo(r);return a?JSON.parse(a):(Vs("Failed to decode base64 JWT payload"),null)}catch(o){return Vs("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=Ko(qo().mark((function e(t,n){var r=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ao&&Ic(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),xc.apply(this,arguments)}function Ic(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var _c=function(){function e(t){no(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return io(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ko(qo().mark((function t(){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Sc=function(){function e(t,n){no(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return io(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ec(e){return Tc.apply(this,arguments)}function Tc(){return Tc=Ko(qo().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,wc(t,vc(r,{idToken:i}));case 6:Ws(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Is(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Ac(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Sc(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Cc(){return(Cc=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bo(t),e.next=3,Ec(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Vn(n),Vn(t))}function Nc(e,t){return Rc.apply(this,arguments)}function Rc(){return(Rc=Ko(qo().mark((function e(t,n){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ic(t,{},Ko(qo().mark((function e(){var r,i,a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mo({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=sc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Js.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pc=function(){function e(){no(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return io(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ws(e.idToken,"internal-error"),Ws("undefined"!==typeof e.idToken,"internal-error"),Ws("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=bc(e);return Ws(t,"internal-error"),Ws("undefined"!==typeof t.exp,"internal-error"),Ws("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ko(qo().mark((function e(t){var n,r=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ws(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ko(qo().mark((function e(t,n){var r,i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nc(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ks("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ws("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ws("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ws("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Dc(e,t){Ws("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Oc=function(){function e(t){no(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Is(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _c(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Vn(a.providerData):[],this.metadata=new Sc(a.createdAt||void 0,a.lastLoginAt||void 0)}return io(e,[{key:"getIdToken",value:function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ws(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return gc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Cc.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ws(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ws(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ko(qo().mark((function e(t){var n,r,i=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ec(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,wc(this,fc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;Ws(k&&I,t,"internal-error");var _=Pc.fromJSON(this.name,I);Ws("string"===typeof k,t,"internal-error"),Dc(f,t.name),Dc(h,t.name),Ws("boolean"===typeof b,t,"internal-error"),Ws("boolean"===typeof w,t,"internal-error"),Dc(d,t.name),Dc(p,t.name),Dc(v,t.name),Dc(m,t.name),Dc(y,t.name),Dc(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Ko(qo().mark((function t(n,r){var i,a,o,u=arguments;return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Pc).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ec(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Lc=new Map;function Mc(e){Gs(e instanceof Function,"Expected a class definition");var t=Lc.get(e);return t?(Gs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Lc.set(e,t),t)}var Fc=function(){function e(){no(this,e),this.type="NONE",this.storage={}}return io(e,[{key:"_isAvailable",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Fc.type="NONE";var Vc=Fc;function Uc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var zc=function(){function e(t,n,r){no(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Uc(this.userKey,a.apiKey,o),this.fullPersistenceKey=Uc("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return io(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Oc._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ko(qo().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Mc(Vc),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Mc(Vc),u=Uc(i,n.config.apiKey,n.name),s=null,c=ao(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Oc._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function jc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hc(t))return"Blackberry";if(Qc(t))return"Webos";if(qc(t))return"Safari";if((t.includes("chrome/")||Wc(t))&&!t.includes("edge/"))return"Chrome";if(Gc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/firefox\//i.test(e)}function qc(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/crios\//i.test(e)}function Kc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/iemobile/i.test(e)}function Gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/android/i.test(e)}function Hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/blackberry/i.test(e)}function Qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/webos/i.test(e)}function $c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return $c(e)||Gc(e)||Qc(e)||Hc(e)||/windows phone/i.test(e)||Kc(e)}function Xc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jc(Io());break;case"Worker":t="".concat(jc(Io()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(qu,"/").concat(r)}function Jc(e){return Zc.apply(this,arguments)}function Zc(){return(Zc=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t){return tl.apply(this,arguments)}function tl(){return(tl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"GET","/v2/recaptchaConfig",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e){return void 0!==e&&void 0!==e.getResponse}function rl(e){return void 0!==e&&void 0!==e.enterprise}var il=io((function e(t){if(no(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function al(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=zs("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ol(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ul=function(){function e(t){no(this,e),this.type="recaptcha-enterprise",this.auth=hl(t)}return io(e,[{key:"verify",value:function(){var e=Ko(qo().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;rl(i)?i.enterprise.ready((function(){try{i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(e){r(e)}))}catch(a){r(a)}})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Ko(qo().mark((function e(n,r){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:el(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new il(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&rl(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));al("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function sl(e,t,n){return cl.apply(this,arguments)}function cl(){return cl=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new ul(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),cl.apply(this,arguments)}var ll=function(){function e(t){no(this,e),this.auth=t,this.queue=[]}return io(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ko(qo().mark((function e(t){var n,r,i,a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=ao(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=ao(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),fl=function(){function e(t,n,r,i){no(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dl(this),this.idTokenSubscription=new dl(this),this.beforeStateQueue=new ll(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ls,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return io(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Mc(t)),this._initializationPromise=this.queue(Ko(qo().mark((function r(){var i,a;return qo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,zc.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ko(qo().mark((function e(t){var n,r,i,a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ws(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ec(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Bo(t):null)&&Ws(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ko(qo().mark((function e(t){var n,r=this,i=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ws(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ko(qo().mark((function n(){return qo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Mc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Ko(qo().mark((function e(){var t,n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new il(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ul(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new No("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ko(qo().mark((function e(t,n){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ws(n=t&&Mc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,zc.create(this,[Mc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ko(qo().mark((function e(t){var n=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ws(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ws(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ko(qo().mark((function e(){var t,n,r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ko(qo().mark((function e(){var t,n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Fs("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function hl(e){return Bo(e)}var dl=function(){function e(t){var n=this;no(this,e),this.auth=t,this.observer=null,this.addObserver=Uo((function(e){return n.observer=e}))}return io(e,[{key:"next",get:function(){return Ws(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function pl(e,t,n){var r=hl(e);Ws(r._canInitEmulator,r,"emulator-config-failed"),Ws(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=vl(t),o=function(e){var t=vl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ml(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:ml(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function vl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ml(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var yl=function(){function e(t,n){no(this,e),this.providerId=t,this.signInMethod=n}return io(e,[{key:"toJSON",value:function(){return Ks("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ks("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ks("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ks("not implemented")}}]),e}();function gl(e,t){return kl.apply(this,arguments)}function kl(){return(kl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:resetPassword",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bl(e,t){return wl.apply(this,arguments)}function wl(){return(wl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xl(e,t){return Il.apply(this,arguments)}function Il(){return(Il=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:update",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _l(e,t){return Sl.apply(this,arguments)}function Sl(){return(Sl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithPassword",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function El(e,t){return Tl.apply(this,arguments)}function Tl(){return(Tl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:sendOobCode",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cl(e,t){return Al.apply(this,arguments)}function Al(){return(Al=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nl(e,t){return Rl.apply(this,arguments)}function Rl(){return(Rl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pl(e,t){return Dl.apply(this,arguments)}function Dl(){return(Dl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(e,t){return Ll.apply(this,arguments)}function Ll(){return(Ll=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ml(e,t){return Fl.apply(this,arguments)}function Fl(){return(Fl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithEmailLink",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vl(e,t){return Ul.apply(this,arguments)}function Ul(){return(Ul=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithEmailLink",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zl=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return no(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return io(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ko(qo().mark((function e(t){var n,r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,sl(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",_l(t,i));case 11:return e.abrupt("return",_l(t,r).catch(function(){var e=Ko(qo().mark((function e(n){var i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,sl(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",_l(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Ml(t,{email:this._email,oobCode:this._password}));case 13:Us(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",bl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Vl(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Us(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(yl);function jl(e,t){return Bl.apply(this,arguments)}function Bl(){return(Bl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithIdp",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ql=function(e){oo(n,e);var t=co(n);function n(){var e;return no(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return io(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return jl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,jl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,jl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mo(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Us("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Is(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(yl);function Wl(e,t){return Kl.apply(this,arguments)}function Kl(){return(Kl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:sendVerificationCode",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(){return(Gl=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithPhoneNumber",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hl(){return(Hl=Ko(qo().mark((function e(t,n){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oc(t,"POST","/v1/accounts:signInWithPhoneNumber",tc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw lc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ql=w({},"USER_NOT_FOUND","user-not-found");function $l(){return($l=Ko(qo().mark((function e(t,n){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithPhoneNumber",tc(t,r),Ql));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yl=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this,"phone","phone")).params=e,r}return io(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Gl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Hl.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return $l.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(yl);var Xl=function(){function e(t){var n,r,i,a,o,u;no(this,e);var s=Fo(Vo(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ws(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return io(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Fo(Vo(e)).link,n=t?Fo(Vo(t)).deep_link_id:null,r=Fo(Vo(e)).deep_link_id;return(r?Fo(Vo(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(fN){return null}}}]),e}();var Jl=function(){function e(){no(this,e),this.providerId=e.PROVIDER_ID}return io(e,null,[{key:"credential",value:function(e,t){return zl._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Xl.parseLink(t);return Ws(n,"argument-error"),zl._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Jl.PROVIDER_ID="password",Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Zl=function(){function e(t){no(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return io(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ef=function(e){oo(n,e);var t=co(n);function n(){var e;return no(this,n),(e=t.apply(this,arguments)).scopes=[],e}return io(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Vn(this.scopes)}}]),n}(Zl),tf=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return io(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ws(e.idToken||e.accessToken,"argument-error"),ql._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ws("providerId"in t&&"signInMethod"in t,"argument-error"),ql._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(ef),nf=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.call(this,"facebook.com")}return io(n,null,[{key:"credential",value:function(e){return ql._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(fN){return null}}}]),n}(ef);nf.FACEBOOK_SIGN_IN_METHOD="facebook.com",nf.PROVIDER_ID="facebook.com";var rf=function(e){oo(n,e);var t=co(n);function n(){var e;return no(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return io(n,null,[{key:"credential",value:function(e,t){return ql._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(fN){return null}}}]),n}(ef);rf.GOOGLE_SIGN_IN_METHOD="google.com",rf.PROVIDER_ID="google.com";var af=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.call(this,"github.com")}return io(n,null,[{key:"credential",value:function(e){return ql._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(fN){return null}}}]),n}(ef);af.GITHUB_SIGN_IN_METHOD="github.com",af.PROVIDER_ID="github.com";var of=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return io(n,[{key:"_getIdTokenResponse",value:function(e){return jl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,jl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,jl(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(yl),uf=function(e){oo(n,e);var t=co(n);function n(e){return no(this,n),Ws(e.startsWith("saml."),"argument-error"),t.call(this,e)}return io(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=of.fromJSON(e);return Ws(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return of._create(r,n)}catch(i){return null}}}]),n}(Zl),sf=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.call(this,"twitter.com")}return io(n,null,[{key:"credential",value:function(e,t){return ql._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(fN){return null}}}]),n}(ef);function cf(e,t){return lf.apply(this,arguments)}function lf(){return(lf=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signUp",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}sf.TWITTER_SIGN_IN_METHOD="twitter.com",sf.PROVIDER_ID="twitter.com";var ff=function(){function e(t){no(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return io(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ko(qo().mark((function t(n,r,i){var a,o,u,s,c=arguments;return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Oc._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=hf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ko(qo().mark((function t(n,r,i){var a;return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=hf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function hf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function df(){return df=Ko(qo().mark((function e(t){var n,r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ff({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,cf(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ff._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}var pf=function(e){oo(n,e);var t=co(n);function n(e,r,i,a){var o,u;return no(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Ci(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return io(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ao);function vf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw pf._fromErrorAndOperation(e,n,t,r);throw n}))}function mf(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function yf(e,t){return gf.apply(this,arguments)}function gf(){return gf=Ko(qo().mark((function e(t,n){var r,i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bo(t),e.next=3,wf(!0,r,n);case 3:return e.t0=dc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=mf(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function kf(e,t){return bf.apply(this,arguments)}function bf(){return bf=Ko(qo().mark((function e(t,n){var r,i,a=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=wc,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ff._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}function wf(e,t,n){return xf.apply(this,arguments)}function xf(){return(xf=Ko(qo().mark((function e(t,n,r){var i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ec(n);case 2:i=mf(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ws(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function If(e,t){return _f.apply(this,arguments)}function _f(){return _f=Ko(qo().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,wc(t,vf(i,a,n,t),r);case 6:return Ws((o=e.sent).idToken,i,"internal-error"),Ws(u=bc(o.idToken),i,"internal-error"),s=u.sub,Ws(t.uid===s,i,"user-mismatch"),e.abrupt("return",ff._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Us(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),_f.apply(this,arguments)}function Sf(e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=Ko(qo().mark((function e(t,n){var r,i,a,o,u=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,vf(t,i,n);case 4:return a=e.sent,e.next=7,ff._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ef.apply(this,arguments)}function Tf(e,t){return Cf.apply(this,arguments)}function Cf(){return(Cf=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(hl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Af(e,t){return Nf.apply(this,arguments)}function Nf(){return(Nf=Ko(qo().mark((function e(t,n){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bo(t),e.next=3,wf(!1,r,n.providerId);case 3:return e.abrupt("return",kf(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rf(e,t){return Pf.apply(this,arguments)}function Pf(){return(Pf=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",If(Bo(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Df(e,t){return Of.apply(this,arguments)}function Of(){return(Of=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t,"POST","/v1/accounts:signInWithCustomToken",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lf(){return(Lf=Ko(qo().mark((function e(t,n){var r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),e.next=3,Df(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ff._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mf=function(){function e(t,n){no(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return io(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ff._fromServerResponse(e,t):"totpInfo"in t?Vf._fromServerResponse(e,t):Us(e,"internal-error")}}]),e}(),Ff=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return io(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Mf),Vf=function(e){oo(n,e);var t=co(n);function n(e){return no(this,n),t.call(this,"totp",e)}return io(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Mf);function Uf(e,t,n){var r;Ws((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ws("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ws(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ws(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function zf(){return zf=Ko(qo().mark((function e(t,n,r){var i,a,o,u;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=hl(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,sl(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&Uf(a,u,r),e.next=9,Nl(a,u);case 9:e.next=14;break;case 11:return r&&Uf(a,o,r),e.next=14,Nl(a,o).catch(function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,sl(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Uf(a,n,r),e.next=8,Nl(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function jf(){return(jf=Ko(qo().mark((function e(t,n,r){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gl(Bo(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bf(){return(Bf=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xl(Bo(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qf(e,t){return Wf.apply(this,arguments)}function Wf(){return(Wf=Ko(qo().mark((function e(t,n){var r,i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bo(t),e.next=3,gl(r,{oobCode:n});case 3:i=e.sent,Ws(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ws(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ws(i.mfaInfo,r,"internal-error");case 13:Ws(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Mf._fromServerResponse(hl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kf(){return Kf=Ko(qo().mark((function e(t,n){var r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qf(Bo(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Gf(e,t,n){return Hf.apply(this,arguments)}function Hf(){return Hf=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s,c,l;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=hl(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,sl(a,o,"signUpPassword");case 5:s=e.sent,u=cf(a,s),e.next=10;break;case 9:u=cf(a,o).catch(function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,sl(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",cf(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,ff._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Qf(){return Qf=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Ws(t.handleCodeInApp,a,"argument-error"),t&&Uf(a,e,t)},a=hl(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,sl(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,Pl(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,Pl(a,o).catch(function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,sl(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,Pl(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function $f(){return($f=Ko(qo().mark((function e(t,n,r){var i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bo(t),Ws((a=Jl.credentialWithLink(n,r||Hs()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Tf(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e,t){return Xf.apply(this,arguments)}function Xf(){return(Xf=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:createAuthUri",tc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jf(){return(Jf=Ko(qo().mark((function e(t,n){var r,i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qs()?Hs():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Yf(Bo(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zf(){return(Zf=Ko(qo().mark((function e(t,n){var r,i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bo(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Uf(r.auth,a,n),e.next=8,Cl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eh(){return(eh=Ko(qo().mark((function e(t,n,r){var i,a,o,u;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bo(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Uf(i.auth,o,r),e.next=8,Ol(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return(nh=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(){return(rh=Ko(qo().mark((function e(t,n){var r,i,a,o,u,s,c;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Bo(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,wc(a,th(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ih(e,t,n){return ah.apply(this,arguments)}function ah(){return(ah=Ko(qo().mark((function e(t,n,r){var i,a,o,u;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,wc(t,bl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oh=io((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};no(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),uh=function(e){oo(n,e);var t=co(n);function n(e,r,i,a){var o;return no(this,n),(o=t.call(this,e,r,i)).username=a,o}return io(n)}(oh),sh=function(e){oo(n,e);var t=co(n);function n(e,r){return no(this,n),t.call(this,e,"facebook.com",r)}return io(n)}(oh),ch=function(e){oo(n,e);var t=co(n);function n(e,r){return no(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return io(n)}(uh),lh=function(e){oo(n,e);var t=co(n);function n(e,r){return no(this,n),t.call(this,e,"google.com",r)}return io(n)}(oh),fh=function(e){oo(n,e);var t=co(n);function n(e,r,i){return no(this,n),t.call(this,e,"twitter.com",r,i)}return io(n)}(uh);function hh(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=bc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new oh(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new sh(a,i);case"github.com":return new ch(a,i);case"google.com":return new lh(a,i);case"twitter.com":return new fh(a,i,e.screenName||null);case"custom":case"anonymous":return new oh(a,null);default:return new oh(a,r,i)}}(n)}var dh=function(){function e(t,n,r){no(this,e),this.type=t,this.credential=n,this.auth=r}return io(e,[{key:"toJSON",value:function(){return{multiFactorSession:w({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ph=function(){function e(t,n,r){no(this,e),this.session=t,this.hints=n,this.signInResolver=r}return io(e,[{key:"resolveSignIn",value:function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=hl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Mf._fromServerResponse(r,e)}));Ws(i.mfaPendingCredential,r,"internal-error");var o=dh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ko(qo().mark((function e(t){var a,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ff._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ws(n.user,r,"internal-error"),e.abrupt("return",ff._forOperation(n.user,n.operationType,u));case 17:Us(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function vh(e,t){return nc(e,"POST","/v2/accounts/mfaEnrollment:start",tc(e,t))}function mh(e,t){return nc(e,"POST","/v2/accounts/mfaEnrollment:finalize",tc(e,t))}var yh=function(){function e(t){var n=this;no(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Mf._fromServerResponse(t.auth,e)})))}))}return io(e,[{key:"getSession",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=dh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ko(qo().mark((function e(t,n){var r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,wc(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ko(qo().mark((function e(t){var n,r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,wc(this.user,nc(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",tc(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),gh=new WeakMap;var kh="__sak",bh=function(){function e(t,n){no(this,e),this.storageRetriever=t,this.type=n}return io(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch(fN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var wh=function(e){oo(n,e);var t=co(n);function n(){var e;return no(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Io();return qc(e)||$c(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Yc(),e._shouldAllowMigration=!0,e}return io(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);To()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ko(qo().mark((function e(t,r){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(uo(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ko(qo().mark((function e(t){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(uo(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(uo(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(bh);wh.type="LOCAL";var xh=wh,Ih=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return io(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(bh);Ih.type="SESSION";var _h=Ih;function Sh(e){return Promise.all(e.map(function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Eh=function(){function e(t){no(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return io(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ko(qo().mark((function e(t){var n,r,i,a,o,u,s,c;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Sh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Th(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Eh.receivers=[];var Ch=function(){function e(t){no(this,e),this.target=t,this.handlers=new Set}return io(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ko(qo().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Th("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ah(){return window}function Nh(e){Ah().location.href=e}function Rh(){return"undefined"!==typeof Ah().WorkerGlobalScope&&"function"===typeof Ah().importScripts}function Ph(){return Dh.apply(this,arguments)}function Dh(){return(Dh=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Oh(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Lh="firebaseLocalStorageDb",Mh="firebaseLocalStorage",Fh="fbase_key",Vh=function(){function e(t){no(this,e),this.request=t}return io(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Uh(e,t){return e.transaction([Mh],t?"readwrite":"readonly").objectStore(Mh)}function zh(){var e=indexedDB.deleteDatabase(Lh);return new Vh(e).toPromise()}function jh(){var e=indexedDB.open(Lh,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Mh,{keyPath:Fh})}catch(r){n(r)}})),e.addEventListener("success",Ko(qo().mark((function n(){var r;return qo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Mh)){n.next=12;break}return r.close(),n.next=5,zh();case 5:return n.t0=t,n.next=8,jh();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Bh(e,t,n){return qh.apply(this,arguments)}function qh(){return qh=Ko(qo().mark((function e(t,n,r){var i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Uh(t,!0).put((w(i={},Fh,n),w(i,"value",r),i)),e.abrupt("return",new Vh(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}function Wh(e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=Ko(qo().mark((function e(t,n){var r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uh(t,!1).get(n),e.next=3,new Vh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Gh(e,t){var n=Uh(e,!0).delete(t);return new Vh(n).toPromise()}var Hh=function(){function e(){no(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return io(e,[{key:"_openDb",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,jh();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ko(qo().mark((function e(){var t=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Eh._getInstance(Rh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ko(qo().mark((function e(n,r){var i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ko(qo().mark((function e(){var t,n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ch(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Oh()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,jh();case 5:return t=e.sent,e.next=8,Bh(t,kh,"1");case 8:return e.next=10,Gh(t,kh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ko(qo().mark((function e(t,n){var r=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Bh(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Wh(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ko(qo().mark((function e(t){var n=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Gh(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ko(qo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Uh(e,!1).getAll();return new Vh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ao(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ko(qo().mark((function t(){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Hh.type="LOCAL";var Qh=Hh;function $h(e,t){return nc(e,"POST","/v2/accounts/mfaSignIn:start",tc(e,t))}function Yh(e,t){return nc(e,"POST","/v2/accounts/mfaSignIn:finalize",tc(e,t))}var Xh=1e12,Jh=function(){function e(t){no(this,e),this.auth=t,this.counter=Xh,this._widgets=new Map}return io(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Zh(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Xh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Xh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Xh,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Zh=function(){function e(t,n,r){var i=this;no(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ws(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return io(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ed=ol("rcb"),td=new Ys(3e4,6e4),nd=function(){function e(){var t;no(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ah().grecaptcha)||void 0===t?void 0:t.render)}return io(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ws(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&nl(Ah().grecaptcha)?Promise.resolve(Ah().grecaptcha):new Promise((function(r,i){var a=Ah().setTimeout((function(){i(zs(e,"network-request-failed"))}),td.get());Ah()[ed]=function(){Ah().clearTimeout(a),delete Ah()[ed];var o=Ah().grecaptcha;if(o&&nl(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(zs(e,"internal-error"))},al("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Mo({onload:ed,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(zs(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ah().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var rd=function(){function e(){no(this,e)}return io(e,[{key:"load",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Jh(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),id="recaptcha",ad={theme:"light",type:"image"},od=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ad),r=arguments.length>2?arguments[2]:void 0;no(this,e),this.parameters=n,this.type=id,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hl(r),this.isInvisible="invisible"===this.parameters.size,Ws("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ws(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rd:new nd,this.validateStartingState()}return io(e,[{key:"verify",value:function(){var e=Ko(qo().mark((function e(){var t,n,r,i=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ws(!this.parameters.sitekey,this.auth,"argument-error"),Ws(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ws("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ah()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ws(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ko(qo().mark((function e(){var t,n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ws(Qs()&&!Rh(),this.auth,"internal-error"),e.next=3,ud();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Jc(this.auth);case 8:Ws(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ws(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ud(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var sd=function(){function e(t,n){no(this,e),this.verificationId=t,this.onConfirmation=n}return io(e,[{key:"confirm",value:function(e){var t=Yl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function cd(){return(cd=Ko(qo().mark((function e(t,n,r){var i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hl(t),e.next=3,dd(i,n,Bo(r));case 3:return a=e.sent,e.abrupt("return",new sd(a,(function(e){return Tf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ld(e,t,n){return fd.apply(this,arguments)}function fd(){return(fd=Ko(qo().mark((function e(t,n,r){var i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bo(t),e.next=3,wf(!1,i,"phone");case 3:return e.next=5,dd(i.auth,n,Bo(r));case 5:return a=e.sent,e.abrupt("return",new sd(a,(function(e){return Af(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hd(){return(hd=Ko(qo().mark((function e(t,n,r){var i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bo(t),e.next=3,dd(i.auth,n,Bo(r));case 3:return a=e.sent,e.abrupt("return",new sd(a,(function(e){return Rf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dd(e,t,n){return pd.apply(this,arguments)}function pd(){return pd=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ws("string"===typeof a,t,"argument-error"),Ws(r.type===id,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ws("enroll"===u.type,t,"internal-error"),e.next=13,vh(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ws("signin"===u.type,t,"internal-error"),Ws(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,$h(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Wl(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),pd.apply(this,arguments)}function vd(){return(vd=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kf(Bo(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var md=function(){function e(t){no(this,e),this.providerId=e.PROVIDER_ID,this.auth=hl(t)}return io(e,[{key:"verifyPhoneNumber",value:function(e,t){return dd(this.auth,e,Bo(t))}}],[{key:"credential",value:function(e,t){return Yl._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Yl._fromTokenResponse(n,r):null}}]),e}();function yd(e,t){return t?Mc(t):(Ws(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}md.PROVIDER_ID="phone",md.PHONE_SIGN_IN_METHOD="phone";var gd=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this,"custom","custom")).params=e,r}return io(n,[{key:"_getIdTokenResponse",value:function(e){return jl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return jl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return jl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(yl);function kd(e){return Sf(e.auth,new gd(e),e.bypassAuthState)}function bd(e){var t=e.auth,n=e.user;return Ws(n,t,"internal-error"),If(n,new gd(e),e.bypassAuthState)}function wd(e){return xd.apply(this,arguments)}function xd(){return(xd=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ws(r=t.user,n,"internal-error"),e.abrupt("return",kf(r,new gd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Id=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];no(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return io(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ko(qo().mark((function t(n,r){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ko(qo().mark((function e(t){var n,r,i,a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kd;case"linkViaPopup":case"linkViaRedirect":return wd;case"reauthViaPopup":case"reauthViaRedirect":return bd;default:Us(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),_d=new Ys(2e3,1e4);function Sd(e,t,n){return Ed.apply(this,arguments)}function Ed(){return(Ed=Ko(qo().mark((function e(t,n,r){var i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hl(t),Bs(t,n,Zl),a=yd(i,r),o=new Nd(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Td(){return(Td=Ko(qo().mark((function e(t,n,r){var i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bs((i=Bo(t)).auth,n,Zl),a=yd(i.auth,r),o=new Nd(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cd(e,t,n){return Ad.apply(this,arguments)}function Ad(){return(Ad=Ko(qo().mark((function e(t,n,r){var i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bs((i=Bo(t)).auth,n,Zl),a=yd(i.auth,r),o=new Nd(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nd=function(e){oo(n,e);var t=co(n);function n(e,r,i,a,o){var u;return no(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Ci(u),u}return io(n,[{key:"executeNotNull",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ws(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ko(qo().mark((function e(){var t,n=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gs(1===this.filter.length,"Popup operations only handle one event"),t=Th(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(zs(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(zs(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(zs(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,_d.get())}()}}]),n}(Id);Nd.currentPopupAction=null;var Rd="pendingRedirect",Pd=new Map,Dd=function(e){oo(n,e);var t=co(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return no(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return io(n,[{key:"execute",value:function(){var e=Ko(qo().mark((function e(){var t,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Pd.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Od(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,xs(uo(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Pd.set(this.auth._key(),t);case 21:return this.bypassAuthState||Pd.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ko(qo().mark((function e(t){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",xs(uo(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",xs(uo(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Id);function Od(e,t){return Ld.apply(this,arguments)}function Ld(){return(Ld=Ko(qo().mark((function e(t,n){var r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zd(n),i=Ud(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Md(e,t){return Fd.apply(this,arguments)}function Fd(){return(Fd=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ud(t)._set(zd(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vd(e,t){Pd.set(e._key(),t)}function Ud(e){return Mc(e._redirectPersistence)}function zd(e){return Uc(Rd,e.config.apiKey,e.name)}function jd(e,t,n){return function(e,t,n){return Bd.apply(this,arguments)}(e,t,n)}function Bd(){return(Bd=Ko(qo().mark((function e(t,n,r){var i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hl(t),Bs(t,n,Zl),e.next=4,i._initializationPromise;case 4:return a=yd(i,r),e.next=7,Md(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qd(e,t,n){return function(e,t,n){return Wd.apply(this,arguments)}(e,t,n)}function Wd(){return(Wd=Ko(qo().mark((function e(t,n,r){var i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bs((i=Bo(t)).auth,n,Zl),e.next=4,i.auth._initializationPromise;case 4:return a=yd(i.auth,r),e.next=7,Md(a,i.auth);case 7:return e.next=9,Xd(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kd(e,t,n){return function(e,t,n){return Gd.apply(this,arguments)}(e,t,n)}function Gd(){return(Gd=Ko(qo().mark((function e(t,n,r){var i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bs((i=Bo(t)).auth,n,Zl),e.next=4,i.auth._initializationPromise;case 4:return a=yd(i.auth,r),e.next=7,wf(!1,i,n.providerId);case 7:return e.next=9,Md(a,i.auth);case 9:return e.next=11,Xd(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hd(e,t){return Qd.apply(this,arguments)}function Qd(){return(Qd=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hl(t)._initializationPromise;case 2:return e.abrupt("return",$d(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $d(e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=Ko(qo().mark((function e(t,n){var r,i,a,o,u,s=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=hl(t),a=yd(i,n),o=new Dd(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}function Xd(e){return Jd.apply(this,arguments)}function Jd(){return(Jd=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Th("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zd=function(){function e(t){no(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return io(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!tp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(zs(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ep(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ep(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ep(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function tp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function np(e){return rp.apply(this,arguments)}function rp(){return rp=Ko(qo().mark((function e(t){var n,r=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",nc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}var ip=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ap=/^https?/;function op(){return(op=Ko(qo().mark((function e(t){var n,r,i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,np(t);case 4:n=e.sent,r=n.authorizedDomains,i=ao(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!up(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Us(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function up(e){var t=Hs(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ap.test(r))return!1;if(ip.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var sp=new Ys(3e4,6e4);function cp(){var e=Ah().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Vn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var lp=null;function fp(e){return lp=lp||function(e){return new Promise((function(t,n){var r,i,a;function o(){cp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){cp(),n(zs(e,"network-request-failed"))},timeout:sp.get()})}if(null===(i=null===(r=Ah().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ah().gapi)||void 0===a?void 0:a.load)){var u=ol("iframefcb");return Ah()[u]=function(){gapi.load?o():n(zs(e,"network-request-failed"))},al("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw lp=null,e}))}(e),lp}var hp=new Ys(5e3,15e3),dp="__/auth/iframe",pp="emulator/auth/iframe",vp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yp(e){var t=e.config;Ws(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Xs(t,pp):"https://".concat(e.config.authDomain,"/").concat(dp),r={apiKey:t.apiKey,appName:e.name,v:qu},i=mp.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Mo(r).slice(1))}function gp(e){return kp.apply(this,arguments)}function kp(){return kp=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fp(t);case 2:return n=e.sent,Ws(r=Ah().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:yp(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vp,dontclear:!0},(function(e){return new Promise(function(){var n=Ko(qo().mark((function n(r,i){var a,o,u;return qo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ah().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=zs(t,"network-request-failed"),o=Ah().setTimeout((function(){i(a)}),hp.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}var bp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wp=function(){function e(t){no(this,e),this.window=t,this.associatedEvent=null}return io(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function xp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},bp),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Io().toLowerCase();n&&(u=Wc(l)?"_blank":n),Bc(l)&&(t=t||"http://localhost",s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return $c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new wp(null);var h=window.open(t||"",u,f);Ws(h,e,"popup-blocked");try{h.focus()}catch(d){}return new wp(h)}var Ip="__/auth/handler",_p="emulator/auth/handler",Sp=encodeURIComponent("fac");function Ep(e,t,n,r,i,a){return Tp.apply(this,arguments)}function Tp(){return(Tp=Ko(qo().mark((function e(t,n,r,i,a,o){var u,s,l,f,h,d,p,v,m,y,g,k,b;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ws(t.config.authDomain,t,"auth-domain-config-required"),Ws(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:qu,eventId:a},n instanceof Zl)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Do(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,l=Object.entries(o||{});s<l.length;s++)f=c(l[s],2),h=f[0],d=f[1],u[h]=d;for(n instanceof ef&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(Sp,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Cp(t),"?").concat(Mo(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cp(e){var t=e.config;return t.emulator?Xs(t,_p):"https://".concat(t.authDomain,"/").concat(Ip)}var Ap="webStorageSupport",Np=function(){function e(){no(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_h,this._completeRedirectFn=$d,this._overrideRedirectResult=Vd}return io(e,[{key:"_openPopup",value:function(){var e=Ko(qo().mark((function e(t,n,r,i){var a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gs(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Ep(t,n,r,Hs(),i);case 3:return o=e.sent,e.abrupt("return",xp(t,o,Th()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ko(qo().mark((function e(t,n,r,i){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Ep(t,n,r,Hs(),i);case 4:return Nh(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Gs(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gp(t);case 2:return n=e.sent,r=new Zd(t),n.register("authEvent",(function(e){return Ws(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ap,{type:Ap},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ap];void 0!==i&&t(!!i),Us(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return op.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Yc()||qc()||$c()}}]),e}(),Rp=Np,Pp=function(){function e(t){no(this,e),this.factorId=t}return io(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ks("unexpected MultiFactorSessionType")}}}]),e}(),Dp=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this,"phone")).credential=e,r}return io(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return nc(e,"POST","/v2/accounts/mfaEnrollment:finalize",tc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return nc(e,"POST","/v2/accounts/mfaSignIn:finalize",tc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Pp),Op=function(){function e(){no(this,e)}return io(e,null,[{key:"assertion",value:function(e){return Dp._fromCredential(e)}}]),e}();Op.FACTOR_ID="phone";var Lp=function(){function e(){no(this,e)}return io(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Mp._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Mp._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ws("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},nc(i,"POST","/v2/accounts/mfaEnrollment:start",tc(i,a));case 4:return r=e.sent,e.abrupt("return",Fp._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Lp.FACTOR_ID="totp";var Mp=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a;return no(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return io(n,[{key:"_finalizeEnroll",value:function(){var e=Ko(qo().mark((function e(t,n,r){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ws("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",mh(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Ko(qo().mark((function e(t,n){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ws(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Yh(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Pp),Fp=function(){function e(t,n,r,i,a,o,u){no(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return io(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Vp(e)||Vp(t))&&(r=!0),r&&(Vp(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Vp(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Vp(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Up="@firebase/auth",zp="0.23.0",jp=function(){function e(t){no(this,e),this.auth=t,this.internalListeners=new Map}return io(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ws(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Bp;!function(e){var t;null===(t=bo())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function qp(){return window}Bp="Browser",Mu(new Go("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Ws(u&&!u.includes(":"),"invalid-api-key",{appName:r.name}),Ws(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Bp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xc(Bp)},l=new fl(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Mu(new Go("auth-internal",(function(e){return function(e){return new jp(e)}(hl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),$u(Up,zp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Bp)),$u(Up,zp,"esm2017");var Wp=2e3;function Kp(e,t,n){return Gp.apply(this,arguments)}function Gp(){return Gp=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qp(),o=a.BuildInfo,Gs(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Jp(n.sessionId);case 4:return u=e.sent,s={},$c()?s.ibi=o.packageName:Gc()?s.apn=o.packageName:Us(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Ep(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}function Hp(){return(Hp=Ko(qo().mark((function e(t){var n,r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qp(),r=n.BuildInfo,i={},$c()?i.iosBundleId=r.packageName:Gc()?i.androidPackageName=r.packageName:Us(t,"operation-not-supported-in-this-environment"),e.next=5,np(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qp(e){var t=qp().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function $p(e,t,n){return Yp.apply(this,arguments)}function Yp(){return Yp=Ko(qo().mark((function e(t,n,r){var i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qp(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(zs(t,"redirect-cancelled-by-user"))}),Wp))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Gc()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Yp.apply(this,arguments)}function Xp(e){var t,n,r,i,a,o,u,s,c,l,f=qp();Ws("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ws("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ws("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ws("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ws("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Jp(e){return Zp.apply(this,arguments)}function Zp(){return(Zp=Ko(qo().mark((function e(t){var n,r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ev(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ev(e){if(Gs(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var tv=20,nv=function(e){oo(n,e);var t=co(n);function n(){var e;return no(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return io(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),xs(uo(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Zd);function rv(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:sv(),postBody:null,tenantId:e.tenantId,error:zs(e,"no-auth-event")}}function iv(e,t){return cv()._set(lv(e),t)}function av(e){return ov.apply(this,arguments)}function ov(){return(ov=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cv()._get(lv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,cv()._remove(lv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uv(e,t){var n,r,i=function(e){var t=fv(e),n=t.link?decodeURIComponent(t.link):void 0,r=fv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return fv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=fv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?zs(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function sv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<tv;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function cv(){return Mc(xh)}function lv(e){return Uc("authEvent",e.config.apiKey,e.name)}function fv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||Fn(t)||u(t)||s();r[0];return Fo(r.slice(1).join("?"))}var hv=function(){function e(){no(this,e),this._redirectPersistence=_h,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$d,this._overrideRedirectResult=Vd}return io(e,[{key:"_initialize",value:function(){var e=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new nv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Us(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ko(qo().mark((function e(t,n,r,i){var a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xp(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Pd.clear(),e.next=10,this._originValidation(t);case 10:return o=rv(t,r,i),e.next=13,iv(t,o);case 13:return e.next=15,Kp(t,o,n);case 15:return u=e.sent,e.next=18,Qp(u);case 18:return s=e.sent,e.abrupt("return",$p(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Hp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=qp(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ko(qo().mark((function n(){return qo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,av(e);case 2:t.onEvent(pv());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ko(qo().mark((function n(r){var i,a;return qo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,av(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=uv(i,r.url)),t.onEvent(a||pv());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");qp().handleOpenURL=function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),dv=hv;function pv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zs("no-auth-event")}}var vv=1e3;function mv(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function yv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return!("file:"!==mv()&&"ionic:"!==mv()&&"capacitor:"!==mv()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function gv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return To()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io();return/Edge\/\d+/.test(e)}(e)}function kv(){try{var e=self.localStorage,t=Th();if(e)return e.setItem(t,"1"),e.removeItem(t),!gv()||Co()}catch(n){return bv()&&Co()}return!1}function bv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function wv(){return("http:"===mv()||"https:"===mv()||So()||yv())&&!(Eo()||_o())&&kv()&&!bv()}function xv(){return yv()&&"undefined"!==typeof document}function Iv(){return _v.apply(this,arguments)}function _v(){return(_v=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),vv);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sv={LOCAL:"local",NONE:"none",SESSION:"session"},Ev=Ws,Tv="persistence";function Cv(e,t){Ev(Object.values(Sv).includes(t),e,"invalid-persistence-type"),Eo()?Ev(t!==Sv.SESSION,e,"unsupported-persistence-type"):_o()?Ev(t===Sv.NONE,e,"unsupported-persistence-type"):bv()?Ev(t===Sv.NONE||t===Sv.LOCAL&&Co(),e,"unsupported-persistence-type"):Ev(t===Sv.NONE||kv(),e,"unsupported-persistence-type")}function Av(e){return Nv.apply(this,arguments)}function Nv(){return(Nv=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Rv(),r=Uc(Tv,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rv(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Pv=Ws,Dv=function(){function e(){no(this,e),this.browserResolver=Mc(Rp),this.cordovaResolver=Mc(dv),this.underlyingResolver=null,this._redirectPersistence=_h,this._completeRedirectFn=$d,this._overrideRedirectResult=Vd}return io(e,[{key:"_initialize",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ko(qo().mark((function e(t,n,r,i){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ko(qo().mark((function e(t,n,r,i){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return xv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Pv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Iv();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ov(e){return e.unwrap()}function Lv(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new zv(e,function(e,t){var n,r=Bo(e),i=t;return Ws(t.customData.operationType,r,"argument-error"),Ws(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ph._fromError(r,i)}(e,t));else if(r){var i=Mv(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Mv(e){var t=(e instanceof Ao?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ao)&&"temporaryProof"in t&&"phoneNumber"in t)return md.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ss.PASSWORD)return null;switch(r){case Ss.GOOGLE:n=rf;break;case Ss.FACEBOOK:n=nf;break;case Ss.GITHUB:n=af;break;case Ss.TWITTER:n=sf;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?of._create(r,u):ql._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new tf(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ao?n.credentialFromError(e):n.credentialFromResult(e)}function Fv(e,t){return t.catch((function(t){throw t instanceof Ao&&Lv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Mv(t)),additionalUserInfo:hh(e),user:jv.getOrCreate(r)}}))}function Vv(e,t){return Uv.apply(this,arguments)}function Uv(){return(Uv=Ko(qo().mark((function e(t,n){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Fv(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zv=function(){function e(t,n){no(this,e),this.resolver=n,this.auth=t.wrapped()}return io(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Fv(Ov(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),jv=function(){function e(t){no(this,e),this._delegate=t,this.multiFactor=function(e){var t=Bo(e);return gh.has(t)||gh.set(t,yh._fromUser(t)),gh.get(t)}(t)}return io(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fv(this.auth,Af(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vv(this.auth,ld(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fv(this.auth,Cd(this._delegate,t,Dv)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Av(hl(this.auth));case 2:return e.abrupt("return",Kd(this._delegate,t,Dv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fv(this.auth,Rf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Vv(this.auth,function(e,t,n){return hd.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Fv(this.auth,function(e,t,n){return Td.apply(this,arguments)}(this._delegate,e,Dv))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Av(hl(this.auth));case 2:return e.abrupt("return",qd(this._delegate,t,Dv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Zf.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ih(Bo(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ih(Bo(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return vd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return rh.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return eh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();jv.USER_MAP=new WeakMap;var Bv=Ws,qv=function(){function e(t,n){if(no(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Bv(r,"invalid-api-key",{appName:t.name}),Bv(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Dv:void 0;this._delegate=n.initialize({options:{persistence:Kv(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ds),this.linkUnderlyingAuth()}return io(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?jv.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){pl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Bf.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return qf(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return jf.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fv(this._delegate,Gf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Jf.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Xl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bv(wv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Hd(this._delegate,Dv);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Fv(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){hl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Wv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Wv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Qf.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return zf.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cv(this._delegate,t),e.t0=t,e.next=e.t0===Sv.SESSION?4:e.t0===Sv.LOCAL?6:e.t0===Sv.NONE?11:13;break;case 4:return n=_h,e.abrupt("break",14);case 6:return e.next=8,Mc(Qh)._isAvailable();case 8:return r=e.sent,n=r?Qh:xh,e.abrupt("break",14);case 11:return n=Vc,e.abrupt("break",14);case 13:return e.abrupt("return",Us("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Fv(this._delegate,function(e){return df.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Fv(this._delegate,Tf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Fv(this._delegate,function(e,t){return Lf.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Fv(this._delegate,function(e,t,n){return Tf(Bo(e),Jl.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Fv(this._delegate,function(e,t,n){return $f.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Vv(this._delegate,function(e,t,n){return cd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bv(wv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Fv(this._delegate,Sd(this._delegate,t,Dv)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bv(wv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Av(this._delegate);case 3:return e.abrupt("return",jd(this._delegate,t,Dv));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Kf.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Wv(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&jv.getOrCreate(e))},error:t,complete:n}}function Kv(e,t){var n=function(e,t){var n=Rv();if(!n)return[];var r=Uc(Tv,e,t);switch(n.getItem(r)){case Sv.NONE:return[Vc];case Sv.LOCAL:return[Qh,_h];case Sv.SESSION:return[_h];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Qh)||n.push(Qh),"undefined"!==typeof window)for(var r=0,i=[xh,_h];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Vc)||n.push(Vc),n}qv.Persistence=Sv;var Gv=function(){function e(){no(this,e),this.providerId="phone",this._delegate=new md(Ov(ws.auth()))}return io(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return md.credential(e,t)}}]),e}();Gv.PHONE_SIGN_IN_METHOD=md.PHONE_SIGN_IN_METHOD,Gv.PROVIDER_ID=md.PROVIDER_ID;var Hv,Qv=Ws,$v=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ws.app();no(this,e),Qv(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new od(t,n,i.auth()),this.type=this._delegate.type}return io(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Hv=ws).INTERNAL.registerComponent(new Go("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new qv(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Es,PASSWORD_RESET:Ts,RECOVER_EMAIL:Cs,REVERT_SECOND_FACTOR_ADDITION:As,VERIFY_AND_CHANGE_EMAIL:Ns,VERIFY_EMAIL:Rs}},EmailAuthProvider:Jl,FacebookAuthProvider:nf,GithubAuthProvider:af,GoogleAuthProvider:rf,OAuthProvider:tf,SAMLAuthProvider:uf,PhoneAuthProvider:Gv,PhoneMultiFactorGenerator:Op,RecaptchaVerifier:$v,TwitterAuthProvider:sf,Auth:qv,AuthCredential:yl,Error:Ao}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Hv.registerVersion("@firebase/auth-compat","0.4.0");var Yv,Xv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Jv={},Zv=Zv||{},em=Xv||self;function tm(){}function nm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var im="closure_uid_"+(1e9*Math.random()>>>0),am=0;function om(e,t,n){return e.call.apply(e.bind,arguments)}function um(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function sm(e,t,n){return(sm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?om:um).apply(null,arguments)}function cm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function lm(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function fm(){this.s=this.s,this.o=this.o}fm.prototype.s=!1,fm.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,im)&&e[im]||(e[im]=++am))},fm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function dm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function pm(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(nm(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function vm(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vm.prototype.h=function(){this.defaultPrevented=!0};var mm=function(){if(!em.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{em.addEventListener("test",tm,t),em.removeEventListener("test",tm,t)}catch(n){}return e}();function ym(e){return/^[\s\xa0]*$/.test(e)}var gm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function km(e,t){return e<t?-1:e>t?1:0}function bm(){var e=em.navigator;return e&&(e=e.userAgent)?e:""}function wm(e){return-1!=bm().indexOf(e)}function xm(e){return xm[" "](e),e}xm[" "]=tm;var Im,_m=wm("Opera"),Sm=wm("Trident")||wm("MSIE"),Em=wm("Edge"),Tm=Em||Sm,Cm=wm("Gecko")&&!(-1!=bm().toLowerCase().indexOf("webkit")&&!wm("Edge"))&&!(wm("Trident")||wm("MSIE"))&&!wm("Edge"),Am=-1!=bm().toLowerCase().indexOf("webkit")&&!wm("Edge");function Nm(){var e=em.document;return e?e.documentMode:void 0}e:{var Rm="",Pm=function(){var e=bm();return Cm?/rv:([^\);]+)(\)|;)/.exec(e):Em?/Edge\/([\d\.]+)/.exec(e):Sm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Am?/WebKit\/(\S+)/.exec(e):_m?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Pm&&(Rm=Pm?Pm[1]:""),Sm){var Dm=Nm();if(null!=Dm&&Dm>parseFloat(Rm)){Im=String(Dm);break e}}Im=Rm}var Om,Lm={};function Mm(){return function(e){var t=Lm;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=gm(String(Im)).split("."),n=gm("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=km(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||km(0==a[2].length,0==o[2].length)||km(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(em.document&&Sm){var Fm=Nm();Om=Fm||(parseInt(Im,10)||void 0)}else Om=void 0;var Vm=Om;function Um(e,t){if(vm.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Cm){e:{try{xm(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:zm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Um.X.h.call(this)}}lm(Um,vm);var zm={2:"touch",3:"pen",4:"mouse"};Um.prototype.h=function(){Um.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jm="closure_listenable_"+(1e6*Math.random()|0),Bm=0;function qm(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Bm,this.ba=this.ea=!1}function Wm(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Km(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Gm(e){var t={};for(var n in e)t[n]=e[n];return t}var Hm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Hm.length;a++)n=Hm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $m(e){this.src=e,this.g={},this.h=0}function Ym(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Wm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Xm(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}$m.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Xm(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new qm(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Jm="closure_lm_"+(1e6*Math.random()|0),Zm={};function ey(e,t,n,r,i){if(r&&r.once)return ny(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ey(e,t[a],n,r,i);return null}return n=cy(n),e&&e[jm]?e.N(t,n,rm(r)?!!r.capture:!!r,i):ty(e,t,n,!1,r,i)}function ty(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=rm(i)?!!i.capture:!!i,u=uy(e);if(u||(e[Jm]=u=new $m(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=oy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)mm||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ay(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ny(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ny(e,t[a],n,r,i);return null}return n=cy(n),e&&e[jm]?e.O(t,n,rm(r)?!!r.capture:!!r,i):ty(e,t,n,!0,r,i)}function ry(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ry(e,t[a],n,r,i);else r=rm(r)?!!r.capture:!!r,n=cy(n),e&&e[jm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Xm(a=e.g[t],n,r,i))&&(Wm(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=uy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xm(t,n,r,i)),(n=-1<e?t[e]:null)&&iy(n))}function iy(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[jm])Ym(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ay(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=uy(t))?(Ym(n,e),0==n.h&&(n.src=null,t[Jm]=null)):Wm(e)}}}function ay(e){return e in Zm?Zm[e]:Zm[e]="on"+e}function oy(e,t){if(e.ba)e=!0;else{t=new Um(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&iy(e),e=n.call(r,t)}return e}function uy(e){return(e=e[Jm])instanceof $m?e:null}var sy="__closure_events_fn_"+(1e9*Math.random()>>>0);function cy(e){return"function"===typeof e?e:(e[sy]||(e[sy]=function(t){return e.handleEvent(t)}),e[sy])}function ly(){fm.call(this),this.i=new $m(this),this.P=this,this.I=null}function fy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new vm(t,e);else if(t instanceof vm)t.target=t.target||e;else{var i=t;Qm(t=new vm(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=hy(o,r,!0,t)&&i}if(i=hy(o=t.g=e,r,!0,t)&&i,i=hy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=hy(o=t.g=n[a],r,!1,t)&&i}function hy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Ym(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}lm(ly,fm),ly.prototype[jm]=!0,ly.prototype.removeEventListener=function(e,t,n,r){ry(this,e,t,n,r)},ly.prototype.M=function(){if(ly.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wm(n[r]);delete t.g[e],t.h--}}this.I=null},ly.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ly.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var dy=em.JSON.stringify;function py(){var e=xy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vy,my=function(){function e(){no(this,e),this.h=this.g=null}return io(e,[{key:"add",value:function(e,t){var n=yy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),yy=new(function(){function e(t,n){no(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return io(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new gy}),(function(e){return e.reset()})),gy=function(){function e(){no(this,e),this.next=this.g=this.h=null}return io(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ky(e){em.setTimeout((function(){throw e}),0)}function by(e,t){vy||function(){var e=em.Promise.resolve(void 0);vy=function(){e.then(Iy)}}(),wy||(vy(),wy=!0),xy.add(e,t)}var wy=!1,xy=new my;function Iy(){for(var e;e=py();){try{e.h.call(e.g)}catch(n){ky(n)}var t=yy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wy=!1}function _y(e,t){ly.call(this),this.h=e||1,this.g=t||em,this.j=sm(this.lb,this),this.l=Date.now()}function Sy(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ey(e,t,n){if("function"===typeof e)n&&(e=sm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=sm(e.handleEvent,e)}return 2147483647<Number(t)?-1:em.setTimeout(e,t||0)}function Ty(e){e.g=Ey((function(){e.g=null,e.i&&(e.i=!1,Ty(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}lm(_y,ly),(Yv=_y.prototype).ca=!1,Yv.R=null,Yv.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fy(this,"tick"),this.ca&&(Sy(this),this.start()))}},Yv.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Yv.M=function(){_y.X.M.call(this),Sy(this),delete this.g};var Cy=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return io(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ty(this)}},{key:"M",value:function(){xs(uo(n.prototype),"M",this).call(this),this.g&&(em.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(fm);function Ay(e){fm.call(this),this.h=e,this.g={}}lm(Ay,fm);var Ny=[];function Ry(e,t,n,r){Array.isArray(n)||(n&&(Ny[0]=n.toString()),n=Ny);for(var i=0;i<n.length;i++){var a=ey(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Py(e){Km(e.g,(function(e,t){this.g.hasOwnProperty(t)&&iy(e)}),e),e.g={}}function Dy(){this.g=!0}function Oy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return dy(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ay.prototype.M=function(){Ay.X.M.call(this),Py(this)},Ay.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dy.prototype.Aa=function(){this.g=!1},Dy.prototype.info=function(){};var Ly={},My=null;function Fy(){return My=My||new ly}function Vy(e){vm.call(this,Ly.Pa,e)}function Uy(e){var t=Fy();fy(t,new Vy(t))}function zy(e,t){vm.call(this,Ly.STAT_EVENT,e),this.stat=t}function jy(e){var t=Fy();fy(t,new zy(t,e))}function By(e,t){vm.call(this,Ly.Qa,e),this.size=t}function qy(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return em.setTimeout((function(){e()}),t)}Ly.Pa="serverreachability",lm(Vy,vm),Ly.STAT_EVENT="statevent",lm(zy,vm),Ly.Qa="timingevent",lm(By,vm);var Wy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ky={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Gy(){}function Hy(e){return e.h||(e.h=e.i())}function Qy(){}Gy.prototype.h=null;var $y,Yy={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Xy(){vm.call(this,"d")}function Jy(){vm.call(this,"c")}function Zy(){}function eg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ay(this),this.O=ng,e=Tm?125:void 0,this.T=new _y(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new tg}function tg(){this.i=null,this.g="",this.h=!1}lm(Xy,vm),lm(Jy,vm),lm(Zy,Gy),Zy.prototype.g=function(){return new XMLHttpRequest},Zy.prototype.i=function(){return{}},$y=new Zy;var ng=45e3,rg={},ig={};function ag(e,t,n){e.K=1,e.v=_g(kg(t)),e.s=n,e.P=!0,og(e,null)}function og(e,t){e.F=Date.now(),lg(e),e.A=kg(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Fg(n.i,"t",r),e.C=0,n=e.l.H,e.h=new tg,e.g=Vk(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Cy(sm(e.La,e,e.g),e.N)),Ry(e.S,e.g,"readystatechange",e.ib),t=e.H?Gm(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Uy(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function ug(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function sg(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=cg(e,n))==ig){4==t&&(e.o=4,jy(14),i=!1),Oy(e.j,e.m,null,"[Incomplete Response]");break}if(r==rg){e.o=4,jy(15),Oy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Oy(e.j,e.m,r,null),vg(e,r)}ug(e)&&r!=ig&&r!=rg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,jy(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nk(t),t.K=!0,jy(11))):(Oy(e.j,e.m,n,"[Invalid Chunked Response]"),pg(e),dg(e))}function cg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ig:(n=Number(t.substring(n,r)),isNaN(n)?rg:(r+=1)+n>t.length?ig:(t=t.substr(r,n),e.C=r+n,t))}function lg(e){e.V=Date.now()+e.O,fg(e,e.O)}function fg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=qy(sm(e.gb,e),t)}function hg(e){e.B&&(em.clearTimeout(e.B),e.B=null)}function dg(e){0==e.l.G||e.I||Dk(e.l,e)}function pg(e){hg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Sy(e.T),Py(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function vg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Kg(n.h,e)))if(!e.J&&Kg(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Pk(n),xk(n)}Ak(n),jy(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=qy(sm(n.cb,n),6e3));if(1>=Wg(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Lk(n,11)}else if((e.J||n.g==e)&&Pk(n),!ym(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Gg(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Ig(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Fk(r,r.H?r.ka:null,r.V),d.J){Hg(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(hg(p),lg(p)),r.g=d}else Ck(r);0<n.i.length&&_k(n)}else"stop"!=a[0]&&"close"!=a[0]||Lk(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Lk(n,7):wk(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Uy()}catch(a){}}function mg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nm(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(nm(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(nm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Yv=eg.prototype).setTimeout=function(e){this.O=e},Yv.ib=function(e){e=e.target;var t=this.L;t&&3==vk(e)?t.l():this.La(e)},Yv.La=function(e){try{if(e==this.g)e:{var t=vk(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Tm||this.g&&(this.h.h||this.g.fa()||mk(this.g)))){this.I||4!=t||7==n||Uy(),hg(this);var r=this.g.aa();this.Y=r;t:if(ug(this)){var i=mk(this.g);e="";var a=i.length,o=4==vk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pg(this),dg(this);var u="";break t}this.h.i=new em.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ym(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,jy(12),pg(this),dg(this);break e}Oy(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vg(this,r)}this.P?(sg(this,t,u),Tm&&this.i&&3==t&&(Ry(this.S,this.T,"tick",this.hb),this.T.start())):(Oy(this.j,this.m,u,null),vg(this,u)),4==t&&pg(this),this.i&&!this.I&&(4==t?Dk(this.l,this):(this.i=!1,lg(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,jy(12)):(this.o=0,jy(13)),pg(this),dg(this)}}}catch(t){}},Yv.hb=function(){if(this.g){var e=vk(this.g),t=this.g.fa();this.C<t.length&&(hg(this),sg(this,e,t),this.i&&4!=e&&lg(this))}},Yv.cancel=function(){this.I=!0,pg(this)},Yv.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Uy(),jy(17)),pg(this),this.o=2,dg(this)):fg(this,this.V-e)};var yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gg(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gg){this.h=void 0!==t?t:e.h,bg(this,e.j),this.s=e.s,this.g=e.g,wg(this,e.m),this.l=e.l,t=e.i;var n=new Dg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xg(this,n),this.o=e.o}else e&&(n=String(e).match(yg))?(this.h=!!t,bg(this,n[1]||"",!0),this.s=Sg(n[2]||""),this.g=Sg(n[3]||"",!0),wg(this,n[4]),this.l=Sg(n[5]||"",!0),xg(this,n[6]||"",!0),this.o=Sg(n[7]||"")):(this.h=!!t,this.i=new Dg(null,this.h))}function kg(e){return new gg(e)}function bg(e,t,n){e.j=n?Sg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xg(e,t,n){t instanceof Dg?(e.i=t,function(e,t){t&&!e.j&&(Og(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lg(this,t),Fg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Eg(t,Rg)),e.i=new Dg(t,e.h))}function Ig(e,t,n){e.i.set(t,n)}function _g(e){return Ig(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Eg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Tg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Eg(t,Cg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Eg(t,Cg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Eg(n,"/"==n.charAt(0)?Ng:Ag,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Eg(n,Pg)),e.join("")};var Cg=/[#\/\?@]/g,Ag=/[#\?:]/g,Ng=/[#\?]/g,Rg=/[#\?@]/g,Pg=/#/g;function Dg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Og(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lg(e,t){Og(e),t=Vg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mg(e,t){return Og(e),t=Vg(e,t),e.g.has(t)}function Fg(e,t,n){Lg(e,t),0<n.length&&(e.i=null,e.g.set(Vg(e,t),dm(n)),e.h+=n.length)}function Vg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Yv=Dg.prototype).add=function(e,t){Og(this),this.i=null,e=Vg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Yv.forEach=function(e,t){Og(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Yv.oa=function(){Og(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Yv.W=function(e){Og(this);var t=[];if("string"===typeof e)Mg(this,e)&&(t=t.concat(this.g.get(Vg(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Yv.set=function(e,t){return Og(this),this.i=null,Mg(this,e=Vg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Yv.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Yv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ug=io((function e(t,n){no(this,e),this.h=t,this.g=n}));function zg(e){this.l=e||Bg,em.PerformanceNavigationTiming?e=0<(e=em.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(em.g&&em.g.Ga&&em.g.Ga()&&em.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jg,Bg=10;function qg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Wg(e){return e.h?1:e.g?e.g.size:0}function Kg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Gg(e,t){e.g?e.g.add(t):e.h=t}function Hg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qg(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ao(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return dm(e.i)}function $g(){}function Yg(){this.g=new $g}function Xg(e,t,n){var r=n||"";try{mg(e,(function(e,n){var i=e;rm(e)&&(i=dy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Zg(e){this.l=e.ac||null,this.j=e.jb||!1}function ek(e,t){ly.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=tk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zg.prototype.cancel=function(){if(this.i=Qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ao(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},$g.prototype.stringify=function(e){return em.JSON.stringify(e,void 0)},$g.prototype.parse=function(e){return em.JSON.parse(e,void 0)},lm(Zg,Gy),Zg.prototype.g=function(){return new ek(this.l,this.j)},Zg.prototype.i=(jg={},function(){return jg}),lm(ek,ly);var tk=0;function nk(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function rk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ik(e)}function ik(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Yv=ek.prototype).open=function(e,t){if(this.readyState!=tk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ik(this)},Yv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||em).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Yv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rk(this)),this.readyState=tk},Yv.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ik(this)),this.g&&(this.readyState=3,ik(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof em.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nk(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Yv.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rk(this):ik(this),3==this.readyState&&nk(this)}},Yv.Va=function(e){this.g&&(this.response=this.responseText=e,rk(this))},Yv.Ua=function(e){this.g&&(this.response=e,rk(this))},Yv.ga=function(){this.g&&rk(this)},Yv.setRequestHeader=function(e,t){this.v.append(e,t)},Yv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Yv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ek.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ak=em.JSON.parse;function ok(e){ly.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uk,this.K=this.L=!1}lm(ok,ly);var uk="",sk=/^https?$/i,ck=["POST","PUT"];function lk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fk(e),dk(e)}function fk(e){e.D||(e.D=!0,fy(e,"complete"),fy(e,"error"))}function hk(e){if(e.h&&"undefined"!=typeof Zv&&(!e.C[1]||4!=vk(e)||2!=e.aa()))if(e.v&&4==vk(e))Ey(e.Ha,0,e);else if(fy(e,"readystatechange"),4==vk(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(yg)[1]||null;if(!a&&em.self&&em.self.location){var o=em.self.location.protocol;a=o.substr(0,o.length-1)}i=!sk.test(a?a.toLowerCase():"")}t=i}if(t)fy(e,"complete"),fy(e,"success");else{e.m=6;try{var u=2<vk(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",fk(e)}}finally{dk(e)}}}function dk(e,t){if(e.g){pk(e);var n=e.g,r=e.C[0]?tm:null;e.g=null,e.C=null,t||fy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function pk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(em.clearTimeout(e.A),e.A=null)}function vk(e){return e.g?e.g.readyState:0}function mk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case uk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(tb){return null}}function yk(e){var t="";return Km(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function gk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yk(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ig(e,t,n))}function kk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bk(e){this.Ca=0,this.i=[],this.j=new Dy,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=kk("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=kk("baseRetryDelayMs",5e3,e),this.bb=kk("retryDelaySeedMs",1e4,e),this.$a=kk("forwardChannelMaxRetries",2,e),this.ta=kk("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new zg(e&&e.concurrentRequestLimit),this.Fa=new Yg,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wk(e){if(Ik(e),3==e.G){var t=e.U++,n=kg(e.F);Ig(n,"SID",e.I),Ig(n,"RID",t),Ig(n,"TYPE","terminate"),Ek(e,n),(t=new eg(e,e.j,t,void 0)).K=2,t.v=_g(kg(n)),n=!1,em.navigator&&em.navigator.sendBeacon&&(n=em.navigator.sendBeacon(t.v.toString(),"")),!n&&em.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vk(t.l,null),t.g.da(t.v)),t.F=Date.now(),lg(t)}Mk(e)}function xk(e){e.g&&(Nk(e),e.g.cancel(),e.g=null)}function Ik(e){xk(e),e.u&&(em.clearTimeout(e.u),e.u=null),Pk(e),e.h.cancel(),e.m&&("number"===typeof e.m&&em.clearTimeout(e.m),e.m=null)}function _k(e){qg(e.h)||e.m||(e.m=!0,by(e.Ja,e),e.C=0)}function Sk(e,t){var n;n=t?t.m:e.U++;var r=kg(e.F);Ig(r,"SID",e.I),Ig(r,"RID",n),Ig(r,"AID",e.T),Ek(e,r),e.o&&e.s&&gk(r,e.o,e.s),n=new eg(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Tk(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Gg(e.h,n),ag(n,r,t)}function Ek(e,t){e.ia&&Km(e.ia,(function(e,n){Ig(t,n,e)})),e.l&&mg({},(function(e,n){Ig(t,n,e)}))}function Tk(e,t,n){n=Math.min(e.i.length,n);var r=e.l?sm(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Xg(l,o,"req"+c+"_")}catch(fb){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Ck(e){e.g||e.u||(e.Z=1,by(e.Ia,e),e.A=0)}function Ak(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=qy(sm(e.Ia,e),Ok(e,e.A)),e.A++,!0)}function Nk(e){null!=e.B&&(em.clearTimeout(e.B),e.B=null)}function Rk(e){e.g=new eg(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=kg(e.sa);Ig(t,"RID","rpc"),Ig(t,"SID",e.I),Ig(t,"CI",e.L?"0":"1"),Ig(t,"AID",e.T),Ig(t,"TYPE","xmlhttp"),Ek(e,t),e.o&&e.s&&gk(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=_g(kg(t)),n.s=null,n.P=!0,og(n,e)}function Pk(e){null!=e.v&&(em.clearTimeout(e.v),e.v=null)}function Dk(e,t){var n=null;if(e.g==t){Pk(e),Nk(e),e.g=null;var r=2}else{if(!Kg(e.h,t))return;n=t.D,Hg(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;fy(r=Fy(),new By(r,n)),_k(e)}else Ck(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Wg(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=qy(sm(e.Ja,e,t),Ok(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ak(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Lk(e,5);break;case 4:Lk(e,10);break;case 3:Lk(e,6);break;default:Lk(e,2)}}function Ok(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Lk(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=sm(e.kb,e);n||(n=new gg("//www.google.com/images/cleardot.gif"),em.location&&"http"==em.location.protocol||bg(n,"https"),_g(n)),function(e,t){var n=new Dy;if(em.Image){var r=new Image;r.onload=cm(Jg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=cm(Jg,n,r,"TestLoadImage: error",!1,t),r.onabort=cm(Jg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=cm(Jg,n,r,"TestLoadImage: timeout",!1,t),em.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else jy(2);e.G=0,e.l&&e.l.va(t),Mk(e),Ik(e)}function Mk(e){if(e.G=0,e.la=[],e.l){var t=Qg(e.h);0==t.length&&0==e.i.length||(pm(e.la,t),pm(e.la,e.i),e.h.i.length=0,dm(e.i),e.i.length=0),e.l.ua()}}function Fk(e,t,n){var r=n instanceof gg?kg(n):new gg(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),wg(r,r.m);else{var i=em.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new gg(null,void 0);r&&bg(a,r),t&&(a.g=t),i&&wg(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ig(r,n,t),Ig(r,"VER",e.ma),Ek(e,r),r}function Vk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ok(new Zg({jb:!0})):new ok(e.ra)).Ka(e.H),t}function Uk(){}function zk(){if(Sm&&!(10<=Number(Vm)))throw Error("Environmental error: no available transport.")}function jk(e,t){ly.call(this),this.g=new bk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!ym(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ym(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Wk(this)}function Bk(e){Xy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qk(){Jy.call(this),this.status=1}function Wk(e){this.g=e}(Yv=ok.prototype).Ka=function(e){this.L=e},Yv.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$y.g(),this.C=this.u?Hy(this.u):Hy($y),this.g.onreadystatechange=sm(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void lk(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=ao(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=em.FormData&&e instanceof em.FormData,!(0<=hm(ck,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=ao(n);try{for(l.s();!(s=l.n()).done;){var f=c(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pk(this),0<this.B&&((this.K=function(e){return Sm&&Mm()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sm(this.qa,this)):this.A=Ey(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){lk(this,u)}},Yv.qa=function(){"undefined"!=typeof Zv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fy(this,"timeout"),this.abort(8))},Yv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,fy(this,"complete"),fy(this,"abort"),dk(this))},Yv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dk(this,!0)),ok.X.M.call(this)},Yv.Ha=function(){this.s||(this.F||this.v||this.l?hk(this):this.fb())},Yv.fb=function(){hk(this)},Yv.aa=function(){try{return 2<vk(this)?this.g.status:-1}catch(jg){return-1}},Yv.fa=function(){try{return this.g?this.g.responseText:""}catch(jg){return""}},Yv.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ak(t)}},Yv.Ea=function(){return this.m},Yv.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Yv=bk.prototype).ma=8,Yv.G=1,Yv.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new eg(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Qm(n=Gm(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Tk(this,t,r),Ig(i=kg(this.F),"RID",e),Ig(i,"CVER",22),this.D&&Ig(i,"X-HTTP-Session-Id",this.D),Ek(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(yk(n)))+"&"+r:this.o&&gk(i,this.o,n)),Gg(this.h,t),this.Ya&&Ig(i,"TYPE","init"),this.O?(Ig(i,"$req",r),Ig(i,"SID","null"),t.Z=!0,ag(t,i,null)):ag(t,i,r),this.G=2}}else 3==this.G&&(e?Sk(this,e):0==this.i.length||qg(this.h)||Sk(this))},Yv.Ia=function(){if(this.u=null,Rk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=qy(sm(this.eb,this),e)}},Yv.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,jy(10),xk(this),Rk(this))},Yv.cb=function(){null!=this.v&&(this.v=null,xk(this),Ak(this),jy(19))},Yv.kb=function(e){e?(this.j.info("Successfully pinged google.com"),jy(2)):(this.j.info("Failed to ping google.com"),jy(1))},(Yv=Uk.prototype).xa=function(){},Yv.wa=function(){},Yv.va=function(){},Yv.ua=function(){},Yv.Ra=function(){},zk.prototype.g=function(e,t){return new jk(e,t)},lm(jk,ly),jk.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;jy(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Fk(e,null,e.V),_k(e)},jk.prototype.close=function(){wk(this.g)},jk.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=dy(e),e=n);t.i.push(new Ug(t.ab++,e)),3==t.G&&_k(t)},jk.prototype.M=function(){this.g.l=null,delete this.j,wk(this.g),delete this.g,jk.X.M.call(this)},lm(Bk,Xy),lm(qk,Jy),lm(Wk,Uk),Wk.prototype.xa=function(){fy(this.g,"a")},Wk.prototype.wa=function(e){fy(this.g,new Bk(e))},Wk.prototype.va=function(e){fy(this.g,new qk)},Wk.prototype.ua=function(){fy(this.g,"b")},zk.prototype.createWebChannel=zk.prototype.g,jk.prototype.send=jk.prototype.u,jk.prototype.open=jk.prototype.m,jk.prototype.close=jk.prototype.close,Wy.NO_ERROR=0,Wy.TIMEOUT=8,Wy.HTTP_ERROR=6,Ky.COMPLETE="complete",Qy.EventType=Yy,Yy.OPEN="a",Yy.CLOSE="b",Yy.ERROR="c",Yy.MESSAGE="d",ly.prototype.listen=ly.prototype.N,ok.prototype.listenOnce=ok.prototype.O,ok.prototype.getLastError=ok.prototype.Oa,ok.prototype.getLastErrorCode=ok.prototype.Ea,ok.prototype.getStatus=ok.prototype.aa,ok.prototype.getResponseJson=ok.prototype.Sa,ok.prototype.getResponseText=ok.prototype.fa,ok.prototype.send=ok.prototype.da,ok.prototype.setWithCredentials=ok.prototype.Ka;var Kk=Jv.createWebChannelTransport=function(){return new zk},Gk=Jv.getStatEventTarget=function(){return Fy()},Hk=Jv.ErrorCode=Wy,Qk=Jv.EventType=Ky,$k=Jv.Event=Ly,Yk=Jv.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Xk=Jv.FetchXmlHttpFactory=Zg,Jk=Jv.WebChannel=Qy,Zk=Jv.XhrIo=ok,eb="@firebase/firestore",tb=function(){function e(t){no(this,e),this.uid=t}return io(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();tb.UNAUTHENTICATED=new tb(null),tb.GOOGLE_CREDENTIALS=new tb("google-credentials-uid"),tb.FIRST_PARTY=new tb("first-party-uid"),tb.MOCK_USER=new tb("mock-user");var nb="9.20.0",rb=new iu("@firebase/firestore");function ib(){return rb.logLevel}function ab(e){if(rb.logLevel<=Xo.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sb);rb.debug.apply(rb,["Firestore (".concat(nb,"): ").concat(e)].concat(Vn(i)))}}function ob(e){if(rb.logLevel<=Xo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sb);rb.error.apply(rb,["Firestore (".concat(nb,"): ").concat(e)].concat(Vn(i)))}}function ub(e){if(rb.logLevel<=Xo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sb);rb.warn.apply(rb,["Firestore (".concat(nb,"): ").concat(e)].concat(Vn(i)))}}function sb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function cb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(nb,") INTERNAL ASSERTION FAILED: ")+e;throw ob(t),new Error(t)}function lb(e,t){e||cb()}function fb(e,t){return e}var hb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},db=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return io(n)}(Ao),pb=io((function e(){var t=this;no(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vb=io((function e(t,n){no(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),mb=function(){function e(){no(this,e)}return io(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tb.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),yb=function(){function e(t){no(this,e),this.token=t,this.changeListener=null}return io(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),gb=function(){function e(t){no(this,e),this.t=t,this.currentUser=tb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return io(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new pb;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new pb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ab("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ab("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new pb)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ab("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(lb("string"==typeof n.accessToken),new vb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return lb(null===e||"string"==typeof e),new tb(e)}}]),e}(),kb=function(){function e(t,n,r){no(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=tb.FIRST_PARTY,this.g=new Map}return io(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),bb=function(){function e(t,n,r){no(this,e),this.h=t,this.l=n,this.m=r}return io(e,[{key:"getToken",value:function(){return Promise.resolve(new kb(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tb.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),wb=io((function e(t){no(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),xb=function(){function e(t){no(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return io(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ab("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,ab("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ab("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):ab("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(lb("string"==typeof t.token),e.T=t.token,new wb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ib(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var _b=function(){function e(){no(this,e)}return io(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Ib(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Sb(e,t){return e<t?-1:e>t?1:0}function Eb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Tb(e){return e+"\0"}var Cb=function(){function e(t,n){if(no(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new db(hb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new db(hb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new db(hb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new db(hb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return io(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Sb(this.nanoseconds,e.nanoseconds):Sb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ab=function(){function e(t){no(this,e),this.timestamp=t}return io(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Cb(0,0))}},{key:"max",value:function(){return new e(new Cb(253402300799,999999999))}}]),e}(),Nb=function(){function e(t,n,r){no(this,e),void 0===n?n=0:n>t.length&&cb(),void 0===r?r=t.length-n:r>t.length-n&&cb(),this.segments=t,this.offset=n,this.len=r}return io(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Rb=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return io(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new db(hb.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Vn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nb),Pb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Db=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return io(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Pb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new db(hb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new db(hb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new db(hb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new db(hb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nb),Ob=function(){function e(t){no(this,e),this.path=t}return io(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Rb.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Rb.fromString(t))}},{key:"fromName",value:function(t){return new e(Rb.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Rb.emptyPath())}},{key:"comparator",value:function(e,t){return Rb.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Rb(t.slice()))}}]),e}(),Lb=io((function e(t,n,r,i){no(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Mb(e){return e.fields.find((function(e){return 2===e.kind}))}function Fb(e){return e.fields.filter((function(e){return 2!==e.kind}))}Lb.UNKNOWN_ID=-1;var Vb=io((function e(t,n){no(this,e),this.fieldPath=t,this.kind=n}));var Ub=function(){function e(t,n){no(this,e),this.sequenceNumber=t,this.offset=n}return io(e,null,[{key:"empty",value:function(){return new e(0,Bb.min())}}]),e}();function zb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ab.fromTimestamp(1e9===r?new Cb(n+1,0):new Cb(n,r));return new Bb(i,Ob.empty(),t)}function jb(e){return new Bb(e.readTime,e.key,-1)}var Bb=function(){function e(t,n,r){no(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return io(e,null,[{key:"min",value:function(){return new e(Ab.min(),Ob.empty(),-1)}},{key:"max",value:function(){return new e(Ab.max(),Ob.empty(),-1)}}]),e}();function qb(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ob.comparator(e.documentKey,t.documentKey))?n:Sb(e.largestBatchId,t.largestBatchId)}var Wb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kb=function(){function e(){no(this,e),this.onCommittedListeners=[]}return io(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Gb(e){return Hb.apply(this,arguments)}function Hb(){return Hb=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===hb.FAILED_PRECONDITION&&t.message===Wb){e.next=2;break}throw t;case 2:ab("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}var Qb=function(){function e(t){var n=this;no(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return io(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&cb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ao(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),$b=function(){function e(t,n){var r=this;no(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new pb,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new Jb(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=rw(e.target.error);r.R.reject(new Jb(t,n))}}return io(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(ab("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ew(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Jb(n,t)}}}]),e}(),Yb=function(){function e(t,n,r){no(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Io())&&ob("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return io(e,[{key:"$",value:function(){var e=Ko(qo().mark((function e(t){var n=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ab("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Jb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new db(hb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new db(hb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Jb(t,n))},i.onupgradeneeded=function(e){ab("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.M(t,i.transaction,e.oldVersion,n.version).next((function(){ab("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ko(qo().mark((function e(t,n,r,i){var a,o,u,s,c=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=qo().mark((function e(){var n,u,s,l;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=$b.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Qb.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,ab("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ab("SimpleDb","Removing database:",e),tw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Co())return!1;if(e.C())return!0;var t=Io(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/todo_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Xb=function(){function e(t){no(this,e),this.L=t,this.q=!1,this.U=null}return io(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return tw(this.L.delete())}}]),e}(),Jb=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,hb.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return io(n)}(db);function Zb(e){return"IndexedDbTransactionError"===e.name}var ew=function(){function e(t){no(this,e),this.store=t}return io(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ab("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ab("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tw(n)}},{key:"add",value:function(e){return ab("SimpleDb","ADD",this.store.name,e,e),tw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return tw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ab("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ab("SimpleDb","DELETE",this.store.name,e),tw(this.store.delete(e))}},{key:"count",value:function(){return ab("SimpleDb","COUNT",this.store.name),tw(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Qb((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Qb((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){ab("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Qb((function(n,r){t.onerror=function(e){var t=rw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Qb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Xb(i),o=t(i.primaryKey,i.value,a);if(o instanceof Qb){var u=o.catch((function(e){return a.done(),Qb.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Qb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function tw(e){return new Qb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=rw(e.target.error);n(t)}}))}var nw=!1;function rw(e){var t=Yb.S(Io());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new db("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return nw||(nw=!0,setTimeout((function(){throw r}),0)),r}}return e}var iw=function(){function e(t,n){no(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return io(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;ab("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ab,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Zb(e.t4)){e.next=17;break}ab("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Gb(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),aw=function(){function e(t,n){no(this,e),this.localStore=t,this.persistence=n}return io(e,[{key:"nt",value:function(){var e=Ko(qo().mark((function e(){var t,n=this,r=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Qb.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ab("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return ab("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=jb(t);qb(r,n)>0&&(n=r)})),new Bb(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),ow=function(){function e(t,n){var r=this;no(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return io(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function uw(e){return null==e}function sw(e){return 0===e&&1/e==-1/0}function cw(e){return"number"==typeof e&&Number.isInteger(e)&&!sw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function lw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=hw(t)),t=fw(e.get(n),t);return hw(t)}function fw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function hw(e){return e+"\x01\x01"}function dw(e){var t=e.length;if(lb(t>=2),2===t)return lb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Rb.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&cb(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:cb()}a=o+2}return new Rb(r)}ow.ct=-1;var pw=["userId","batchId"];function vw(e,t){return[e,lw(t)]}function mw(e,t,n){return[e,lw(t),n]}var yw={},gw=["prefixPath","collectionGroup","readTime","documentId"],kw=["prefixPath","collectionGroup","documentId"],bw=["collectionGroup","readTime","prefixPath","documentId"],ww=["canonicalId","targetId"],xw=["targetId","path"],Iw=["path","targetId"],_w=["collectionId","parent"],Sw=["indexId","uid"],Ew=["uid","sequenceNumber"],Tw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cw=["indexId","uid","orderedDocumentKey"],Aw=["userId","collectionPath","documentId"],Nw=["userId","collectionPath","largestBatchId"],Rw=["userId","collectionGroup","largestBatchId"],Pw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Dw=[].concat(Vn(Pw),["documentOverlays"]),Ow=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lw=Ow,Mw=[].concat(Lw,["indexConfiguration","indexState","indexEntries"]),Fw=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return io(n)}(Kb);function Vw(e,t){var n=fb(e);return Yb.O(n.at,t)}function Uw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Bw=function(){function e(t,n){no(this,e),this.comparator=t,this.root=n||Ww.EMPTY}return io(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ww.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ww.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new qw(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new qw(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new qw(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new qw(this.root,e,this.comparator,!0)}}]),e}(),qw=function(){function e(t,n,r,i){no(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return io(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ww=function(){function e(t,n,r,i,a){no(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return io(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw cb();if(this.right.isRed())throw cb();var e=this.left.check();if(e!==this.right.check())throw cb();return e+(this.isRed()?0:1)}}]),e}();Ww.EMPTY=null,Ww.RED=!0,Ww.BLACK=!1,Ww.EMPTY=new(function(){function e(){no(this,e),this.size=0}return io(e,[{key:"key",get:function(){throw cb()}},{key:"value",get:function(){throw cb()}},{key:"color",get:function(){throw cb()}},{key:"left",get:function(){throw cb()}},{key:"right",get:function(){throw cb()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ww(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Kw=function(){function e(t){no(this,e),this.comparator=t,this.data=new Bw(this.comparator)}return io(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Gw(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Gw(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Gw=function(){function e(t){no(this,e),this.iter=t}return io(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Hw(e){return e.hasNext()?e.getNext():void 0}var Qw=function(){function e(t){no(this,e),this.fields=t,t.sort(Db.comparator)}return io(e,[{key:"unionWith",value:function(t){var n,r=new Kw(Db.comparator),i=ao(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=ao(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ao(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Eb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),$w=function(e){oo(n,e);var t=co(n);function n(){var e;return no(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return io(n)}(fo(Error));var Yw=function(e){function t(e){no(this,t),this.binaryString=e}return io(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Sb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $w("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Yw.EMPTY_BYTE_STRING=new Yw("");var Xw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jw(e){if(lb(!!e),"string"==typeof e){var t=0,n=Xw.exec(e);if(lb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Zw(e.seconds),nanos:Zw(e.nanos)}}function Zw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ex(e){return"string"==typeof e?Yw.fromBase64String(e):Yw.fromUint8Array(e)}function tx(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nx(e){var t=e.mapValue.fields.__previous_value__;return tx(t)?nx(t):t}function rx(e){var t=Jw(e.mapValue.fields.__local_write_time__.timestampValue);return new Cb(t.seconds,t.nanos)}var ix=io((function e(t,n,r,i,a,o,u,s){no(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ax=function(){function e(t,n){no(this,e),this.projectId=t,this.database=n||"(default)"}return io(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),ox={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ux={nullValue:"NULL_VALUE"};function sx(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tx(e)?4:xx(e)?9007199254740991:10:cb()}function cx(e,t){if(e===t)return!0;var n=sx(e);if(n!==sx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rx(e).isEqual(rx(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Jw(e.timestampValue),r=Jw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ex(e.bytesValue).isEqual(ex(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Zw(e.geoPointValue.latitude)===Zw(t.geoPointValue.latitude)&&Zw(e.geoPointValue.longitude)===Zw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Zw(e.integerValue)===Zw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Zw(e.doubleValue),r=Zw(t.doubleValue);return n===r?sw(n)===sw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Eb(e.arrayValue.values||[],t.arrayValue.values||[],cx);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Uw(n)!==Uw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cx(n[i],r[i])))return!1;return!0}(e,t);default:return cb()}}function lx(e,t){return void 0!==(e.values||[]).find((function(e){return cx(e,t)}))}function fx(e,t){if(e===t)return 0;var n=sx(e),r=sx(t);if(n!==r)return Sb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Zw(e.integerValue||e.doubleValue),r=Zw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hx(e.timestampValue,t.timestampValue);case 4:return hx(rx(e),rx(t));case 5:return Sb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ex(e),r=ex(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Sb(n[i],r[i]);if(0!==a)return a}return Sb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Sb(Zw(e.latitude),Zw(t.latitude));return 0!==n?n:Sb(Zw(e.longitude),Zw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=fx(n[i],r[i]);if(a)return a}return Sb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ox.mapValue&&t===ox.mapValue)return 0;if(e===ox.mapValue)return 1;if(t===ox.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Sb(r[o],a[o]);if(0!==u)return u;var s=fx(n[r[o]],i[a[o]]);if(0!==s)return s}return Sb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw cb()}}function hx(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Sb(e,t);var n=Jw(e),r=Jw(t),i=Sb(n.seconds,r.seconds);return 0!==i?i:Sb(n.nanos,r.nanos)}function dx(e){return px(e)}function px(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Jw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ex(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ob.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ao(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=px(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ao(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(px(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):cb();var t,n}function vx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function mx(e){return!!e&&"integerValue"in e}function yx(e){return!!e&&"arrayValue"in e}function gx(e){return!!e&&"nullValue"in e}function kx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bx(e){return!!e&&"mapValue"in e}function wx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=wx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=wx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function xx(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ix(e){return"nullValue"in e?ux:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?vx(ax.empty(),Ob.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:cb()}function _x(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?vx(ax.empty(),Ob.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ox:cb()}function Sx(e,t){var n=fx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ex(e,t){var n=fx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Tx=function(){function e(t){no(this,e),this.value=t}return io(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!bx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wx(t)}},{key:"setAll",value:function(e){var t=this,n=Db.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=wx(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());bx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return cx(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];bx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){zw(t,(function(t,n){return e[t]=n}));var r,i=ao(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(wx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Cx(e){var t=[];return zw(e.fields,(function(e,n){var r=new Db([e]);if(bx(n)){var i=Cx(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ao(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Qw(t)}var Ax=function(){function e(t,n,r,i,a,o,u){no(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return io(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Ab.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Tx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Tx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Ab.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ab.min(),Ab.min(),Ab.min(),Tx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Ab.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ab.min(),Ab.min(),Tx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ab.min(),Ab.min(),Tx.empty(),2)}}]),e}(),Nx=io((function e(t,n){no(this,e),this.position=t,this.inclusive=n}));function Rx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ob.comparator(Ob.fromName(o.referenceValue),n.key):fx(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Px(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!cx(e.position[n],t.position[n]))return!1;return!0}var Dx=io((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";no(this,e),this.field=t,this.dir=n}));function Ox(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Lx=io((function e(){no(this,e)})),Mx=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a;return no(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return io(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fx(t,this.value)):null!==t&&sx(this.value)===sx(t)&&this.matchesComparison(fx(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cb()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Gx(e,t,r):"array-contains"===t?new Yx(e,r):"in"===t?new Xx(e,r):"not-in"===t?new Jx(e,r):"array-contains-any"===t?new Zx(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Hx(e,n):new Qx(e,n)}}]),n}(Lx),Fx=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return io(n,[{key:"matches",value:function(e){return Vx(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=ao(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Lx);function Vx(e){return"and"===e.op}function Ux(e){return"or"===e.op}function zx(e){return jx(e)&&Vx(e)}function jx(e){var t,n=ao(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Fx)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Bx(e){if(e instanceof Mx)return e.field.canonicalString()+e.op.toString()+dx(e.value);if(zx(e))return e.filters.map((function(e){return Bx(e)})).join(",");var t=e.filters.map((function(e){return Bx(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function qx(e,t){return e instanceof Mx?function(e,t){return t instanceof Mx&&e.op===t.op&&e.field.isEqual(t.field)&&cx(e.value,t.value)}(e,t):e instanceof Fx?function(e,t){return t instanceof Fx&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&qx(n,t.filters[r])}),!0)}(e,t):void cb()}function Wx(e,t){var n=e.filters.concat(t);return Fx.create(n,e.op)}function Kx(e){return e instanceof Mx?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(dx(e.value))}(e):e instanceof Fx?function(e){return e.op.toString()+" {"+e.getFilters().map(Kx).join(" ,")+"}"}(e):"Filter"}var Gx=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a;return no(this,n),(a=t.call(this,e,r,i)).key=Ob.fromName(i.referenceValue),a}return io(n,[{key:"matches",value:function(e){var t=Ob.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Mx),Hx=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,e,"in",r)).keys=$x("in",r),i}return io(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mx),Qx=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,e,"not-in",r)).keys=$x("not-in",r),i}return io(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mx);function $x(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ob.fromName(e.referenceValue)}))}var Yx=function(e){oo(n,e);var t=co(n);function n(e,r){return no(this,n),t.call(this,e,"array-contains",r)}return io(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return yx(t)&&lx(t.arrayValue,this.value)}}]),n}(Mx),Xx=function(e){oo(n,e);var t=co(n);function n(e,r){return no(this,n),t.call(this,e,"in",r)}return io(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&lx(this.value.arrayValue,t)}}]),n}(Mx),Jx=function(e){oo(n,e);var t=co(n);function n(e,r){return no(this,n),t.call(this,e,"not-in",r)}return io(n,[{key:"matches",value:function(e){if(lx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!lx(this.value.arrayValue,t)}}]),n}(Mx),Zx=function(e){oo(n,e);var t=co(n);function n(e,r){return no(this,n),t.call(this,e,"array-contains-any",r)}return io(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!yx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return lx(t.value.arrayValue,e)}))}}]),n}(Mx),eI=io((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;no(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function tI(e){return new eI(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function nI(e){var t=fb(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Bx(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),uw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return dx(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return dx(e)})).join(",")),t.ft=n}return t.ft}function rI(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ox(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!qx(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Px(e.startAt,t.startAt)&&Px(e.endAt,t.endAt)}function iI(e){return Ob.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function aI(e,t){return e.filters.filter((function(e){return e instanceof Mx&&e.field.isEqual(t)}))}function oI(e,t,n){var r,i=ux,a=!0,o=ao(aI(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ux,c=!0;switch(u.op){case"<":case"<=":s=Ix(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=ux}Sx({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Sx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function uI(e,t,n){var r,i=ox,a=!0,o=ao(aI(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ox,c=!0;switch(u.op){case">=":case">":s=_x(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=ox}Ex({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ex({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var sI=io((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;no(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this.wt=null,this.startAt,this.endAt}));function cI(e,t,n,r,i,a,o,u){return new sI(e,t,n,r,i,a,o,u)}function lI(e){return new sI(e)}function fI(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function dI(e){var t,n=ao(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function pI(e){return null!==e.collectionGroup}function vI(e){var t=fb(e);if(null===t.dt){t.dt=[];var n=dI(t),r=hI(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Dx(n)),t.dt.push(new Dx(Db.keyField(),"asc"));else{var i,a=!1,o=ao(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Dx(Db.keyField(),s))}}}return t.dt}function mI(e){var t=fb(e);if(!t.wt)if("F"===t.limitType)t.wt=tI(t.path,t.collectionGroup,vI(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ao(vI(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Dx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Nx(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Nx(t.startAt.position,t.startAt.inclusive):null;t.wt=tI(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function yI(e,t){t.getFirstInequalityField(),dI(e);var n=e.filters.concat([t]);return new sI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function gI(e,t,n){return new sI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kI(e,t){return rI(mI(e),mI(t))&&e.limitType===t.limitType}function bI(e){return"".concat(nI(mI(e)),"|lt:").concat(e.limitType)}function wI(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Kx(e)})).join(", "),"]")),uw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return dx(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return dx(e)})).join(",")),"Target(".concat(t,")")}(mI(e)),"; limitType=").concat(e.limitType,")")}function xI(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ob.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ao(vI(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ao(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Rx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vI(e),t))&&!(e.endAt&&!function(e,t,n){var r=Rx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vI(e),t))}(e,t)}function II(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _I(e){return function(t,n){var r,i=!1,a=ao(vI(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=SI(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function SI(e,t,n){var r=e.field.isKeyField()?Ob.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fx(r,i):cb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cb()}}var EI=function(){function e(t,n){no(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return io(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ao(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){zw(this.inner,(function(t,n){var r,i=ao(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return jw(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),TI=new Bw(Ob.comparator);function CI(){return TI}var AI=new Bw(Ob.comparator);function NI(){for(var e=AI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function RI(e){var t=AI;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function PI(){return OI()}function DI(){return OI()}function OI(){return new EI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var LI=new Bw(Ob.comparator),MI=new Kw(Ob.comparator);function FI(){for(var e=MI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var VI=new Kw(Sb);function UI(){return VI}function zI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sw(t)?"-0":t}}function jI(e){return{integerValue:""+e}}function BI(e,t){return cw(t)?jI(t):zI(e,t)}var qI=io((function e(){no(this,e),this._=void 0}));function WI(e,t,n){return e instanceof HI?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof QI?$I(e,t):e instanceof YI?XI(e,t):function(e,t){var n=GI(e,t),r=ZI(n)+ZI(e._t);return mx(n)&&mx(e._t)?jI(r):zI(e.serializer,r)}(e,t)}function KI(e,t,n){return e instanceof QI?$I(e,t):e instanceof YI?XI(e,t):n}function GI(e,t){return e instanceof JI?mx(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var HI=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return io(n)}(qI),QI=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this)).elements=e,r}return io(n)}(qI);function $I(e,t){var n,r=e_(t),i=ao(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return cx(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var YI=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this)).elements=e,r}return io(n)}(qI);function XI(e,t){var n,r=e_(t),i=ao(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!cx(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var JI=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return io(n)}(qI);function ZI(e){return Zw(e.integerValue||e.doubleValue)}function e_(e){return yx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var t_=io((function e(t,n){no(this,e),this.field=t,this.transform=n}));var n_=io((function e(t,n){no(this,e),this.version=t,this.transformResults=n})),r_=function(){function e(t,n){no(this,e),this.updateTime=t,this.exists=n}return io(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function i_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var a_=io((function e(){no(this,e)}));function o_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new g_(e.key,r_.none()):new f_(e.key,e.data,r_.none());var n,r=e.data,i=Tx.empty(),a=new Kw(Db.comparator),o=ao(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new h_(e.key,i,new Qw(a.toArray()),r_.none())}function u_(e,t,n){e instanceof f_?function(e,t,n){var r=e.value.clone(),i=p_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof h_?function(e,t,n){if(i_(e.precondition,t)){var r=p_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(d_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function s_(e,t,n,r){return e instanceof f_?function(e,t,n,r){if(!i_(e.precondition,t))return n;var i=e.value.clone(),a=v_(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof h_?function(e,t,n,r){if(!i_(e.precondition,t))return n;var i=v_(e.fieldTransforms,r,t),a=t.data;return a.setAll(d_(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return i_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function c_(e,t){var n,r=null,i=ao(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=GI(a.transform,o||null);null!=u&&(null===r&&(r=Tx.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function l_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Eb(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof QI&&t instanceof QI||e instanceof YI&&t instanceof YI?Eb(e.elements,t.elements,cx):e instanceof JI&&t instanceof JI?cx(e._t,t._t):e instanceof HI&&t instanceof HI}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var f_=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return no(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return io(n,[{key:"getFieldMask",value:function(){return null}}]),n}(a_),h_=function(e){oo(n,e);var t=co(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return no(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return io(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(a_);function d_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function p_(e,t,n){var r=new Map;lb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,KI(o,u,n[i]))}return r}function v_(e,t,n){var r,i=new Map,a=ao(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,WI(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var m_,y_,g_=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return io(n,[{key:"getFieldMask",value:function(){return null}}]),n}(a_),k_=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return io(n,[{key:"getFieldMask",value:function(){return null}}]),n}(a_),b_=function(){function e(t,n,r,i){no(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return io(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&u_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ao(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=s_(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=ao(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=s_(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=DI();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=o_(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Ab.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),FI())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Eb(this.mutations,e.mutations,(function(e,t){return l_(e,t)}))&&Eb(this.baseMutations,e.baseMutations,(function(e,t){return l_(e,t)}))}}]),e}(),w_=function(){function e(t,n,r,i){no(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return io(e,null,[{key:"from",value:function(t,n,r){lb(t.mutations.length===r.length);for(var i=LI,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),x_=function(){function e(t,n){no(this,e),this.largestBatchId=t,this.mutation=n}return io(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),I_=io((function e(t){no(this,e),this.count=t}));function __(e){switch(e){default:return cb();case hb.CANCELLED:case hb.UNKNOWN:case hb.DEADLINE_EXCEEDED:case hb.RESOURCE_EXHAUSTED:case hb.INTERNAL:case hb.UNAVAILABLE:case hb.UNAUTHENTICATED:return!1;case hb.INVALID_ARGUMENT:case hb.NOT_FOUND:case hb.ALREADY_EXISTS:case hb.PERMISSION_DENIED:case hb.FAILED_PRECONDITION:case hb.ABORTED:case hb.OUT_OF_RANGE:case hb.UNIMPLEMENTED:case hb.DATA_LOSS:return!0}}function S_(e){if(void 0===e)return ob("GRPC error has no .code"),hb.UNKNOWN;switch(e){case m_.OK:return hb.OK;case m_.CANCELLED:return hb.CANCELLED;case m_.UNKNOWN:return hb.UNKNOWN;case m_.DEADLINE_EXCEEDED:return hb.DEADLINE_EXCEEDED;case m_.RESOURCE_EXHAUSTED:return hb.RESOURCE_EXHAUSTED;case m_.INTERNAL:return hb.INTERNAL;case m_.UNAVAILABLE:return hb.UNAVAILABLE;case m_.UNAUTHENTICATED:return hb.UNAUTHENTICATED;case m_.INVALID_ARGUMENT:return hb.INVALID_ARGUMENT;case m_.NOT_FOUND:return hb.NOT_FOUND;case m_.ALREADY_EXISTS:return hb.ALREADY_EXISTS;case m_.PERMISSION_DENIED:return hb.PERMISSION_DENIED;case m_.FAILED_PRECONDITION:return hb.FAILED_PRECONDITION;case m_.ABORTED:return hb.ABORTED;case m_.OUT_OF_RANGE:return hb.OUT_OF_RANGE;case m_.UNIMPLEMENTED:return hb.UNIMPLEMENTED;case m_.DATA_LOSS:return hb.DATA_LOSS;default:return cb()}}(y_=m_||(m_={}))[y_.OK=0]="OK",y_[y_.CANCELLED=1]="CANCELLED",y_[y_.UNKNOWN=2]="UNKNOWN",y_[y_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",y_[y_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",y_[y_.NOT_FOUND=5]="NOT_FOUND",y_[y_.ALREADY_EXISTS=6]="ALREADY_EXISTS",y_[y_.PERMISSION_DENIED=7]="PERMISSION_DENIED",y_[y_.UNAUTHENTICATED=16]="UNAUTHENTICATED",y_[y_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",y_[y_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",y_[y_.ABORTED=10]="ABORTED",y_[y_.OUT_OF_RANGE=11]="OUT_OF_RANGE",y_[y_.UNIMPLEMENTED=12]="UNIMPLEMENTED",y_[y_.INTERNAL=13]="INTERNAL",y_[y_.UNAVAILABLE=14]="UNAVAILABLE",y_[y_.DATA_LOSS=15]="DATA_LOSS";var E_=function(){function e(){no(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return io(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return T_}},{key:"getOrCreateInstance",value:function(){return null===T_&&(T_=new e),T_}}]),e}(),T_=null,C_=function(){function e(t,n,r,i,a){no(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return io(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,A_.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Ab.min(),i,UI(),CI(),FI())}}]),e}(),A_=function(){function e(t,n,r,i,a){no(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return io(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,FI(),FI(),FI())}}]),e}(),N_=io((function e(t,n,r,i){no(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),R_=io((function e(t,n){no(this,e),this.targetId=t,this.Et=n})),P_=io((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yw.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;no(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),D_=function(){function e(){no(this,e),this.At=0,this.Rt=M_(),this.vt=Yw.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return io(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=FI(),t=FI(),n=FI();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cb()}})),new A_(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=M_()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),O_=function(){function e(t){no(this,e),this.Ft=t,this.Bt=new Map,this.Lt=CI(),this.qt=L_(),this.Ut=new Kw(Sb)}return io(e,[{key:"Kt",value:function(e){var t,n=ao(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=ao(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:cb()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(iI(a))if(0===r){var o=new Ob(a.path);this.Qt(n,o,Ax.newNoDocument(o,Ab.min()))}else lb(1===r);else{var u=this.Zt(n);u!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=E_.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&iI(a.target)){var o=new Ob(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Ax.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=FI();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new C_(e,n,this.Ut,this.Lt,r);return this.Lt=CI(),this.qt=L_(),this.Ut=new Kw(Sb),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new D_,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Kw(Sb),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||ab("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new D_),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function L_(){return new Bw(Ob.comparator)}function M_(){return new Bw(Ob.comparator)}var F_={asc:"ASCENDING",desc:"DESCENDING"},V_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U_={and:"AND",or:"OR"},z_=io((function e(t,n){no(this,e),this.databaseId=t,this.useProto3Json=n}));function j_(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function B_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function q_(e,t){return j_(e,t.toTimestamp())}function W_(e){return lb(!!e),Ab.fromTimestamp(function(e){var t=Jw(e);return new Cb(t.seconds,t.nanos)}(e))}function K_(e,t){return function(e){return new Rb(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function G_(e){var t=Rb.fromString(e);return lb(vS(t)),t}function H_(e,t){return K_(e.databaseId,t.path)}function Q_(e,t){var n=G_(t);if(n.get(1)!==e.databaseId.projectId)throw new db(hb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new db(hb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ob(J_(n))}function $_(e,t){return K_(e.databaseId,t)}function Y_(e){var t=G_(e);return 4===t.length?Rb.emptyPath():J_(t)}function X_(e){return new Rb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function J_(e){return lb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Z_(e,t,n){return{name:H_(e,t),fields:n.value.mapValue.fields}}function eS(e,t,n){var r=Q_(e,t.name),i=W_(t.updateTime),a=t.createTime?W_(t.createTime):Ab.min(),o=new Tx({mapValue:{fields:t.fields}}),u=Ax.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function tS(e,t){return"found"in t?function(e,t){lb(!!t.found),t.found.name,t.found.updateTime;var n=Q_(e,t.found.name),r=W_(t.found.updateTime),i=t.found.createTime?W_(t.found.createTime):Ab.min(),a=new Tx({mapValue:{fields:t.found.fields}});return Ax.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){lb(!!t.missing),lb(!!t.readTime);var n=Q_(e,t.missing),r=W_(t.readTime);return Ax.newNoDocument(n,r)}(e,t):cb()}function nS(e,t){var n;if(t instanceof f_)n={update:Z_(e,t.key,t.value)};else if(t instanceof g_)n={delete:H_(e,t.key)};else if(t instanceof h_)n={update:Z_(e,t.key,t.data),updateMask:pS(t.fieldMask)};else{if(!(t instanceof k_))return cb();n={verify:H_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof HI)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof QI)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof YI)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof JI)return{fieldPath:t.field.canonicalString(),increment:n._t};throw cb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:q_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cb()}(e,t.precondition)),n}function rS(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?r_.updateTime(W_(e.updateTime)):void 0!==e.exists?r_.exists(e.exists):r_.none()}(t.currentDocument):r_.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)lb("REQUEST_TIME"===t.setToServerValue),n=new HI;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new QI(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new YI(i)}else"increment"in t?n=new JI(e,t.increment):cb();var a=Db.fromServerFormat(t.fieldPath);return new t_(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Q_(e,t.update.name),a=new Tx({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Qw(t.map((function(e){return Db.fromServerFormat(e)})))}(t.updateMask);return new h_(i,a,o,n,r)}return new f_(i,a,n,r)}if(t.delete){var u=Q_(e,t.delete);return new g_(u,n)}if(t.verify){var s=Q_(e,t.verify);return new k_(s,n)}return cb()}function iS(e,t){return{documents:[$_(e,t.path)]}}function aS(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=$_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return dS(Fx.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:fS(e.field),direction:sS(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.useProto3Json||uw(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function oS(e){var t=Y_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=uS(e);return t instanceof Fx&&zx(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Dx(hS(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return uw(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Nx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Nx(n,t)}(n.endAt)),cI(t,i,u,o,s,"F",c,l)}function uS(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=hS(e.unaryFilter.field);return Mx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=hS(e.unaryFilter.field);return Mx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hS(e.unaryFilter.field);return Mx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hS(e.unaryFilter.field);return Mx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cb()}}(e):void 0!==e.fieldFilter?function(e){return Mx.create(hS(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cb()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Fx.create(e.compositeFilter.filters.map((function(e){return uS(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return cb()}}(e.compositeFilter.op))}(e):cb()}function sS(e){return F_[e]}function cS(e){return V_[e]}function lS(e){return U_[e]}function fS(e){return{fieldPath:e.canonicalString()}}function hS(e){return Db.fromServerFormat(e.fieldPath)}function dS(e){return e instanceof Mx?function(e){if("=="===e.op){if(kx(e.value))return{unaryFilter:{field:fS(e.field),op:"IS_NAN"}};if(gx(e.value))return{unaryFilter:{field:fS(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kx(e.value))return{unaryFilter:{field:fS(e.field),op:"IS_NOT_NAN"}};if(gx(e.value))return{unaryFilter:{field:fS(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fS(e.field),op:cS(e.op),value:e.value}}}(e):e instanceof Fx?function(e){var t=e.getFilters().map((function(e){return dS(e)}));return 1===t.length?t[0]:{compositeFilter:{op:lS(e.op),filters:t}}}(e):cb()}function pS(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function vS(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var mS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ab.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ab.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Yw.EMPTY_BYTE_STRING;no(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return io(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),yS=io((function e(t){no(this,e),this.se=t}));function gS(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:kS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:H_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:j_(e,t.version.toTimestamp()),createTime:j_(e,t.createTime.toTimestamp())}}(e.se,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:bS(t.version)};else{if(!t.isUnknownDocument())return cb();r.unknownDocument={path:n.path.toArray(),version:bS(t.version)}}return r}function kS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function bS(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wS(e){var t=new Cb(e.seconds,e.nanoseconds);return Ab.fromTimestamp(t)}function xS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return rS(e.se,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return rS(e.se,t)})),u=Cb.fromMillis(t.localWriteTimeMs);return new b_(t.batchId,u,n,o)}function IS(e){var t,n,r=wS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?wS(e.lastLimboFreeSnapshotVersion):Ab.min();return void 0!==e.query.documents?(lb(1===(n=e.query).documents.length),t=mI(lI(Y_(n.documents[0])))):t=function(e){return mI(oS(e))}(e.query),new mS(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Yw.fromBase64String(e.resumeToken))}function _S(e,t){var n,r=bS(t.snapshotVersion),i=bS(t.lastLimboFreeSnapshotVersion);n=iI(t.target)?iS(e.se,t.target):aS(e.se,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nI(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function SS(e){var t=oS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gI(t,t.limit,"L"):t}function ES(e,t){return new x_(t.largestBatchId,rS(e.se,t.overlayMutation))}function TS(e,t){var n=t.path.lastSegment();return[e,lw(t.path.popLast()),n]}function CS(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:bS(r.readTime),documentKey:lw(r.documentKey.path),largestBatchId:r.largestBatchId}}var AS=function(){function e(){no(this,e)}return io(e,[{key:"getBundleMetadata",value:function(e,t){return NS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:wS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return NS(e).put({bundleId:(n=t).id,createTime:bS(W_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return RS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:SS(t.bundledQuery),readTime:wS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return RS(e).put(function(e){return{name:e.name,readTime:bS(W_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function NS(e){return Vw(e,"bundles")}function RS(e){return Vw(e,"namedQueries")}var PS=function(){function e(t,n){no(this,e),this.serializer=t,this.userId=n}return io(e,[{key:"getOverlay",value:function(e,t){var n=this;return DS(e).get(TS(this.userId,t)).next((function(e){return e?ES(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=PI();return Qb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new x_(t,a);i.push(r.re(e,o))})),Qb.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(lw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(DS(e).J("collectionPathOverlayIndex",i))})),Qb.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=PI(),a=lw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return DS(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=ao(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=ES(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=PI(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return DS(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=ES(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"re",value:function(e,t){return DS(e).put(function(e,t,n){var r=c(TS(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:nS(e.se,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ie",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function DS(e){return Vw(e,"documentOverlays")}var OS=function(){function e(){no(this,e)}return io(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(Zw(e.integerValue));else if("doubleValue"in e){var n=Zw(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),sw(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(ex(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?xx(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):cb()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=ao(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),Ob.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();function LS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function MS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=LS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}OS.pe=new OS;var FS=function(){function e(){no(this,e),this.buffer=new Uint8Array(1024),this.position=0}return io(e,[{key:"Ie",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Te(n.value),n=t.next();this.Ee()}},{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.ve()}},{key:"be",value:function(e){var t,n=ao(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{var a=r.codePointAt(0);this.Te(240|a>>>18),this.Te(128|63&a>>>12),this.Te(128|63&a>>>6),this.Te(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ee()}},{key:"Pe",value:function(e){var t,n=ao(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"Ve",value:function(e){var t=this.Se(e),n=MS(t);this.De(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ce",value:function(e){var t=this.Se(e),n=MS(t);this.De(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"xe",value:function(){this.Ne(255),this.Ne(255)}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Se",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Te",value:function(e){var t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}},{key:"Ee",value:function(){this.Ne(0),this.Ne(1)}},{key:"ve",value:function(){this.Oe(0),this.Oe(1)}},{key:"Ne",value:function(e){this.De(1),this.buffer[this.position++]=e}},{key:"Oe",value:function(e){this.De(1),this.buffer[this.position++]=~e}},{key:"De",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),VS=function(){function e(t){no(this,e),this.Me=t}return io(e,[{key:"we",value:function(e){this.Me.Ie(e)}},{key:"le",value:function(e){this.Me.be(e)}},{key:"he",value:function(e){this.Me.Ve(e)}},{key:"ce",value:function(){this.Me.xe()}}]),e}(),US=function(){function e(t){no(this,e),this.Me=t}return io(e,[{key:"we",value:function(e){this.Me.Ae(e)}},{key:"le",value:function(e){this.Me.Pe(e)}},{key:"he",value:function(e){this.Me.Ce(e)}},{key:"ce",value:function(){this.Me.ke()}}]),e}(),zS=function(){function e(){no(this,e),this.Me=new FS,this.Fe=new VS(this.Me),this.Be=new US(this.Me)}return io(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Le",value:function(e){return 0===e?this.Fe:this.Be}},{key:"$e",value:function(){return this.Me.$e()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),jS=function(){function e(t,n,r,i){no(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return io(e,[{key:"qe",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function BS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=qS(e.arrayValue,t.arrayValue))?n:0!==(n=qS(e.directionalValue,t.directionalValue))?n:Ob.comparator(e.documentKey,t.documentKey)}function qS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var WS=function(){function e(t){no(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];var n,r=ao(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ge=i:this.Ke.push(i)}}catch(a){r.e(a)}finally{r.f()}}return io(e,[{key:"Qe",value:function(e){lb(e.collectionGroup===this.collectionId);var t=Mb(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Fb(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ge){var a=n[r];if(!this.je(this.Ge,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=ao(this.Ke);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function KS(e){var t,n;if(lb(e instanceof Mx||e instanceof Fx),e instanceof Mx){if(e instanceof Xx){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Mx.create(e.field,"==",t)})))||[];return Fx.create(r,"or")}return e}var i=e.filters.map((function(e){return KS(e)}));return Fx.create(i,e.op)}function GS(e){if(0===e.getFilters().length)return[];var t=YS(KS(e));return lb($S(t)),HS(t)||QS(t)?[t]:t.getFilters()}function HS(e){return e instanceof Mx}function QS(e){return e instanceof Fx&&zx(e)}function $S(e){return HS(e)||QS(e)||function(e){if(e instanceof Fx&&Ux(e)){var t,n=ao(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!HS(r)&&!QS(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function YS(e){if(lb(e instanceof Mx||e instanceof Fx),e instanceof Mx)return e;if(1===e.filters.length)return YS(e.filters[0]);var t=e.filters.map((function(e){return YS(e)})),n=Fx.create(t,e.op);return $S(n=ZS(n))?n:(lb(n instanceof Fx),lb(Vx(n)),lb(n.filters.length>1),n.filters.reduce((function(e,t){return XS(e,t)})))}function XS(e,t){var n;return lb(e instanceof Mx||e instanceof Fx),lb(t instanceof Mx||t instanceof Fx),n=e instanceof Mx?t instanceof Mx?function(e,t){return Fx.create([e,t],"and")}(e,t):JS(e,t):t instanceof Mx?JS(t,e):function(e,t){if(lb(e.filters.length>0&&t.filters.length>0),Vx(e)&&Vx(t))return Wx(e,t.getFilters());var n=Ux(e)?e:t,r=Ux(e)?t:e,i=n.filters.map((function(e){return XS(e,r)}));return Fx.create(i,"or")}(e,t),ZS(n)}function JS(e,t){if(Vx(t))return Wx(t,e.getFilters());var n=t.filters.map((function(t){return XS(e,t)}));return Fx.create(n,"or")}function ZS(e){if(lb(e instanceof Mx||e instanceof Fx),e instanceof Mx)return e;var t=e.getFilters();if(1===t.length)return ZS(t[0]);if(jx(e))return e;var n=t.map((function(e){return ZS(e)})),r=[];return n.forEach((function(t){t instanceof Mx?r.push(t):t instanceof Fx&&(t.op===e.op?r.push.apply(r,Vn(t.filters)):r.push(t))})),1===r.length?r[0]:Fx.create(r,e.op)}var eE=function(){function e(){no(this,e),this.He=new tE}return io(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),Qb.resolve()}},{key:"getCollectionParents",value:function(e,t){return Qb.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Qb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Qb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Qb.resolve(null)}},{key:"getIndexType",value:function(e,t){return Qb.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Qb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Qb.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Qb.resolve(Bb.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Qb.resolve(Bb.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Qb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Qb.resolve()}}]),e}(),tE=function(){function e(){no(this,e),this.index={}}return io(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Kw(Rb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Kw(Rb.comparator)).toArray()}}]),e}(),nE=new Uint8Array(0),rE=function(){function e(t,n){no(this,e),this.user=t,this.databaseId=n,this.Je=new tE,this.Ye=new EI((function(e){return nI(e)}),(function(e,t){return rI(e,t)})),this.uid=t.uid||""}return io(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Je.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Je.add(t)}));var a={collectionId:r,parent:lw(i)};return iE(e).put(a)}return Qb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Tb(t),""],!1,!0);return iE(e).j(r).next((function(e){var r,i=ao(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(dw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=oE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=uE(e);return a.next((function(e){o.put(CS(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=oE(e),r=uE(e),i=aE(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=aE(e),i=!0,a=new Map;return Qb.forEach(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=FI(),o=[];return Qb.forEach(a,(function(i,a){var u;ab("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(nI(t)));var s=function(e,t){var n=Mb(t);if(void 0===n)return null;var r,i=ao(aI(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ao(Fb(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ao(aI(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ao(Fb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?oI(e,o.fieldPath,e.startAt):uI(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Nx(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ao(Fb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?uI(e,o.fieldPath,e.endAt):oI(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Nx(r,i)}(a,i),h=n.tn(i,a,l),d=n.tn(i,a,f),p=n.en(i,a,c),v=n.nn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Qb.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Ob.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Qb.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:GS(Fx.create(e.filters,"and")).map((function(t){return tI(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Ye.set(e,t),t)}},{key:"nn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.sn(t[h/c]):nE,f=u.rn(e,s,n[h%c],r),d=u.on(e,s,i[h%c],a),p=o.map((function(t){return u.rn(e,s,t,!0)}));l.push.apply(l,Vn(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"rn",value:function(e,t,n,r){var i=new jS(e,Ob.empty(),t,n);return r?i:i.qe()}},{key:"on",value:function(e,t,n,r){var i=new jS(e,Ob.empty(),t,n);return r?i.qe():i}},{key:"Xe",value:function(e,t){var n=new WS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=ao(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Qe(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return Qb.forEach(i,(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Kw(Db.comparator),r=!1,i=ao(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=ao(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=ao(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"un",value:function(e,t){var n,r=new zS,i=ao(Fb(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Le(a.kind);OS.pe.oe(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"sn",value:function(e){var t=new zS;return OS.pe.oe(e,t.Le(0)),t.$e()}},{key:"cn",value:function(e,t){var n=new zS;return OS.pe.oe(vx(this.databaseId,t),n.Le(function(e){var t=Fb(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"en",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new zS);var i,a=0,o=ao(Fb(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=ao(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.an(t,s.fieldPath)&&yx(c))r=this.hn(r,s,c);else{var h=f.Le(s.kind);OS.pe.oe(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.ln(r)}},{key:"tn",value:function(e,t,n){return this.en(e,t,n.position)}},{key:"ln",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"hn",value:function(e,t,n){var r,i=Vn(e),a=[],o=ao(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=ao(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new zS;f.seed(l.$e()),OS.pe.oe(s,f.Le(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"an",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Mx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=oE(e),i=uE(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Qb.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ub(t.sequenceNumber,new Bb(wS(t.readTime),new Ob(dw(t.documentKey)),t.largestBatchId)):Ub.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Vb(Db.fromServerFormat(n),r)}));return new Lb(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Sb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=oE(e),a=uE(e);return this.fn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Qb.forEach(t,(function(t){return a.put(CS(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Qb.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Qb.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Qb.forEach(a,(function(r){return n.dn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Qb.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"mn",value:function(e,t,n,r){return aE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"gn",value:function(e,t,n,r){return aE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(n,t.key),t.key.path.toArray()])}},{key:"dn",value:function(e,t,n){var r=aE(e),i=new Kw(BS);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.cn(n,t)])},(function(e,r){i=i.add(new jS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Kw(BS),r=this.un(t,e);if(null==r)return n;var i=Mb(t);if(null!=i){var a=e.data.field(i.fieldPath);if(yx(a)){var o,u=ao(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new jS(t.indexId,e.key,this.sn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new jS(t.indexId,e.key,nE,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;ab("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Hw(a),s=Hw(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Hw(o)):l?(i(u),u=Hw(a)):(u=Hw(a),s=Hw(o))}}(r,i,BS,(function(r){o.push(a.mn(e,t,n,r))}),(function(r){o.push(a.gn(e,t,n,r))})),Qb.waitFor(o)}},{key:"fn",value:function(e){var t=1;return uE(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return BS(e,t)})).filter((function(e,t,n){return!t||0!==BS(e,n[t-1])}));var r=[];r.push(e);var i,a=ao(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=BS(o,e),s=BS(o,t);if(0===u)r[0]=e.qe();else if(u>0&&s<0)r.push(o),r.push(o.qe());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.yn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,nE,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,nE,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"yn",value:function(e,t){return BS(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(sE)}},{key:"getMinOffset",value:function(e,t){var n=this;return Qb.mapArray(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){return e||cb()}))})).next(sE)}}]),e}();function iE(e){return Vw(e,"collectionParents")}function aE(e){return Vw(e,"indexEntries")}function oE(e){return Vw(e,"indexConfiguration")}function uE(e){return Vw(e,"indexState")}function sE(e){lb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;qb(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Bb(t.readTime,t.documentKey,n)}var cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lE=function(){function e(t,n,r){no(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return io(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function fE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){lb(1===u)})));var c,l=[],f=ao(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=mw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Qb.waitFor(a).next((function(){return l}))}function hE(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cb();t=e.noDocument}return JSON.stringify(t).length}lE.DEFAULT_COLLECTION_PERCENTILE=10,lE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lE.DEFAULT=new lE(41943040,lE.DEFAULT_COLLECTION_PERCENTILE,lE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lE.DISABLED=new lE(-1,0,0);var dE=function(){function e(t,n,r,i){no(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}return io(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vE(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=mE(e),o=vE(e);return o.add({}).next((function(u){lb("number"==typeof u);var s,c=new b_(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return nS(e.se,t)})),i=n.mutations.map((function(t){return nS(e.se,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Kw((function(e,t){return Sb(e.canonicalString(),t.canonicalString())})),d=ao(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=mw(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,yw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.pn[u]=c.keys()})),Qb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return vE(e).get(t).next((function(e){return e?(lb(e.userId===n.userId),xS(n.serializer,e)):null}))}},{key:"In",value:function(e,t){var n=this;return this.pn[t]?Qb.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.pn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return vE(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(lb(t.batchId>=r),a=xS(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return vE(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vE(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return xS(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=vw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return mE(e).Z({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=dw(l);if(s===n.userId&&t.path.isEqual(h))return vE(e).get(f).next((function(e){if(!e)throw cb();lb(e.userId===n.userId),a.push(xS(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Kw(Sb),i=[];return t.forEach((function(t){var a=vw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=mE(e).Z({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=dw(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Qb.waitFor(i).next((function(){return n.Tn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=vw(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Kw(Sb);return mE(e).Z({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=dw(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Tn(e,u)}))}},{key:"Tn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(vE(e).get(t).next((function(e){if(null===e)throw cb();lb(e.userId===n.userId),r.push(xS(n.serializer,e))})))})),Qb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return fE(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.En(t.batchId)})),Qb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"En",value:function(e){delete this.pn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Qb.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return mE(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=dw(e[1]);i.push(a)}else r.done()})).next((function(){lb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return pE(e,this.userId,t)}},{key:"An",value:function(e){var t=this;return yE(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ie",value:function(t,n,r,i){return lb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function pE(e,t,n){var r=vw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return mE(e).Z({range:a,Y:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function vE(e){return Vw(e,"mutations")}function mE(e){return Vw(e,"documentMutations")}function yE(e){return Vw(e,"mutationQueues")}var gE=function(){function e(t){no(this,e),this.Rn=t}return io(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}(),kE=function(){function e(t,n){no(this,e),this.referenceDelegate=t,this.serializer=n}return io(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Pn(e).next((function(n){var r=new gE(n.highestTargetId);return n.highestTargetId=r.next(),t.Vn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Pn(e).next((function(e){return Ab.fromTimestamp(new Cb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Vn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Sn(e,t).next((function(){return n.Pn(e).next((function(r){return r.targetCount+=1,n.Dn(t,r),n.Vn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Sn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return bE(e).delete(t.targetId)})).next((function(){return n.Pn(e)})).next((function(t){return lb(t.targetCount>0),t.targetCount-=1,n.Vn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return bE(e).Z((function(o,u){var s=IS(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Qb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return bE(e).Z((function(e,n){var r=IS(n);t(r)}))}},{key:"Pn",value:function(e){return wE(e).get("targetGlobalKey").next((function(e){return lb(null!==e),e}))}},{key:"Vn",value:function(e,t){return wE(e).put("targetGlobalKey",t)}},{key:"Sn",value:function(e,t){return bE(e).put(_S(this.serializer,t))}},{key:"Dn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=nI(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bE(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=IS(n);rI(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=xE(e);return t.forEach((function(t){var o=lw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Qb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=xE(e);return Qb.forEach(t,(function(t){var a=lw(t.path);return Qb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=xE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=xE(e),i=FI();return r.Z({range:n,Y:!0},(function(e,t,n){var r=dw(e[1]),a=new Ob(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=lw(t.path),r=IDBKeyRange.bound([n],[Tb(n)],!1,!0),i=0;return xE(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return bE(e).get(t).next((function(e){return e?IS(e):null}))}}]),e}();function bE(e){return Vw(e,"targets")}function wE(e){return Vw(e,"targetGlobal")}function xE(e){return Vw(e,"targetDocuments")}function IE(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Sb(r,o);return 0===s?Sb(i,u):s}var _E=function(){function e(t){no(this,e),this.Cn=t,this.buffer=new Kw(IE),this.xn=0}return io(e,[{key:"Nn",value:function(){return++this.xn}},{key:"kn",value:function(e){var t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();IE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),SE=function(){function e(t,n,r){no(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return io(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"$n",value:function(e){var t=this;ab("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Zb(e.t0)){e.next=12;break}ab("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Gb(e.t0);case 14:return e.next=16,t.$n(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),EE=function(){function e(t,n){no(this,e),this.Mn=t,this.params=n}return io(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.Fn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Qb.resolve(ow.ct);var r=new _E(t);return this.Mn.forEachTarget(e,(function(e){return r.kn(e.sequenceNumber)})).next((function(){return n.Mn.Bn(e,(function(e){return r.kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ab("LruGarbageCollector","Garbage collection skipped; disabled"),Qb.resolve(cE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ab("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),cE):n.Ln(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"Ln",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ab("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),ib()<=Xo.DEBUG&&ab("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Qb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),TE=function(){function e(t,n){no(this,e),this.db=t,this.garbageCollector=function(e,t){return new EE(e,t)}(this,n)}return io(e,[{key:"Fn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Bn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Bn",value:function(e,t){return this.Un(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return CE(e,n)}},{key:"removeReference",value:function(e,t,n){return CE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return CE(e,t)}},{key:"Kn",value:function(e,t){return function(e,t){var n=!1;return yE(e).X((function(r){return pE(e,r,t).next((function(e){return e&&(n=!0),Qb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Un(e,(function(o,u){if(u<=t){var s=n.Kn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Ab.min()),xE(e).delete([0,lw(o.path)])}))}));i.push(s)}})).next((function(){return Qb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return CE(e,t)}},{key:"Un",value:function(e,t){var n,r=xE(e),i=ow.ct;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==ow.ct&&t(new Ob(dw(n)),i),i=s,n=u):i=ow.ct})).next((function(){i!==ow.ct&&t(new Ob(dw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function CE(e,t){return xE(e).put(function(e,t){return{targetId:0,path:lw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var AE=function(){function e(){no(this,e),this.changes=new EI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return io(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ax.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Qb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),NE=function(){function e(t){no(this,e),this.serializer=t}return io(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return OE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return OE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],kS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Gn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ax.newInvalidDocument(t);return OE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(LE(t))},(function(e,i){r=n.Qn(t,i)})).next((function(){return r}))}},{key:"zn",value:function(e,t){var n=this,r={size:0,document:Ax.newInvalidDocument(t)};return OE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(LE(t))},(function(e,i){r={document:n.Qn(t,i),size:hE(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=CI();return this.jn(e,t,(function(e,t){var i=n.Qn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r=CI(),i=new Bw(Ob.comparator);return this.jn(e,t,(function(e,t){var a=n.Qn(e,t);r=r.insert(e,a),i=i.insert(e,hE(t))})).next((function(){return{documents:r,Hn:i}}))}},{key:"jn",value:function(e,t,n){if(t.isEmpty())return Qb.resolve();var r=new Kw(FE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(LE(r.first()),LE(r.last())),a=r.getIterator(),o=a.getNext();return OE(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ob.fromSegments([].concat(Vn(t.prefixPath),[t.collectionGroup,t.documentId]));o&&FE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(LE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),kS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return OE(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=CI(),o=ao(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Qn(Ob.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(xI(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=CI(),o=ME(t,n),u=ME(t,Bb.max());return OE(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Qn(Ob.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new PE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return DE(e).get("remoteDocumentGlobalKey").next((function(e){return lb(!!e),e}))}},{key:"Gn",value:function(e,t){return DE(e).put("remoteDocumentGlobalKey",t)}},{key:"Qn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=eS(e.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ob.fromSegments(t.noDocument.path),i=wS(t.noDocument.readTime);n=Ax.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return cb();var a=Ob.fromSegments(t.unknownDocument.path),o=wS(t.unknownDocument.version);n=Ax.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Cb(e[0],e[1]);return Ab.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Ab.min()))return n}return Ax.newInvalidDocument(e)}}]),e}();function RE(e){return new NE(e)}var PE=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this)).Jn=e,i.trackRemovals=r,i.Yn=new EI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return io(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Kw((function(e,t){return Sb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Yn.get(a);if(n.push(t.Jn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=gS(t.Jn.serializer,o);i=i.add(a.path.popLast());var c=hE(s);r+=c-u.size,n.push(t.Jn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=gS(t.Jn.serializer,o.convertToNoDocument(Ab.min()));n.push(t.Jn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Jn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Jn.updateMetadata(e,r)),Qb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Jn.zn(e,t).next((function(e){return n.Yn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Jn.Wn(e,t).next((function(e){var t=e.documents;return e.Hn.forEach((function(e,r){n.Yn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(AE);function DE(e){return Vw(e,"remoteDocumentGlobal")}function OE(e){return Vw(e,"remoteDocumentsV14")}function LE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ME(e,t){var n=t.documentKey.path.toArray();return[e,kS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function FE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Sb(n[a],r[a]))return i;return(i=Sb(n.length,r.length))||((i=Sb(n[n.length-2],r[r.length-2]))||Sb(n[n.length-1],r[r.length-1]))}var VE=io((function e(t,n){no(this,e),this.overlayedDocument=t,this.mutatedFields=n})),UE=function(){function e(t,n,r,i){no(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return io(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&s_(r.mutation,e,Qw.empty(),Cb.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,FI()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:FI(),i=PI();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=NI();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=PI();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,FI())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=CI(),a=OI(),o=OI();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof h_)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),s_(o.mutation,t,o.mutation.getFieldMask(),Cb.now())):a.set(t.key,Qw.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new VE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=OI(),i=new Bw((function(e,t){return e-t})),a=FI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ao(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Qw.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||FI()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=DI();c.forEach((function(e){if(!a.has(e)){var n=o_(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Qb.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ob.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Qb.resolve(PI()),u=-1,s=a;return o.next((function(t){return Qb.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Qb.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,FI())})).next((function(e){return{batchId:u,changes:RI(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ob(t)).next((function(e){var t=NI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=NI();return this.indexManager.getCollectionParents(e,i).next((function(o){return Qb.forEach(o,(function(o){var u=function(e,t){return new sI(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ax.newInvalidDocument(r)))}));var n=NI();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&s_(a.mutation,i,Qw.empty(),Cb.now()),xI(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),zE=function(){function e(t){no(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return io(e,[{key:"getBundleMetadata",value:function(e,t){return Qb.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:W_(n.createTime)}),Qb.resolve()}},{key:"getNamedQuery",value:function(e,t){return Qb.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:SS(e.bundledQuery),readTime:W_(e.readTime)}}(t)),Qb.resolve()}}]),e}(),jE=function(){function e(){no(this,e),this.overlays=new Bw(Ob.comparator),this.ts=new Map}return io(e,[{key:"getOverlay",value:function(e,t){return Qb.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=PI();return Qb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),Qb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),Qb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=PI(),i=t.length+1,a=new Ob(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Qb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Bw((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=PI(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=PI(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Qb.resolve(s)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new x_(t,n));var a=this.ts.get(t);void 0===a&&(a=FI(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),BE=function(){function e(){no(this,e),this.es=new Kw(qE.ns),this.ss=new Kw(qE.rs)}return io(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new qE(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new qE(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new Ob(new Rb([])),r=new qE(n,e),i=new qE(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new Ob(new Rb([])),n=new qE(t,e),r=new qE(t,e+1),i=FI();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new qE(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),qE=function(){function e(t,n){no(this,e),this.key=t,this.ds=n}return io(e,null,[{key:"ns",value:function(e,t){return Ob.comparator(e.key,t.key)||Sb(e.ds,t.ds)}},{key:"rs",value:function(e,t){return Sb(e.ds,t.ds)||Ob.comparator(e.key,t.key)}}]),e}(),WE=function(){function e(t,n){no(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Kw(qE.ns)}return io(e,[{key:"checkEmpty",value:function(e){return Qb.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new b_(i,t,n,r);this.mutationQueue.push(a);var o,u=ao(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this._s=this._s.add(new qE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Qb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Qb.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return Qb.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Qb.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Qb.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new qE(t,0),i=new qE(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),Qb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Kw(Sb);return t.forEach((function(e){var t=new qE(e,0),i=new qE(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),Qb.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ob.isDocumentKey(i)||(i=i.child(""));var a=new qE(new Ob(i),0),o=new Kw(Sb);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),Qb.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;lb(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return Qb.forEach(t.mutations,(function(i){var a=new qE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new qE(t,0),r=this._s.firstAfterOrEqual(n);return Qb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Qb.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),KE=function(){function e(t){no(this,e),this.Ts=t,this.docs=new Bw(Ob.comparator),this.size=0}return io(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Qb.resolve(n?n.document.mutableCopy():Ax.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=CI();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ax.newInvalidDocument(e))})),Qb.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=CI(),a=t.path,o=new Ob(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||qb(jb(l),n)<=0||(r.has(l.key)||xI(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Qb.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){cb()}},{key:"Es",value:function(e,t){return Qb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new GE(this)}},{key:"getSize",value:function(e){return Qb.resolve(this.size)}}]),e}(),GE=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this)).Jn=e,r}return io(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),Qb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(AE),HE=function(){function e(t){no(this,e),this.persistence=t,this.As=new EI((function(e){return nI(e)}),rI),this.lastRemoteSnapshotVersion=Ab.min(),this.highestTargetId=0,this.Rs=0,this.vs=new BE,this.targetCount=0,this.bs=gE.vn()}return io(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),Qb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Qb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Qb.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Qb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),Qb.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new gE(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,Qb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),Qb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,Qb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Qb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Qb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return Qb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),Qb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Qb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),Qb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return Qb.resolve(n)}},{key:"containsKey",value:function(e,t){return Qb.resolve(this.vs.containsKey(t))}}]),e}(),QE=function(){function e(t,n){var r=this;no(this,e),this.Ps={},this.overlays={},this.Vs=new ow(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new HE(this),this.indexManager=new eE,this.remoteDocumentCache=new KE((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new yS(n),this.xs=new zE(this.serializer)}return io(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new jE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new WE(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;ab("MemoryPersistence","Starting transaction:",e);var i=new $E(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Qb.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$E=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return io(n)}(Kb),YE=function(){function e(t){no(this,e),this.persistence=t,this.$s=new BE,this.Ms=null}return io(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw cb()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),Qb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),Qb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),Qb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qb.forEach(this.Bs,(function(r){var i=Ob.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,Ab.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return Qb.or([function(){return Qb.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}(),XE=function(){function e(t){no(this,e),this.serializer=t}return io(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new $b("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pw,{unique:!0}),e.createObjectStore("documentMutations")}(e),JE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Qb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),JE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ab.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Qb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Us(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Ks(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Gs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Qs(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Aw});t.createIndex("collectionPathOverlayIndex",Nw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Rw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:gw});t.createIndex("documentKeyIndex",kw),t.createIndex("collectionGroupIndex",bw)}(e)})).next((function(){return i.zs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Sw}).createIndex("sequenceNumberIndex",Ew,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Tw}).createIndex("documentKeyIndex",Cw,{unique:!1})}(e)}))),o}},{key:"Us",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=hE(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Qb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Qb.forEach(r,(function(r){lb(r.userId===n.userId);var i=xS(t.serializer,r);return fE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Ks",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Rb(n),o=function(e){return[0,lw(e)]}(a);r.push(t.get(o).next((function(n){return n?Qb.resolve():function(n){return t.put({targetId:0,path:lw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Qb.waitFor(r)}))}))}},{key:"Gs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:_w});var n=t.store("collectionParents"),r=new tE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:lw(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Rb(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],dw(r));return i(a.popLast())}))}))}},{key:"Qs",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=IS(r),a=_S(t.serializer,i);return n.put(a)}))}},{key:"zs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ob(Rb.fromString(i.document.name).popFirst(5)):i.noDocument?Ob.fromSegments(i.noDocument.path):i.unknownDocument?Ob.fromSegments(i.unknownDocument.path):cb()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Qb.waitFor(r)}))}},{key:"js",value:function(e,t){var n=this,r=t.store("mutations"),i=RE(this.serializer),a=new QE(YE.Fs,this.serializer.se);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:FI();xS(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Qb.forEach(r,(function(e,r){var o=new tb(r),u=PS.ie(n.serializer,o),s=a.getIndexManager(o),c=dE.ie(o,n.serializer,s,a.referenceDelegate);return new UE(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Fw(t,ow.ct),e).next()}))}))}}]),e}();function JE(e){e.createObjectStore("targetDocuments",{keyPath:xw}).createIndex("documentTargetsIndex",Iw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ww,{unique:!0}),e.createObjectStore("targetGlobal")}var ZE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eT=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(no(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ws=a,this.window=o,this.document=u,this.Hs=c,this.Js=l,this.Ys=f,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=function(e){return Promise.resolve()},!e.D())throw new db(hb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TE(this,i),this.si=n+"main",this.serializer=new yS(s),this.ii=new Yb(this.si,this.Ys,new XE(this.serializer)),this.Ds=new kE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RE(this.serializer),this.xs=new AS,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===l&&ob("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return io(e,[{key:"start",value:function(){var e=this;return this.oi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new db(hb.FAILED_PRECONDITION,ZE);return e.ui(),e.ci(),e.ai(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ds.getHighestSequenceNumber(t)}))})).then((function(t){e.Vs=new ow(t,e.Hs)})).then((function(){e.Ss=!0})).catch((function(t){return e.ii&&e.ii.close(),Promise.reject(t)}))}},{key:"hi",value:function(e){var t=this;return this.ni=function(){var n=Ko(qo().mark((function n(r){return qo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ii.B(function(){var t=Ko(qo().mark((function t(n){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.oi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"oi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return nT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.li(t).next((function(t){t||(e.isPrimary=!1,e.Ws.enqueueRetryable((function(){return e.ni(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.di(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Zb(t))return ab("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ab("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ws.enqueueRetryable((function(){return e.ni(t)})),e.isPrimary=t}))}},{key:"li",value:function(e){var t=this;return tT(e).get("owner").next((function(e){return Qb.resolve(t._i(e))}))}},{key:"mi",value:function(e){return nT(e).delete(this.clientId)}},{key:"gi",value:function(){var e=Ko(qo().mark((function e(){var t,n,r,i,a=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.yi(this.ei,18e5)){e.next=6;break}return this.ei=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Vw(e,"clientMetadata");return t.j().next((function(e){var n=a.pi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Qb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ri){n=ao(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ri.removeItem(this.Ii(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ai",value:function(){var e=this;this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.oi().then((function(){return e.gi()})).then((function(){return e.ai()}))}))}},{key:"_i",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.Js?Qb.resolve(!0):tT(e).get("owner").next((function(n){if(null!==n&&t.yi(n.leaseTimestampMs,5e3)&&!t.Ti(n.ownerId)){if(t._i(n)&&t.networkEnabled)return!0;if(!t._i(n)){if(!n.allowTabSynchronization)throw new db(hb.FAILED_PRECONDITION,ZE);return!1}}return!(!t.networkEnabled||!t.inForeground)||nT(e).j().next((function(e){return void 0===t.pi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ab("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ko(qo().mark((function e(){var t=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),e.next=7,this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Fw(e,ow.ct);return t.di(n).next((function(){return t.mi(n)}))}));case 7:this.ii.close(),this.vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(e,t){var n=this;return e.filter((function(e){return n.yi(e.updateTimeMs,t)&&!n.Ti(e.clientId)}))}},{key:"bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return nT(t).j().next((function(t){return e.pi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ss}},{key:"getMutationQueue",value:function(e,t){return dE.ie(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new rE(e,this.serializer.se.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return PS.ie(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;ab("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Ys)?Mw:14===i?Lw:13===i?Ow:12===i?Dw:11===i?Pw:void cb();return this.ii.runTransaction(e,o,u,(function(i){return a=new Fw(i,r.Vs?r.Vs.next():ow.ct),"readwrite-primary"===t?r.li(a).next((function(e){return!!e||r.fi(a)})).next((function(t){if(!t)throw ob("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ws.enqueueRetryable((function(){return r.ni(!1)})),new db(hb.FAILED_PRECONDITION,Wb);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Pi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Pi",value:function(e){var t=this;return tT(e).get("owner").next((function(e){if(null!==e&&t.yi(e.leaseTimestampMs,5e3)&&!t.Ti(e.ownerId)&&!t._i(e)&&!(t.Js||t.allowTabSynchronization&&e.allowTabSynchronization))throw new db(hb.FAILED_PRECONDITION,ZE)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tT(e).put("owner",t)}},{key:"di",value:function(e){var t=this,n=tT(e);return n.get("owner").next((function(e){return t._i(e)?(ab("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Qb.resolve()}))}},{key:"yi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ob("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ui",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=function(){e.Ws.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.oi()}))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ai",value:function(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}},{key:"ci",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ei();var e=/(?:Version|Mobile)\/1[456]/;!_o()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ws.enterRestrictedMode(!0),t.Ws.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"Ri",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ti",value:function(e){var t;try{var n=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return ab("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ob("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ei",value:function(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(lm){ob("Failed to set zombie client id.",lm)}}},{key:"vi",value:function(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch(lm){}}},{key:"Ii",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Yb.D()}}]),e}();function tT(e){return Vw(e,"owner")}function nT(e){return Vw(e,"clientMetadata")}function rT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var iT=function(){function e(t,n,r,i){no(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return io(e,null,[{key:"Di",value:function(t,n){var r,i=FI(),a=FI(),o=ao(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),aT=function(){function e(){no(this,e),this.Ci=!1}return io(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(fI(t))return Qb.resolve(null);var r=mI(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=gI(t,null,"F"),r=mI(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=FI.apply(void 0,Vn(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,gI(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return fI(t)||r.isEqual(Ab.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(ib()<=Xo.DEBUG&&ab("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wI(t)),i.Fi(e,o,t,zb(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new Kw(_I(e));return t.forEach((function(t,r){xI(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return ib()<=Xo.DEBUG&&ab("QueryEngine","Using full collection scan to execute query:",wI(t)),this.xi.getDocumentsMatchingQuery(e,t,Bb.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),oT=function(){function e(t,n,r,i){no(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new Bw(Sb),this.qi=new EI((function(e){return nI(e)}),rI),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return io(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UE(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function uT(e,t,n,r){return new oT(e,t,n,r)}function sT(e,t){return cT.apply(this,arguments)}function cT(){return cT=Ko(qo().mark((function e(t,n){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=FI(),s=ao(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ao(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ao(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ao(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e,t){var n=fb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Qb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);lb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=FI(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function fT(e){var t=fb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function hT(e,t){var n=fb(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Yw.EMPTY_BYTE_STRING,Ab.min()).withLastLimboFreeSnapshotVersion(Ab.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ds.updateTargetData(e,c))}}));var u=CI(),s=FI();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(dT(e,a,t.documentUpdates).next((function(e){u=e.zi,s=e.ji}))),!r.isEqual(Ab.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Qb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Li=i,e}))}function dT(e,t,n){var r=FI(),i=FI();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=CI();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ab.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ab("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function pT(e,t){var n=fb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function vT(e,t){var n=fb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,Qb.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new mS(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function mT(e,t,n){return yT.apply(this,arguments)}function yT(){return yT=Ko(qo().mark((function e(t,n,r){var i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fb(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Zb(e.t1)){e.next=12;break}throw e.t1;case 12:ab("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),yT.apply(this,arguments)}function gT(e,t,n){var r=fb(e),i=Ab.min(),a=FI();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fb(e),i=r.qi.get(n);return void 0!==i?Qb.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,mI(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:Ab.min(),n?a:FI())})).next((function(e){return wT(r,II(t),e),{documents:e,Wi:a}}))}))}function kT(e,t){var n=fb(e),r=fb(n.Ds),i=n.Li.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function bT(e,t){var n=fb(e),r=n.Ui.get(t)||Ab.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ki.getAllFromCollectionGroup(e,t,zb(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return wT(n,t,e),e}))}function wT(e,t,n){var r=e.Ui.get(t)||Ab.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}function xT(e,t,n,r){return IT.apply(this,arguments)}function IT(){return IT=Ko(qo().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=fb(t),o=FI(),u=CI(),s=ao(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Hi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ji(l)).setReadTime(n.Yi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ki.newChangeBuffer({trackRemovals:!0}),e.next=7,vT(a,function(e){return mI(lI(Rb.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return dT(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Ds.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ds.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.zi,t.ji)})).next((function(){return t.zi}))}))})));case 9:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function _T(e,t){return ST.apply(this,arguments)}function ST(){return ST=Ko(qo().mark((function e(t,n){var r,i,a,o=arguments;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:FI(),e.next=3,vT(t,mI(SS(n.bundledQuery)));case 3:return i=e.sent,a=fb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=W_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.xs.saveNamedQuery(e,n);var o=i.withResumeToken(Yw.EMPTY_BYTE_STRING,t);return a.Li=a.Li.insert(o.targetId,o),a.Ds.updateTargetData(e,o).next((function(){return a.Ds.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ds.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.xs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ST.apply(this,arguments)}function ET(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function TT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function CT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var AT=function(){function e(t,n,r,i){no(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return io(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new db(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ob("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),NT=function(){function e(t,n,r){no(this,e),this.targetId=t,this.state=n,this.error=r}return io(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new db(i.error.code,i.error.message))),a?new e(t,i.state,r):(ob("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),RT=function(){function e(t,n){no(this,e),this.clientId=t,this.activeTargetIds=n}return io(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=UI(),o=0;i&&o<r.activeTargetIds.length;++o)i=cw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ob("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),PT=function(){function e(t,n){no(this,e),this.clientId=t,this.onlineState=n}return io(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ob("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),DT=function(){function e(){no(this,e),this.activeTargetIds=UI()}return io(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),OT=function(){function e(t,n,r,i,a){no(this,e),this.window=t,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Bw(Sb),this.started=!1,this.ur=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=ET(this.persistenceKey,this.nr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new DT),this.hr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.lr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.dr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}return io(e,[{key:"start",value:function(){var e=Ko(qo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.bi();case 2:t=e.sent,n=ao(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.nr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ET(this.persistenceKey,i)))&&(o=RT.Zi(i,a))&&(this.rr=this.rr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.mr(),(u=this.storage.getItem(this.wr))&&(s=this.gr(u))&&this.yr(s),c=ao(this.ur);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ir(f)}catch(d){c.e(d)}finally{c.f()}this.ur=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.pr(this.rr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.rr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ir(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ir(e,t,n),this.Tr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(CT(this.persistenceKey,e));if(n){var r=NT.Zi(e,n);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Er.er(e),this.mr()}},{key:"isLocalQueryTarget",value:function(e){return this.Er.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(CT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ar(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Tr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Rr(e)}},{key:"notifyBundleLoaded",value:function(e){this.vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ab("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ab("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ab("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ir",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ab("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void ob("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(Ko(qo().mark((function e(){var r,i,a,o,u,s,c;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.hr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.br(n.key),e.abrupt("return",t.Pr(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Pr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.lr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Sr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Dr(a));case 16:e.next=41;break;case 18:if(!t.dr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Nr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.gr(n.newValue))){e.next=30;break}return e.abrupt("return",t.yr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=ow.ct;if(null!=e)try{var n=JSON.parse(e);lb("number"==typeof n),t=n}catch(e){ob("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ow.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.ur.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Er",get:function(){return this.rr.get(this.nr)}},{key:"mr",value:function(){this.setItem(this.cr,this.Er.Xi())}},{key:"Ir",value:function(e,t,n){var r=new AT(this.currentUser,e,t,n),i=TT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Tr",value:function(e){var t=TT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Rr",value:function(e){var t={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Ar",value:function(e,t,n){var r=CT(this.persistenceKey,e),i=new NT(e,t,n);this.setItem(r,i.Xi())}},{key:"vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"br",value:function(e){var t=this.hr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.br(e);return RT.Zi(n,t)}},{key:"Sr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return AT.Zi(new tb(i),r,t)}},{key:"Cr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]);return NT.Zi(r,t)}},{key:"gr",value:function(e){return PT.Zi(e)}},{key:"kr",value:function(e){return JSON.parse(e)}},{key:"Dr",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:ab("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Nr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"Pr",value:function(e,t){var n=this,r=t?this.rr.insert(e,t):this.rr.remove(e),i=this.pr(this.rr),a=this.pr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.rr=r}))}},{key:"yr",value:function(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"pr",value:function(e){var t=UI();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),LT=function(){function e(){no(this,e),this.Br=new DT,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return io(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new DT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),MT=function(){function e(){no(this,e)}return io(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),FT=function(){function e(){var t=this;no(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return io(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){ab("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ao(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){ab("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ao(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),VT=null;function UT(){return null===VT?VT=268435456+Math.round(2147483648*Math.random()):VT++,"0x"+VT.toString(16)}var zT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},jT=function(){function e(t){no(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return io(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),BT="WebChannelConnection",qT=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return io(n,[{key:"lo",value:function(e,t,n,r){var i=UT();return new Promise((function(a,o){var u=new Zk;u.setWithCredentials(!0),u.listenOnce(Qk.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Hk.NO_ERROR:var t=u.getResponseJson();ab(BT,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Hk.TIMEOUT:ab(BT,"RPC '".concat(e,"' ").concat(i," timed out")),o(new db(hb.DEADLINE_EXCEEDED,"Request time out"));break;case Hk.HTTP_ERROR:var n=u.getStatus();if(ab(BT,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(hb).indexOf(t)>=0?t:hb.UNKNOWN}(s.status);o(new db(c,s.message))}else o(new db(hb.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new db(hb.UNAVAILABLE,"Connection failed."));break;default:cb()}}finally{ab(BT,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);ab(BT,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=UT(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Kk(),o=Gk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new Xk({})),this.ho(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");ab(BT,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new jT({Wr:function(t){f?ab(BT,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(ab(BT,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),ab(BT,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,Jk.EventType.OPEN,(function(){f||ab(BT,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,Jk.EventType.CLOSE,(function(){f||(f=!0,ab(BT,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())})),d(c,Jk.EventType.ERROR,(function(t){f||(f=!0,ub(BT,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new db(hb.UNAVAILABLE,"The operation could not be completed")))})),d(c,Jk.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];lb(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ab(BT,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=m_[e];if(void 0!==t)return S_(t)}(u),l=o.message;void 0===s&&(s=hb.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.so(new db(s,l)),c.close()}else ab(BT,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}})),d(o,$k.STAT_EVENT,(function(t){t.stat===Yk.PROXY?ab(BT,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Yk.NOPROXY&&ab(BT,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.no()}),0),h}}]),n}(function(){function e(t){no(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return io(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=UT(),o=this.ao(e,t);ab("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.ho(u,r,i),this.lo(e,o,u,n).then((function(t){return ab("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw ub("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=zT[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function WT(){return"undefined"!=typeof window?window:null}function KT(){return"undefined"!=typeof document?document:null}function GT(e){return new z_(e,!0)}var HT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;no(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return io(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&ab("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),QT=function(){function e(t,n,r,i,a,o,u,s){no(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new HT(t,n)}return io(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===hb.RESOURCE_EXHAUSTED?(ob(n.toString()),ob("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===hb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Vo===n&&e.Ko(i,a)}),(function(n){t((function(){var t=new db(hb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(Ko(qo().mark((function t(){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return ab("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(ab("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),$T=function(e){oo(n,e);var t=co(n);function n(e,r,i,a,o,u){var s;return no(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return io(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(lb(void 0===t||"string"==typeof t),Yw.fromBase64String(t||"")):(lb(void 0===t||t instanceof Uint8Array),Yw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?hb.UNKNOWN:S_(e.code);return new db(t,e.message||"")}(o);n=new P_(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Q_(e,s.document.name),l=W_(s.document.updateTime),f=s.document.createTime?W_(s.document.createTime):Ab.min(),h=new Tx({mapValue:{fields:s.document.fields}}),d=Ax.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new N_(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Q_(e,m.document),g=m.readTime?W_(m.readTime):Ab.min(),k=Ax.newNoDocument(y,g),b=m.removedTargetIds||[];n=new N_([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Q_(e,w.document),I=w.removedTargetIds||[];n=new N_([],I,x,null)}else{if(!("filter"in t))return cb();t.filter;var _=t.filter;_.targetId;var S=_.count||0,E=new I_(S),T=_.targetId;n=new R_(T,E)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ab.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ab.min():t.readTime?W_(t.readTime):Ab.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=X_(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=iI(r)?{documents:iS(e,r)}:{query:aS(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=B_(e,t.resumeToken):t.snapshotVersion.compareTo(Ab.min())>0&&(n.readTime=j_(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=X_(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(QT),YT=function(e){oo(n,e);var t=co(n);function n(e,r,i,a,o,u){var s;return no(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.Ho=!1,s}return io(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,xs(uo(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(lb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(lb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?W_(e.updateTime):W_(t);return n.isEqual(Ab.min())&&(n=W_(t)),new n_(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=W_(e.commitTime);return this.listener.Zo(n,t)}return lb(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=X_(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return nS(t.serializer,e)}))};this.Fo(n)}}]),n}(QT),XT=function(e){oo(n,e);var t=co(n);function n(e,r,i,a){var o;return no(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return io(n,[{key:"nu",value:function(){if(this.eu)throw new db(hb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.connection.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new db(hb.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.connection.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hb.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new db(hb.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return io((function e(){no(this,e)}))}());var JT=function(){function e(t,n){no(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return io(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(ob(t),this.ru=!1):ab("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),ZT=io((function e(t,n,r,i,a){var o=this;no(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=lC(o),!e.t0){e.next=5;break}return ab("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fb(t)).du.add(4),e.next=4,nC(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,eC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new JT(r,i)}));function eC(e){return tC.apply(this,arguments)}function tC(){return tC=Ko(qo().mark((function e(t){var n,r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lC(t)){e.next=18;break}n=ao(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),tC.apply(this,arguments)}function nC(e){return rC.apply(this,arguments)}function rC(){return rC=Ko(qo().mark((function e(t){var n,r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ao(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),rC.apply(this,arguments)}function iC(e,t){var n=fb(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),cC(n)?sC(n):UC(n).No()&&oC(n,t))}function aC(e,t){var n=fb(e),r=UC(n);n.fu.delete(t),r.No()&&uC(n,t),0===n.fu.size&&(r.No()?r.$o():lC(n)&&n.mu.set("Unknown"))}function oC(e,t){e.gu.Ot(t.targetId),UC(e).jo(t)}function uC(e,t){e.gu.Ot(t),UC(e).Wo(t)}function sC(e){e.gu=new O_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),UC(e).start(),e.mu.ou()}function cC(e){return lC(e)&&!UC(e).xo()&&e.fu.size>0}function lC(e){return 0===fb(e).du.size}function fC(e){e.gu=void 0}function hC(e){return dC.apply(this,arguments)}function dC(){return dC=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){oC(t,e)}));case 1:case"end":return e.stop()}}),e)}))),dC.apply(this,arguments)}function pC(e,t){return vC.apply(this,arguments)}function vC(){return vC=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fC(t),cC(t)?(t.mu.au(n),sC(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function mC(e,t,n){return yC.apply(this,arguments)}function yC(){return yC=Ko(qo().mark((function e(t,n,r){var i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof P_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ko(qo().mark((function e(t,n){var r,i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ao(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ab("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,gC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof N_?t.gu.Kt(n):n instanceof R_?t.gu.Jt(n):t.gu.zt(n),r.isEqual(Ab.min())){e.next=29;break}return e.prev=14,e.next=17,fT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(Yw.EMPTY_BYTE_STRING,n.snapshotVersion)),uC(e,t);var r=new mS(n.target,t,1,n.sequenceNumber);oC(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ab("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,gC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),yC.apply(this,arguments)}function gC(e,t,n){return kC.apply(this,arguments)}function kC(){return kC=Ko(qo().mark((function e(t,n,r){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zb(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,nC(t);case 5:t.mu.set("Offline"),r||(r=function(){return fT(t.localStore)}),t.asyncQueue.enqueueRetryable(Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ab("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,eC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function bC(e,t){return t().catch((function(n){return gC(e,n,t)}))}function wC(e){return xC.apply(this,arguments)}function xC(){return xC=Ko(qo().mark((function e(t){var n,r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fb(t),r=zC(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!IC(n)){e.next=19;break}return e.prev=3,e.next=6,pT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,_C(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,gC(n,e.t0);case 17:e.next=2;break;case 19:SC(n)&&EC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),xC.apply(this,arguments)}function IC(e){return lC(e)&&e.lu.length<10}function _C(e,t){e.lu.push(t);var n=zC(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function SC(e){return lC(e)&&!zC(e).xo()&&e.lu.length>0}function EC(e){zC(e).start()}function TC(e){return CC.apply(this,arguments)}function CC(){return CC=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zC(t).tu();case 1:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function AC(e){return NC.apply(this,arguments)}function NC(){return NC=Ko(qo().mark((function e(t){var n,r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zC(t),r=ao(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function RC(e,t,n){return PC.apply(this,arguments)}function PC(){return PC=Ko(qo().mark((function e(t,n,r){var i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=w_.from(i,n,r),e.next=3,bC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,wC(t);case 5:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function DC(e,t){return OC.apply(this,arguments)}function OC(){return OC=Ko(qo().mark((function e(t,n){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&zC(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ko(qo().mark((function e(t,n){var r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__(i=n.code)||i===hb.ABORTED){e.next=7;break}return r=t.lu.shift(),zC(t).Oo(),e.next=5,bC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,wC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:SC(t)&&EC(t);case 5:case"end":return e.stop()}}),e)}))),OC.apply(this,arguments)}function LC(e,t){return MC.apply(this,arguments)}function MC(){return MC=Ko(qo().mark((function e(t,n){var r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fb(t)).asyncQueue.verifyOperationInProgress(),ab("RemoteStore","RemoteStore received new credentials"),i=lC(r),r.du.add(3),e.next=6,nC(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,eC(r);case 12:case"end":return e.stop()}}),e)}))),MC.apply(this,arguments)}function FC(e,t){return VC.apply(this,arguments)}function VC(){return VC=Ko(qo().mark((function e(t,n){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fb(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,eC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,nC(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function UC(e){return e.yu||(e.yu=function(e,t,n){var r=fb(e);return r.nu(),new $T(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:hC.bind(null,e),Zr:pC.bind(null,e),zo:mC.bind(null,e)}),e.wu.push(function(){var t=Ko(qo().mark((function t(n){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),cC(e)?sC(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:fC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function zC(e){return e.pu||(e.pu=function(e,t,n){var r=fb(e);return r.nu(),new YT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:TC.bind(null,e),Zr:DC.bind(null,e),Xo:AC.bind(null,e),Zo:RC.bind(null,e)}),e.wu.push(function(){var t=Ko(qo().mark((function t(n){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,wC(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(ab("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var jC=function(){function e(t,n,r,i,a){no(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new pb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return io(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new db(hb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function BC(e,t){if(ob("AsyncQueue","".concat(t,": ").concat(e)),Zb(e))return new db(hb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var qC=function(){function e(t){no(this,e),this.comparator=t?function(e,n){return t(e,n)||Ob.comparator(e.key,n.key)}:function(e,t){return Ob.comparator(e.key,t.key)},this.keyedMap=NI(),this.sortedSet=new Bw(this.comparator)}return io(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),WC=function(){function e(){no(this,e),this.Iu=new Bw(Ob.comparator)}return io(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):cb():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),KC=function(){function e(t,n,r,i,a,o,u,s,c){no(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return io(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,qC.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),GC=io((function e(){no(this,e),this.Eu=void 0,this.listeners=[]})),HC=io((function e(){no(this,e),this.queries=new EI((function(e){return bI(e)}),kI),this.onlineState="Unknown",this.Au=new Set}));function QC(e,t){return $C.apply(this,arguments)}function $C(){return $C=Ko(qo().mark((function e(t,n){var r,i,a,o,u;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new GC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=BC(e.t0,"Initialization of query '".concat(wI(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&eA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),$C.apply(this,arguments)}function YC(e,t){return XC.apply(this,arguments)}function XC(){return XC=Ko(qo().mark((function e(t,n){var r,i,a,o,u;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),XC.apply(this,arguments)}function JC(e,t){var n,r=fb(e),i=!1,a=ao(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ao(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Eu=o}}}catch(f){a.e(f)}finally{a.f()}i&&eA(r)}function ZC(e,t,n){var r=fb(e),i=r.queries.get(t);if(i){var a,o=ao(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function eA(e){e.Au.forEach((function(e){e.next()}))}var tA=function(){function e(t,n,r){no(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return io(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ao(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new KC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=KC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}(),nA=function(){function e(t,n){no(this,e),this.Nu=t,this.byteLength=n}return io(e,[{key:"ku",value:function(){return"metadata"in this.Nu}}]),e}(),rA=function(){function e(t){no(this,e),this.serializer=t}return io(e,[{key:"Hi",value:function(e){return Q_(this.serializer,e)}},{key:"Ji",value:function(e){return e.metadata.exists?eS(this.serializer,e.document,!1):Ax.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}},{key:"Yi",value:function(e){return W_(e)}}]),e}(),iA=function(){function e(t,n,r){no(this,e),this.Ou=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aA(t)}return io(e,[{key:"$u",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;var n=Rb.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new rA(this.serializer),i=ao(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hi(a.metadata.name),s=ao(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||FI()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ko(qo().mark((function e(){var t,n,r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xT(this.localStore,new rA(this.serializer),this.documents,this.Ou.id);case 2:t=e.sent,n=this.Mu(this.documents),r=ao(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,_T(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function aA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var oA=io((function e(t){no(this,e),this.key=t})),uA=io((function e(t){no(this,e),this.key=t})),sA=function(){function e(t,n){no(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=FI(),this.mutatedKeys=FI(),this.Ku=_I(t),this.Gu=new qC(this.Ku)}return io(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new WC,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=xI(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:u,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cb()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.Uu.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new KC(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new WC,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=FI(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new uA(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new oA(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=FI();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return KC.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),cA=io((function e(t,n,r){no(this,e),this.query=t,this.targetId=n,this.view=r})),lA=io((function e(t){no(this,e),this.key=t,this.ec=!1})),fA=function(){function e(t,n,r,i,a,o){no(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new EI((function(e){return bI(e)}),kI),this.ic=new Map,this.rc=new Set,this.oc=new Bw(Ob.comparator),this.uc=new Map,this.cc=new BE,this.ac={},this.hc=new Map,this.lc=gE.bn(),this.onlineState="Unknown",this.fc=void 0}return io(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function hA(e,t){return dA.apply(this,arguments)}function dA(){return dA=Ko(qo().mark((function e(t,n){var r,i,a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=aN(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,vT(r.localStore,mI(n));case 8:return u=e.sent,r.isPrimaryClient&&iC(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,pA(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e,t,n,r,i){return vA.apply(this,arguments)}function vA(){return vA=Ko(qo().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Ko(qo().mark((function e(t,n,r,i){var a,o,u;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,gT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(LA(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,gT(t.localStore,n,!0);case 3:return o=e.sent,u=new sA(n,o.Wi),s=u.zu(o.documents),c=A_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),LA(t,r,l.Yu),f=new cA(n,r,u),e.abrupt("return",(t.sc.set(n,f),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){return yA.apply(this,arguments)}function yA(){return yA=Ko(qo().mark((function e(t,n){var r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fb(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!kI(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,mT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),aC(r.remoteStore,i.targetId),DA(r,i.targetId)})).catch(Gb);case 9:e.next=14;break;case 11:return DA(r,i.targetId),e.next=14,mT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t,n){return kA.apply(this,arguments)}function kA(){return kA=Ko(qo().mark((function e(t,n,r){var i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oN(t),e.prev=1,e.next=4,function(e,t){var n,r,i=fb(e),a=Cb.now(),o=t.reduce((function(e,t){return e.add(t.key)}),FI());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=CI(),s=FI();return i.Ki.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=ao(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=c_(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new h_(c.key,l,Cx(l.value.mapValue),r_.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:RI(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Bw(Sb)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,VA(i,a.changes);case 9:return e.next=11,wC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=BC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),kA.apply(this,arguments)}function bA(e,t){return wA.apply(this,arguments)}function wA(){return wA=Ko(qo().mark((function e(t,n){var r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fb(t),e.prev=1,e.next=4,hT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(lb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?lb(n.ec):e.removedDocuments.size>0&&(lb(n.ec),n.ec=!1))})),e.next=8,VA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Gb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),wA.apply(this,arguments)}function xA(e,t,n){var r=fb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ao(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&eA(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function IA(e,t,n){return _A.apply(this,arguments)}function _A(){return _A=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s,c;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Bw(Ob.comparator)).insert(o,Ax.newNoDocument(o,Ab.min())),s=FI().add(o),c=new C_(Ab.min(),new Map,new Kw(Sb),u,s),e.next=9,bA(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),FA(i),e.next=16;break;case 14:return e.next=16,mT(i.localStore,n,!1).then((function(){return DA(i,n,r)})).catch(Gb);case 16:case"end":return e.stop()}}),e)}))),_A.apply(this,arguments)}function SA(e,t){return EA.apply(this,arguments)}function EA(){return EA=Ko(qo().mark((function e(t,n){var r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fb(t),i=n.batch.batchId,e.prev=1,e.next=4,lT(r.localStore,n);case 4:return a=e.sent,PA(r,i,null),RA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,VA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),EA.apply(this,arguments)}function TA(e,t,n){return CA.apply(this,arguments)}function CA(){return CA=Ko(qo().mark((function e(t,n,r){var i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fb(t),e.prev=1,e.next=4,function(e,t){var n=fb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return lb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,PA(i,n,r),RA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,VA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),CA.apply(this,arguments)}function AA(e,t){return NA.apply(this,arguments)}function NA(){return NA=Ko(qo().mark((function e(t,n){var r,i,a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lC((r=fb(t)).remoteStore)||ab("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=fb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=BC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),NA.apply(this,arguments)}function RA(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function PA(e,t,n){var r=fb(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function DA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ao(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||OA(e,t)}))}function OA(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(aC(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),FA(e))}function LA(e,t,n){var r,i=ao(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof oA?(e.cc.addReference(a.key,t),MA(e,a)):a instanceof uA?(ab("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||OA(e,a.key)):cb()}}catch(o){i.e(o)}finally{i.f()}}function MA(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(ab("SyncEngine","New document in limbo: "+n),e.rc.add(r),FA(e))}function FA(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Ob(Rb.fromString(t)),r=e.lc.next();e.uc.set(r,new lA(n)),e.oc=e.oc.insert(n,r),iC(e.remoteStore,new mS(mI(lI(n.path)),r,2,ow.ct))}}function VA(e,t,n){return UA.apply(this,arguments)}function UA(){return UA=Ko(qo().mark((function e(t,n,r){var i,a,o,u;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fb(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=iT.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.zo(a),e.next=9,function(){var e=Ko(qo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Qb.forEach(n,(function(t){return Qb.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Qb.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Zb(e.t0)){e.next=10;break}throw e.t0;case 10:ab("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ao(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Li.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function zA(e,t){return jA.apply(this,arguments)}function jA(){return jA=Ko(qo().mark((function e(t,n){var r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fb(t)).currentUser.isEqual(n)){e.next=11;break}return ab("SyncEngine","User change. New user:",n.toKey()),e.next=5,sT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new db(hb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,VA(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),jA.apply(this,arguments)}function BA(e,t){var n=fb(e),r=n.uc.get(t);if(r&&r.ec)return FI().add(r.key);var i=FI(),a=n.ic.get(t);if(!a)return i;var o,u=ao(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function qA(e,t){return WA.apply(this,arguments)}function WA(){return WA=Ko(qo().mark((function e(t,n){var r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fb(t),e.next=3,gT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Xu(i),e.abrupt("return",(r.isPrimaryClient&&LA(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),WA.apply(this,arguments)}function KA(e,t){return GA.apply(this,arguments)}function GA(){return GA=Ko(qo().mark((function e(t,n){var r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fb(t),e.abrupt("return",bT(r.localStore,n).then((function(e){return VA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),GA.apply(this,arguments)}function HA(e,t,n,r){return QA.apply(this,arguments)}function QA(){return QA=Ko(qo().mark((function e(t,n,r,i){var a,o;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fb(t),e.next=3,function(e,t){var n=fb(e),r=fb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.In(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Qb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,wC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(PA(a,n,i||null),RA(a,n),function(e,t){fb(fb(e).mutationQueue).En(t)}(a.localStore,n)):cb();case 11:return e.next=13,VA(a,o);case 13:e.next=16;break;case 15:ab("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function $A(e,t){return YA.apply(this,arguments)}function YA(){return YA=Ko(qo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(aN(r=fb(t)),oN(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,XA(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,FC(r.remoteStore,!0);case 9:o=ao(a);try{for(o.s();!(u=o.n()).done;)s=u.value,iC(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return DA(r,t),mT(r.localStore,t,!0)})),aC(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,XA(r,c);case 21:return function(e){var t=fb(e);t.uc.forEach((function(e,n){aC(t.remoteStore,n)})),t.cc.ls(),t.uc=new Map,t.oc=new Bw(Ob.comparator)}(r),r.fc=!1,e.next=25,FC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),YA.apply(this,arguments)}function XA(e,t,n){return JA.apply(this,arguments)}function JA(){return JA=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=fb(t),a=[],o=[],u=ao(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,vT(i.localStore,mI(f[0]));case 11:l=e.sent,h=ao(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,qA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,kT(i.localStore,c);case 36:return y=e.sent,e.next=39,vT(i.localStore,y);case 39:return l=e.sent,e.next=42,pA(i,ZA(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),JA.apply(this,arguments)}function ZA(e){return cI(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function eN(e){var t=fb(e);return fb(fb(t.localStore).persistence).bi()}function tN(e,t,n,r){return nN.apply(this,arguments)}function nN(){return nN=Ko(qo().mark((function e(t,n,r,i){var a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=fb(t)).fc){e.next=3;break}return e.abrupt("return",void ab("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,bT(a.localStore,II(o[0]));case 10:return u=e.sent,s=C_.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Yw.EMPTY_BYTE_STRING),e.next=14,VA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,mT(a.localStore,n,!0);case 17:return DA(a,n,i),e.abrupt("break",20);case 19:cb();case 20:case"end":return e.stop()}}),e)}))),nN.apply(this,arguments)}function rN(e,t,n){return iN.apply(this,arguments)}function iN(){return iN=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=aN(t)).fc){e.next=45;break}a=ao(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return ab("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,kT(i.localStore,u);case 12:return s=e.sent,e.next=15,vT(i.localStore,s);case 15:return c=e.sent,e.next=18,pA(i,ZA(s),c.targetId,!1,c.resumeToken);case 18:iC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ao(r),e.prev=30,h=qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,mT(i.localStore,t,!1).then((function(){aC(i.remoteStore,t),DA(i,t)})).catch(Gb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),iN.apply(this,arguments)}function aN(e){var t=fb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IA.bind(null,t),t.nc.zo=JC.bind(null,t.eventManager),t.nc.wc=ZC.bind(null,t.eventManager),t}function oN(e){var t=fb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TA.bind(null,t),t}function uN(e,t,n){var r=fb(e);(function(){var e=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=fb(e),r=W_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.xs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(aA(i)),a=new iA(i,t.localStore,n.serializer),e.next=15,n._c();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.$u(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n._c();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,VA(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=fb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.xs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Fu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ub("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var sN=function(){function e(){no(this,e),this.synchronizeTabs=!1}return io(e,[{key:"initialize",value:function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=GT(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return uT(this.persistence,new aT,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new QE(YE.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new LT}},{key:"terminate",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),cN=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a;return no(this,n),(a=t.call(this)).mc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return io(n,[{key:"initialize",value:function(){var e=Ko(qo().mark((function e(t){var r=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(uo(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.mc.initialize(this,t);case 4:return e.next=6,oN(this.mc.syncEngine);case 6:return e.next=8,wC(this.mc.remoteStore);case 8:return e.next=10,this.persistence.hi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return uT(this.persistence,new aT,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new SE(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new aw(t,this.persistence);return new iw(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=rT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?lE.withCacheSize(this.cacheSizeBytes):lE.DEFAULT;return new eT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,WT(),KT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new LT}}]),n}(sN),lN=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,e,r,!1)).mc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return io(n,[{key:"initialize",value:function(){var e=Ko(qo().mark((function e(t){var r,i=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(uo(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.mc.syncEngine,e.t0=this.sharedClientState instanceof OT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:HA.bind(null,r),Mr:tN.bind(null,r),Fr:rN.bind(null,r),bi:eN.bind(null,r),Or:KA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.hi(function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$A(i.mc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=WT();if(!OT.D(t))throw new db(hb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new OT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(cN),fN=function(){function e(){no(this,e)}return io(e,[{key:"initialize",value:function(){var e=Ko(qo().mark((function e(t,n){var r=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return xA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zA.bind(null,this.syncEngine),e.next=12,FC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new HC}},{key:"createDatastore",value:function(e){var t,n=GT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new qT(t));return function(e,t,n,r){return new XT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return xA(o.syncEngine,e,0)},a=FT.D()?new FT:new MT,new ZT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new fA(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fb(t),ab("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,nC(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function hN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ko(qo().mark((function r(){var i;return qo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var dN=function(){function e(t){no(this,e),this.observer=t,this.muted=!1}return io(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):ob("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),pN=function(){function e(t,n){var r=this;no(this,e),this.Ic=t,this.serializer=n,this.metadata=new pb,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then((function(e){e&&e.ku()?r.metadata.resolve(e.Nu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Nu))))}),(function(e){return r.metadata.reject(e)}))}return io(e,[{key:"close",value:function(){return this.Ic.cancel()}},{key:"getMetadata",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_c",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ec());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ec",value:function(){var e=Ko(qo().mark((function e(){var t,n,r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ac();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Tc.decode(t),r=Number(n),isNaN(r)&&this.Rc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new nA(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ac",value:function(){var e=Ko(qo().mark((function e(){var t,n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.bc()<0)){e.next=7;break}return e.next=3,this.Pc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.bc())<0&&this.Rc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Pc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Rc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Tc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Rc",value:function(e){throw this.Ic.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Pc",value:function(){var e=Ko(qo().mark((function e(){var t,n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ic.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),vN=function(){function e(t){no(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return io(e,[{key:"lookup",value:function(){var e=Ko(qo().mark((function e(t){var n,r=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new db(hb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ko(qo().mark((function e(t,n){var r,i,a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fb(t),i=X_(r.serializer)+"/documents",a={documents:n.map((function(e){return H_(r.serializer,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=tS(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());lb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new g_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ko(qo().mark((function e(){var t,n=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ob.fromPath(t);n.mutations.push(new k_(r,n.precondition(r)))})),e.next=7,function(){var e=Ko(qo().mark((function e(t,n){var r,i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fb(t),i=X_(r.serializer)+"/documents",a={writes:n.map((function(e){return nS(r.serializer,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cb();t=Ab.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new db(hb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ab.min())?r_.exists(!1):r_.updateTime(t):r_.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ab.min()))throw new db(hb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return r_.updateTime(t)}return r_.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),mN=function(){function e(t,n,r,i,a){no(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Vc=r.maxAttempts,this.Co=new HT(this.asyncQueue,"transaction_retry")}return io(e,[{key:"run",value:function(){this.Vc-=1,this.Sc()}},{key:"Sc",value:function(){var e=this;this.Co.Ao(Ko(qo().mark((function t(){var n,r;return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new vN(e.datastore),(r=e.Dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Cc(t)}))}))})).catch((function(t){e.Cc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Dc",value:function(e){try{var t=this.updateFunction(e);return!uw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Cc",value:function(e){var t=this;this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!__(t)}return!1}}]),e}(),yN=function(){function e(t,n,r,i){var a=this;no(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tb.UNAUTHENTICATED,this.clientId=_b.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ab("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ab("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return io(e,[{key:"getConfiguration",value:function(){var e=Ko(qo().mark((function e(){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new db(hb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new pb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ko(qo().mark((function n(){var r;return qo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=BC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function gN(e,t){return kN.apply(this,arguments)}function kN(){return kN=Ko(qo().mark((function e(t,n){var r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ab("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,sT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),kN.apply(this,arguments)}function bN(e,t){return wN.apply(this,arguments)}function wN(){return wN=Ko(qo().mark((function e(t,n){var r,i;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,IN(t);case 3:return r=e.sent,ab("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return LC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return LC(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),wN.apply(this,arguments)}function xN(e){return"FirebaseError"===e.name?e.code===hb.FAILED_PRECONDITION||e.code===hb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function IN(e){return _N.apply(this,arguments)}function _N(){return _N=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return ab("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,gN(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),xN(n=e.t0)){e.next=13;break}throw n;case 13:return ub("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,gN(t,new sN);case 16:e.next=21;break;case 18:return ab("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,gN(t,new sN);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),_N.apply(this,arguments)}function SN(e){return EN.apply(this,arguments)}function EN(){return EN=Ko(qo().mark((function e(t){return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return ab("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,bN(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return ab("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,bN(t,new fN);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),EN.apply(this,arguments)}function TN(e){return IN(e).then((function(e){return e.persistence}))}function CN(e){return IN(e).then((function(e){return e.localStore}))}function AN(e){return SN(e).then((function(e){return e.remoteStore}))}function NN(e){return SN(e).then((function(e){return e.syncEngine}))}function RN(e){return SN(e).then((function(e){return e.datastore}))}function PN(e){return DN.apply(this,arguments)}function DN(){return DN=Ko(qo().mark((function e(t){var n,r;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=hA.bind(null,n.syncEngine),r.onUnlisten=mA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),DN.apply(this,arguments)}function ON(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pb;return e.asyncQueue.enqueueAndForget(Ko(qo().mark((function i(){return qo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new dN({next:function(a){t.enqueueAndForget((function(){return YC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new db(hb.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new db(hb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new tA(lI(n.path),a,{includeMetadataChanges:!0,xu:!0});return QC(e,o)},i.next=3,PN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function LN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pb;return e.asyncQueue.enqueueAndForget(Ko(qo().mark((function i(){return qo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new dN({next:function(n){t.enqueueAndForget((function(){return YC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new db(hb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new tA(n,a,{includeMetadataChanges:!0,xu:!0});return QC(e,o)},i.next=3,PN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var MN=new Map;function FN(e,t,n){if(!n)throw new db(hb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function VN(e,t,n,r){if(!0===t&&!0===r)throw new db(hb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function UN(e){if(!Ob.isDocumentKey(e))throw new db(hb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zN(e){if(Ob.isDocumentKey(e))throw new db(hb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function jN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":cb()}function BN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new db(hb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jN(e);throw new db(hb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function qN(e,t){if(t<=0)throw new db(hb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var WN=function(){function e(t){var n;if(no(this,e),void 0===t.host){if(void 0!==t.ssl)throw new db(hb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new db(hb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,VN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return io(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),KN=function(){function e(t,n,r,i){no(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WN({}),this._settingsFrozen=!1}return io(e,[{key:"app",get:function(){if(!this._app)throw new db(hb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new db(hb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new mb;switch(e.type){case"firstParty":return new bb(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new db(hb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=MN.get(e);t&&(ab("ComponentProvider","Removing Datastore"),MN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function GN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=BN(e,KN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ub("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=tb.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mo(JSON.stringify({alg:"none",type:"JWT"})),mo(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new db(hb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tb(s)}e._authCredentials=new yb(new vb(o,u))}}var HN=function(){function e(t,n,r){no(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return io(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $N(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),QN=function(){function e(t,n,r){no(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return io(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$N=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a;return no(this,n),(a=t.call(this,e,r,lI(i)))._path=i,a.type="collection",a}return io(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new HN(this.firestore,null,new Ob(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(QN);function YN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Bo(e),FN("collection","path",t),e instanceof KN){var a=Rb.fromString.apply(Rb,[t].concat(r));return zN(a),new $N(e,null,a)}if(!(e instanceof HN||e instanceof $N))throw new db(hb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rb.fromString.apply(Rb,[t].concat(r)));return zN(o),new $N(e.firestore,null,o)}function XN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Bo(e),1===arguments.length&&(t=_b.A()),FN("doc","path",t),e instanceof KN){var a=Rb.fromString.apply(Rb,[t].concat(r));return UN(a),new HN(e,null,new Ob(a))}if(!(e instanceof HN||e instanceof $N))throw new db(hb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rb.fromString.apply(Rb,[t].concat(r)));return UN(o),new HN(e.firestore,e instanceof $N?e.converter:null,new Ob(o))}function JN(e,t){return e=Bo(e),t=Bo(t),(e instanceof HN||e instanceof $N)&&(t instanceof HN||t instanceof $N)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ZN(e,t){return e=Bo(e),t=Bo(t),e instanceof QN&&t instanceof QN&&e.firestore===t.firestore&&kI(e._query,t._query)&&e.converter===t.converter}var eR=function(){function e(){var t=this;no(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new HT(this,"async_queue_retry"),this.qc=function(){var e=KT();e&&ab("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=KT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return io(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=KT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new pb;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=Ko(qo().mark((function e(){var t=this;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Zb(e.t0)){e.next=12;break}throw e.t0;case 12:ab("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ob("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=jC.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&cb()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Ko(qo().mark((function e(){var t;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=ao(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ao(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function tR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ao(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var nR=function(){function e(){no(this,e),this._progressObserver={},this._taskCompletionResolver=new pb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return io(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),rR=function(e){oo(n,e);var t=co(n);function n(e,r,i,a){var o;return no(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new eR,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return io(n,[{key:"_terminate",value:function(){return this._firestoreClient||aR(this),this._firestoreClient.terminate()}}]),n}(KN);function iR(e){return e._firestoreClient||aR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function aR(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new ix(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new yN(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function oR(e,t,n){var r=new pb;return e.asyncQueue.enqueue(Ko(qo().mark((function i(){var a;return qo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,gN(e,n);case 3:return i.next=5,bN(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),xN(a=i.t0)){i.next=13;break}throw a;case 13:ub("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function uR(e){return function(e){return e.asyncQueue.enqueue(Ko(qo().mark((function t(){var n,r;return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,TN(e);case 2:return n=t.sent,t.next=5,AN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=fb(e);return t.du.delete(0),eC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(iR(e=BN(e,rR)))}function sR(e){return function(e){return e.asyncQueue.enqueue(Ko(qo().mark((function t(){var n,r;return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,TN(e);case 2:return n=t.sent,t.next=5,AN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fb(t)).du.add(0),e.next=4,nC(n);case 4:n.mu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(iR(e=BN(e,rR)))}function cR(e,t){var n=iR(e=BN(e,rR)),r=new nR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new pN(e,t)}(function(e,t){if(e instanceof Uint8Array)return hN(e,t);if(e instanceof ArrayBuffer)return hN(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,GT(t));e.asyncQueue.enqueueAndForget(Ko(qo().mark((function t(){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=uN,t.next=3,NN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function lR(e,t){return function(e,t){return e.asyncQueue.enqueue(Ko(qo().mark((function n(){return qo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=fb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.xs.getNamedQuery(e,t)}))},n.next=3,CN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(iR(e=BN(e,rR)),t).then((function(t){return t?new QN(e,null,t.query):null}))}function fR(e){if(e._initialized||e._terminated)throw new db(hb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hR=function(){function e(t){no(this,e),this._byteString=t}return io(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Yw.fromBase64String(t))}catch(t){throw new db(hb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Yw.fromUint8Array(t))}}]),e}(),dR=function(){function e(){no(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new db(hb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Db(n)}return io(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var pR=io((function e(t){no(this,e),this._methodName=t})),vR=function(){function e(t,n){if(no(this,e),!isFinite(t)||t<-90||t>90)throw new db(hb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new db(hb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return io(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Sb(this._lat,e._lat)||Sb(this._long,e._long)}}]),e}(),mR=/^__.*__$/,yR=function(){function e(t,n,r){no(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return io(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new h_(e,this.data,this.fieldMask,t,this.fieldTransforms):new f_(e,this.data,t,this.fieldTransforms)}}]),e}(),gR=function(){function e(t,n,r){no(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return io(e,[{key:"toMutation",value:function(e,t){return new h_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function kR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cb()}}var bR=function(){function e(t,n,r,i,a,o){no(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return io(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return zR(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(kR(this.Yc)&&mR.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),wR=function(){function e(t,n,r){no(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||GT(t)}return io(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bR({Yc:e,methodName:t,oa:n,path:Db.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function xR(e){var t=e._freezeSettings(),n=GT(e._databaseId);return new wR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function IR(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);MR("Data must be an object, but it was:",o,r);var u,s,c=OR(r,o);if(a.merge)u=new Qw(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ao(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=FR(t,l.value,n);if(!o.contains(d))throw new db(hb.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));jR(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Qw(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new yR(new Tx(c),u,s)}var _R=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return io(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pR);function SR(e,t,n){return new bR({Yc:3,oa:t.settings.oa,methodName:e._methodName,ta:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var ER=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return io(n,[{key:"_toFieldTransform",value:function(e){return new t_(e.path,new HI)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pR),TR=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,e)).ca=r,i}return io(n,[{key:"_toFieldTransform",value:function(e){var t=SR(this,e,!0),n=this.ca.map((function(e){return DR(e,t)})),r=new QI(n);return new t_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pR),CR=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,e)).ca=r,i}return io(n,[{key:"_toFieldTransform",value:function(e){var t=SR(this,e,!0),n=this.ca.map((function(e){return DR(e,t)})),r=new YI(n);return new t_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pR),AR=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,e)).aa=r,i}return io(n,[{key:"_toFieldTransform",value:function(e){var t=new JI(e.serializer,BI(e.serializer,this.aa));return new t_(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pR);function NR(e,t,n,r){var i=e.ua(1,t,n);MR("Data must be an object, but it was:",i,r);var a=[],o=Tx.empty();zw(r,(function(e,r){var u=UR(t,e,n);r=Bo(r);var s=i.na(u);if(r instanceof _R)a.push(u);else{var c=DR(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Qw(a);return new gR(o,u,i.fieldTransforms)}function RR(e,t,n,r,i,a){var o=e.ua(1,t,n),u=[FR(t,r,n)],s=[i];if(a.length%2!=0)throw new db(hb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(FR(t,a[c])),s.push(a[c+1]);for(var l=[],f=Tx.empty(),h=u.length-1;h>=0;--h)if(!jR(l,u[h])){var d=u[h],p=s[h];p=Bo(p);var v=o.na(d);if(p instanceof _R)l.push(d);else{var m=DR(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Qw(l);return new gR(f,y,o.fieldTransforms)}function PR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return DR(n,e.ua(r?4:3,t))}function DR(e,t){if(LR(e=Bo(e)))return MR("Unsupported field value:",t,e),OR(e,t);if(e instanceof pR)return function(e,t){if(!kR(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ao(e);try{for(a.s();!(n=a.n()).done;){var o=DR(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Bo(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return BI(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Cb.fromDate(e);return{timestampValue:j_(t.serializer,n)}}if(e instanceof Cb){var r=new Cb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:j_(t.serializer,r)}}if(e instanceof vR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hR)return{bytesValue:B_(t.serializer,e._byteString)};if(e instanceof HN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:K_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(jN(e)))}(e,t)}function OR(e,t){var n={};return jw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zw(e,(function(e,r){var i=DR(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function LR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cb||e instanceof vR||e instanceof hR||e instanceof HN||e instanceof pR)}function MR(e,t,n){if(!LR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=jN(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function FR(e,t,n){if((t=Bo(t))instanceof dR)return t._internalPath;if("string"==typeof t)return UR(e,t);throw zR("Field path arguments must be of type string or ",e,!1,void 0,n)}var VR=new RegExp("[~\\*/\\[\\]]");function UR(e,t,n){if(t.search(VR)>=0)throw zR("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return lo(dR,Vn(t.split(".")))._internalPath}catch(r){throw zR("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zR(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new db(hb.INVALID_ARGUMENT,u+e+s)}function jR(e,t){return e.some((function(e){return e.isEqual(t)}))}var BR=function(){function e(t,n,r,i,a){no(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return io(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new HN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new qR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(WR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),qR=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return io(n,[{key:"data",value:function(){return xs(uo(n.prototype),"data",this).call(this)}}]),n}(BR);function WR(e,t){return"string"==typeof t?UR(e,t):t instanceof dR?t._internalPath:t._delegate._internalPath}function KR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new db(hb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var GR=io((function e(){no(this,e)})),HR=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return io(n)}(GR);function QR(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof GR&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof YR})).length,n=e.filter((function(e){return e instanceof $R})).length;if(t>1||t>0&&n>0)throw new db(hb.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=ao(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var $R=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a;return no(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return io(n,[{key:"_apply",value:function(e){var t=this._parse(e);return sP(e._query,t),new QN(e.firestore,e.converter,yI(e._query,t))}},{key:"_parse",value:function(e){var t=xR(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new db(hb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){uP(o,a);var s,c=[],l=ao(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(oP(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=oP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||uP(o,a),u=PR(n,"where",o,"in"===a||"not-in"===a);return Mx.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HR);var YR=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return io(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Fx.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=ao(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;sP(r,a),r=yI(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new QN(e.firestore,e.converter,yI(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(GR);var XR=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return io(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new db(hb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new db(hb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Dx(t,n);return function(e,t){if(null===hI(e)){var n=dI(e);null!==n&&cP(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new QN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new sI(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(HR);var JR=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a;return no(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return io(n,[{key:"_apply",value:function(e){return new QN(e.firestore,e.converter,gI(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HR);var ZR=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a;return no(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return io(n,[{key:"_apply",value:function(e){var t=aP(e,this.type,this._docOrFields,this._inclusive);return new QN(e.firestore,e.converter,function(e,t){return new sI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HR);function eP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZR._create("startAt",t,!0)}function tP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZR._create("startAfter",t,!1)}var nP=function(e){oo(n,e);var t=co(n);function n(e,r,i){var a;return no(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return io(n,[{key:"_apply",value:function(e){var t=aP(e,this.type,this._docOrFields,this._inclusive);return new QN(e.firestore,e.converter,function(e,t){return new sI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HR);function rP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nP._create("endBefore",t,!1)}function iP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nP._create("endAt",t,!0)}function aP(e,t,n,r){if(n[0]=Bo(n[0]),n[0]instanceof BR)return function(e,t,n,r,i){if(!r)throw new db(hb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ao(vI(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(vx(t,r.key));else{var c=r.data.field(s.field);if(tx(c))throw new db(hb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new db(hb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Nx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=xR(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new db(hb.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new db(hb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!pI(e)&&-1!==c.indexOf("/"))throw new db(hb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Rb.fromString(c));if(!Ob.isDocumentKey(l))throw new db(hb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ob(l);u.push(vx(t,f))}else{var h=PR(n,r,c);u.push(h)}}return new Nx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function oP(e,t,n){if("string"==typeof(n=Bo(n))){if(""===n)throw new db(hb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pI(t)&&-1!==n.indexOf("/"))throw new db(hb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Rb.fromString(n));if(!Ob.isDocumentKey(r))throw new db(hb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return vx(e,new Ob(r))}if(n instanceof HN)return vx(e,n._key);throw new db(hb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(jN(n),"."))}function uP(e,t){if(!Array.isArray(e)||0===e.length)throw new db(hb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function sP(e,t){if(t.isInequality()){var n=dI(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new db(hb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=hI(e);null!==i&&cP(e,r,i)}var a=function(e,t){var n,r=ao(e);try{for(r.s();!(n=r.n()).done;){var i,a=ao(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new db(hb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new db(hb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function cP(e,t,n){if(!n.isEqual(t))throw new db(hb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var lP=function(){function e(){no(this,e)}return io(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(sx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ex(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cb()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return zw(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new vR(Zw(e.latitude),Zw(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=nx(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rx(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Jw(e);return new Cb(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Rb.fromString(e);lb(vS(n));var r=new ax(n.get(1),n.get(3)),i=new Ob(n.popFirst(5));return r.isEqual(t)||ob("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function fP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var hP=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this)).firestore=e,r}return io(n,[{key:"convertBytes",value:function(e){return new hR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new HN(this.firestore,null,t)}}]),n}(lP);var dP=function(){function e(t,n){no(this,e),this.hasPendingWrites=t,this.fromCache=n}return io(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),pP=function(e){oo(n,e);var t=co(n);function n(e,r,i,a,o,u){var s;return no(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return io(n,[{key:"exists",value:function(){return xs(uo(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new vP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(WR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(BR),vP=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return io(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xs(uo(n.prototype),"data",this).call(this,e)}}]),n}(pP),mP=function(){function e(t,n,r,i){no(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new dP(i.hasPendingWrites,i.fromCache),this.query=r}return io(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new vP(n._firestore,n._userDataWriter,r.key,r,new dP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new db(hb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new vP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new vP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:yP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function yP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cb()}}function gP(e,t){return e instanceof pP&&t instanceof pP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mP&&t instanceof mP&&e._firestore===t._firestore&&ZN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var kP=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this)).firestore=e,r}return io(n,[{key:"convertBytes",value:function(e){return new hR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new HN(this.firestore,null,t)}}]),n}(lP);function bP(e){e=BN(e,HN);var t=BN(e.firestore,rR),n=iR(t),r=new kP(t);return function(e,t){var n=new pb;return e.asyncQueue.enqueueAndForget(Ko(qo().mark((function r(){return qo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ko(qo().mark((function e(t,n,r){var i,a;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=fb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new db(hb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=BC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,CN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new pP(t,r,e._key,n,new dP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function wP(e){e=BN(e,QN);var t=BN(e.firestore,rR),n=iR(t),r=new kP(t);return function(e,t){var n=new pb;return e.asyncQueue.enqueueAndForget(Ko(qo().mark((function r(){return qo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ko(qo().mark((function e(t,n,r){var i,a,o,u,s;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gT(t,n,!0);case 3:i=e.sent,a=new sA(n,i.Wi),o=a.zu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=BC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,CN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new mP(t,r,e,n)}))}function xP(e,t,n){e=BN(e,HN);var r=BN(e.firestore,rR),i=fP(e.converter,t,n);return EP(r,[IR(xR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,r_.none())])}function IP(e,t,n){e=BN(e,HN);for(var r=BN(e.firestore,rR),i=xR(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return EP(r,[("string"==typeof(t=Bo(t))||t instanceof dR?RR(i,"updateDoc",e._key,t,n,o):NR(i,"updateDoc",e._key,t)).toMutation(e._key,r_.exists(!0))])}function _P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Bo(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||tR(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(tR(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof HN)l=BN(e.firestore,rR),f=lI(e._key.path),c={next:function(t){n[s]&&n[s](TP(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=BN(e,QN);l=BN(p.firestore,rR),f=p._query;var v=new kP(l);c={next:function(e){n[s]&&n[s](new mP(l,v,p,e))},error:n[s+1],complete:n[s+2]},KR(e._query)}return function(e,t,n,r){var i=new dN(r),a=new tA(t,i,n);return e.asyncQueue.enqueueAndForget(Ko(qo().mark((function t(){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=QC,t.next=3,PN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.yc(),e.asyncQueue.enqueueAndForget(Ko(qo().mark((function t(){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=YC,t.next=3,PN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(iR(l),f,h,c)}function SP(e,t){return function(e,t){var n=new dN(t);return e.asyncQueue.enqueueAndForget(Ko(qo().mark((function t(){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fb(e).Au.add(t),t.next()},t.next=3,PN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.yc(),e.asyncQueue.enqueueAndForget(Ko(qo().mark((function t(){return qo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fb(e).Au.delete(t)},t.next=3,PN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(iR(e=BN(e,rR)),tR(t)?t:{next:t})}function EP(e,t){return function(e,t){var n=new pb;return e.asyncQueue.enqueueAndForget(Ko(qo().mark((function r(){return qo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=gA,r.next=3,NN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(iR(e),t)}function TP(e,t,n){var r=n.docs.get(t._key),i=new kP(e);return new pP(e,i,t._key,r,new dP(n.hasPendingWrites,n.fromCache),t.converter)}var CP={maxAttempts:5},AP=function(){function e(t,n){no(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xR(t)}return io(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=NP(e,this._firestore),i=fP(r.converter,t,n),a=IR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,r_.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=NP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Bo(t))||t instanceof dR?RR(this._dataReader,"WriteBatch.update",i._key,t,n,o):NR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,r_.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=NP(e,this._firestore);return this._mutations=this._mutations.concat(new g_(t._key,r_.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new db(hb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function NP(e,t){if((e=Bo(e)).firestore!==t)throw new db(hb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var RP=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,e,r))._firestore=e,i}return io(n,[{key:"get",value:function(e){var t=this,r=NP(e,this._firestore),i=new kP(this._firestore);return xs(uo(n.prototype),"get",this).call(this,e).then((function(e){return new pP(t._firestore,i,r._key,e._document,new dP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){no(this,e),this._firestore=t,this._transaction=n,this._dataReader=xR(t)}return io(e,[{key:"get",value:function(e){var t=this,n=NP(e,this._firestore),r=new hP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return cb();var i=e[0];if(i.isFoundDocument())return new BR(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new BR(t._firestore,r,n._key,null,n.converter);throw cb()}))}},{key:"set",value:function(e,t,n){var r=NP(e,this._firestore),i=fP(r.converter,t,n),a=IR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=NP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Bo(t))||t instanceof dR?RR(this._dataReader,"Transaction.update",i._key,t,n,o):NR(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=NP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function PP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TR("arrayUnion",t)}function DP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CR("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){nb=e}(qu),Mu(new Go("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new rR(new gb(e.getProvider("auth-internal")),new xb(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new db(hb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ax(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),$u(eb,"3.10.1",e),$u(eb,"3.10.1","esm2017")}();function OP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new db("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function LP(){if("undefined"===typeof Uint8Array)throw new db("unimplemented","Uint8Arrays are not available in this environment.")}function MP(){if("undefined"==typeof atob)throw new db("unimplemented","Blobs are unavailable in Firestore in this environment.")}var FP=function(){function e(t){no(this,e),this._delegate=t}return io(e,[{key:"toBase64",value:function(){return MP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return LP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return MP(),new e(hR.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return LP(),new e(hR.fromUint8Array(t))}}]),e}();function VP(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ao(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var UP=function(){function e(){no(this,e)}return io(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){fR(e=BN(e,rR));var n=iR(e);if(n._uninitializedComponentsProvider)throw new db(hb.FAILED_PRECONDITION,"SDK cache is already specified.");ub("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new fN;return oR(n,i,new cN(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){fR(e=BN(e,rR));var t=iR(e);if(t._uninitializedComponentsProvider)throw new db(hb.FAILED_PRECONDITION,"SDK cache is already specified.");ub("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new fN;return oR(t,r,new lN(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new db(hb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new pb;return e._queue.enqueueAndForgetEvenWhileRestricted(Ko(qo().mark((function n(){return qo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ko(qo().mark((function e(t){var n;return qo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yb.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Yb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(rT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),zP=function(){function e(t,n,r){var i=this;no(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ax||(this._appCompat=t)}return io(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ub("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};GN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return uR(this._delegate)}},{key:"disableNetwork",value:function(){return sR(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&VN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new pb;return e.asyncQueue.enqueueAndForget(Ko(qo().mark((function n(){return qo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=AA,n.next=3,NN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(iR(e=BN(e,rR)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return SP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new db("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new eD(this,YN(this._delegate,e))}catch(t){throw GP(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new KP(this,XN(this._delegate,e))}catch(t){throw GP(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new XP(this,function(e,t){if(e=BN(e,KN),FN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new db(hb.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new QN(e,null,function(e){return new sI(Rb.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw GP(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=BN(e,rR);var r=Object.assign(Object.assign({},CP),n);return function(e){if(e.maxAttempts<1)throw new db(hb.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new pb;return e.asyncQueue.enqueueAndForget(Ko(qo().mark((function i(){var a;return qo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,RN(e);case 2:a=i.sent,new mN(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(iR(e),(function(n){return t(new RP(e,n))}),r)}(this._delegate,(function(n){return e(new BP(t,n))}))}},{key:"batch",value:function(){var e=this;return iR(this._delegate),new qP(new AP(this._delegate,(function(t){return EP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return cR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return lR(this._delegate,e).then((function(e){return e?new XP(t,e):null}))}}]),e}(),jP=function(e){oo(n,e);var t=co(n);function n(e){var r;return no(this,n),(r=t.call(this)).firestore=e,r}return io(n,[{key:"convertBytes",value:function(e){return new FP(new hR(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return KP.forKey(t,this.firestore,null)}}]),n}(lP);var BP=function(){function e(t,n){no(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new jP(t)}return io(e,[{key:"get",value:function(e){var t=this,n=tD(e);return this._delegate.get(n).then((function(e){return new $P(t._firestore,new pP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=tD(e);return n?(OP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=tD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tD(e);return this._delegate.delete(t),this}}]),e}(),qP=function(){function e(t){no(this,e),this._delegate=t}return io(e,[{key:"set",value:function(e,t,n){var r=tD(e);return n?(OP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=tD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),WP=function(){function e(t,n,r){no(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return io(e,[{key:"fromFirestore",value:function(e,t){var n=new vP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new YP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new jP(t),n),i.set(n,a)),a}}]),e}();WP.INSTANCES=new WeakMap;var KP=function(){function e(t,n){no(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new jP(t)}return io(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new eD(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new eD(this.firestore,YN(this._delegate,e))}catch(t){throw GP(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Bo(e))instanceof HN&&JN(this._delegate,e)}},{key:"set",value:function(e,t){t=OP("DocumentReference.set",t);try{return t?xP(this._delegate,e,t):xP(this._delegate,e)}catch(n){throw GP(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?IP(this._delegate,e):IP.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw GP(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return EP(BN(e.firestore,rR),[new g_(e._key,r_.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=HP(n),a=QP(n,(function(t){return new $P(e.firestore,new pP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return _P(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?bP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=BN(e,HN);var t=BN(e.firestore,rR);return ON(iR(t),e._key,{source:"server"}).then((function(n){return TP(t,e,n)}))}(this._delegate):function(e){e=BN(e,HN);var t=BN(e.firestore,rR);return ON(iR(t),e._key).then((function(n){return TP(t,e,n)}))}(this._delegate),t.then((function(e){return new $P(n.firestore,new pP(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new db("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new HN(n._delegate,r,new Ob(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new HN(n._delegate,r,t))}}]),e}();function GP(e,t,n){return e.message=e.message.replace(t,n),e}function HP(e){var t,n=ao(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!VP(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function QP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=VP(e[0])?e[0]:VP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $P=function(){function e(t,n){no(this,e),this._firestore=t,this._delegate=n}return io(e,[{key:"ref",get:function(){return new KP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return gP(this._delegate,e._delegate)}}]),e}(),YP=function(e){oo(n,e);var t=co(n);function n(){return no(this,n),t.apply(this,arguments)}return io(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||cb()}(void 0!==t),t}}]),n}($P),XP=function(){function e(t,n){no(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new jP(t)}return io(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,QR(this._delegate,function(e,t,n){var r=t,i=WR("where",e);return $R._create(i,r,n)}(t,n,r)))}catch(i){throw GP(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,QR(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=WR("orderBy",e);return XR._create(n,t)}(t,n)))}catch(r){throw GP(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,QR(this._delegate,function(e){return qN("limit",e),JR._create("limit",e,"F")}(t)))}catch(n){throw GP(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,QR(this._delegate,function(e){return qN("limitToLast",e),JR._create("limitToLast",e,"L")}(t)))}catch(n){throw GP(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,QR(this._delegate,eP.apply(void 0,arguments)))}catch(t){throw GP(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,QR(this._delegate,tP.apply(void 0,arguments)))}catch(t){throw GP(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,QR(this._delegate,rP.apply(void 0,arguments)))}catch(t){throw GP(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,QR(this._delegate,iP.apply(void 0,arguments)))}catch(t){throw GP(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return ZN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?wP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=BN(e,QN);var t=BN(e.firestore,rR),n=iR(t),r=new kP(t);return LN(n,e._query,{source:"server"}).then((function(n){return new mP(t,r,e,n)}))}(this._delegate):function(e){e=BN(e,QN);var t=BN(e.firestore,rR),n=iR(t),r=new kP(t);return KR(e._query),LN(n,e._query).then((function(n){return new mP(t,r,e,n)}))}(this._delegate),t.then((function(e){return new ZP(n.firestore,new mP(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=HP(n),a=QP(n,(function(t){return new ZP(e.firestore,new mP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return _P(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),JP=function(){function e(t,n){no(this,e),this._firestore=t,this._delegate=n}return io(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new YP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),ZP=function(){function e(t,n){no(this,e),this._firestore=t,this._delegate=n}return io(e,[{key:"query",get:function(){return new XP(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new YP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new JP(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new YP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return gP(this._delegate,e._delegate)}}]),e}(),eD=function(e){oo(n,e);var t=co(n);function n(e,r){var i;return no(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return io(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new KP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new KP(this.firestore,void 0===e?XN(this._delegate):XN(this._delegate,e))}catch(t){throw GP(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=BN(e.firestore,rR),r=XN(e),i=fP(e.converter,t);return EP(n,[IR(xR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,r_.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new KP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return JN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(WP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(XP);function tD(e){return BN(e,HN)}var nD=function(){function e(){no(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=lo(dR,n)}return io(e,[{key:"isEqual",value:function(e){return(e=Bo(e))instanceof dR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Db.keyField().canonicalString())}}]),e}(),rD=function(){function e(t){no(this,e),this._delegate=t}return io(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ER("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new _R("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=PP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=DP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new AR("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),iD={Firestore:zP,GeoPoint:vR,Timestamp:Cb,Blob:FP,Transaction:BP,WriteBatch:qP,DocumentReference:KP,DocumentSnapshot:$P,Query:XP,QueryDocumentSnapshot:YP,QuerySnapshot:ZP,CollectionReference:eD,FieldPath:nD,FieldValue:rD,setLogLevel:function(e){!function(e){rb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Go("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},iD)))}(e,(function(e,t){return new zP(e,t,new UP)})),e.registerVersion("@firebase/firestore-compat","0.3.7")}(ws);var aD=ws.initializeApp({apiKey:"AIzaSyC_j9amNPHyXHMNxzt7kXsElpFPrMtj5gA",authDomain:"todo-app-4786e.firebaseapp.com",projectId:"todo-app-4786e",storageBucket:"todo-app-4786e.appspot.com",messagingSenderId:"465374354330",appId:"1:465374354330:web:cc52781e026c2a3bc2b823",measurementId:"G-XGQH9FLHBP"}).firestore();var oD=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){aD.collection("todos").orderBy("timestamp","desc").onSnapshot((function(e){r(e.docs.map((function(e){return e.data().todo})))}))}),[]),(0,yr.jsxs)("div",{className:"App",children:[(0,yr.jsx)("h1",{children:" Hello Guys"}),(0,yr.jsxs)("form",{children:[(0,yr.jsxs)(wr,{children:[(0,yr.jsx)(Or,{children:"Write you todos"}),(0,yr.jsx)(mi,{value:a,onChange:function(e){return o(e.target.value)}})]}),(0,yr.jsx)(ya,{disabled:!a,variant:"contained",type:"submit",onClick:function(e){e.preventDefault(),aD.collection("todos").add({todo:a,timestamp:ws.firestore.FieldValue.serverTimestamp()}),o("")},children:"Add Tasks"})]}),(0,yr.jsx)("ul",{children:n.map((function(e){return(0,yr.jsx)(to,{text:e})}))})]})},uD=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,yr.jsx)(t.StrictMode,{children:(0,yr.jsx)(oD,{})})),uD()}()}();
//# sourceMappingURL=main.23ce279f.js.map